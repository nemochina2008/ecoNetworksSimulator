<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Stephen Gaito" />

<meta name="date" content="2016-08-15" />

<title>Lorenz Equations</title>

<script src="data:application/x-javascript;base64,KGZ1bmN0aW9uKCkgewogIC8vIElmIHdpbmRvdy5IVE1MV2lkZ2V0cyBpcyBhbHJlYWR5IGRlZmluZWQsIHRoZW4gdXNlIGl0OyBvdGhlcndpc2UgY3JlYXRlIGEKICAvLyBuZXcgb2JqZWN0LiBUaGlzIGFsbG93cyBwcmVjZWRpbmcgY29kZSB0byBzZXQgb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUKICAvLyBpbml0aWFsaXphdGlvbiBwcm9jZXNzICh0aG91Z2ggbm9uZSBjdXJyZW50bHkgZXhpc3QpLgogIHdpbmRvdy5IVE1MV2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cyB8fCB7fTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSB2aWV3ZXIgcGFuZS4gSWYgbm90LCB3ZSdyZSBpbiBhIHdlYiBicm93c2VyLgogIHZhciB2aWV3ZXJNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnZpZXdlck1vZGUgPQogICAgICAvXGJ2aWV3ZXJfcGFuZT0xXGIvLnRlc3Qod2luZG93LmxvY2F0aW9uKTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZS4gSWYgbm90LCBpdCdzIGEgc3RhdGljIGRvY3VtZW50LgogIC8vIE5vdGUgdGhhdCBzdGF0aWMgd2lkZ2V0cyBjYW4gYXBwZWFyIGluIGJvdGggU2hpbnkgYW5kIHN0YXRpYyBtb2RlcywgYnV0CiAgLy8gb2J2aW91c2x5LCBTaGlueSB3aWRnZXRzIGNhbiBvbmx5IGFwcGVhciBpbiBTaGlueSBhcHBzL2RvY3VtZW50cy4KICB2YXIgc2hpbnlNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnNoaW55TW9kZSA9CiAgICAgIHR5cGVvZih3aW5kb3cuU2hpbnkpICE9PSAidW5kZWZpbmVkIiAmJiAhIXdpbmRvdy5TaGlueS5vdXRwdXRCaW5kaW5nczsKCiAgLy8gV2UgY2FuJ3QgY291bnQgb24galF1ZXJ5IGJlaW5nIGF2YWlsYWJsZSwgc28gd2UgaW1wbGVtZW50IG91ciBvd24KICAvLyB2ZXJzaW9uIGlmIG5lY2Vzc2FyeS4KICBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKHR5cGVvZihqUXVlcnkpICE9PSAidW5kZWZpbmVkIiAmJiBzY29wZSBpbnN0YW5jZW9mIGpRdWVyeSkgewogICAgICByZXR1cm4gc2NvcGUuZmluZChzZWxlY3Rvcik7CiAgICB9CiAgICBpZiAoc2NvcGUucXVlcnlTZWxlY3RvckFsbCkgewogICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IG51bGwpCiAgICAgIHJldHVybiBbXTsKICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKQogICAgICByZXR1cm4gdmFsdWU7CiAgICByZXR1cm4gW3ZhbHVlXTsKICB9CgogIC8vIEltcGxlbWVudCBqUXVlcnkncyBleHRlbmQKICBmdW5jdGlvbiBleHRlbmQodGFyZ2V0IC8qLCAuLi4gKi8pIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIC8vIElFOCBkb2Vzbid0IHN1cHBvcnQgQXJyYXkuZm9yRWFjaC4KICBmdW5jdGlvbiBmb3JFYWNoKHZhbHVlcywgY2FsbGJhY2ssIHRoaXNBcmcpIHsKICAgIGlmICh2YWx1ZXMuZm9yRWFjaCkgewogICAgICB2YWx1ZXMuZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZyk7CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWVzW2ldLCBpLCB2YWx1ZXMpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZXBsYWNlcyB0aGUgc3BlY2lmaWVkIG1ldGhvZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgZnVuY1NvdXJjZS4KICAvLwogIC8vIE5vdGUgdGhhdCBmdW5jU291cmNlIHNob3VsZCBub3QgQkUgdGhlIG5ldyBtZXRob2QsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uCiAgLy8gdGhhdCBSRVRVUk5TIHRoZSBuZXcgbWV0aG9kLiBmdW5jU291cmNlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IHRoYXQgaXMKICAvLyB0aGUgb3ZlcnJpZGRlbiBtZXRob2QsIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSB0aGUgbmV3IG1ldGhvZC4gVGhlIG92ZXJyaWRkZW4KICAvLyBtZXRob2QgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiwgaXQgaGFzIHRoZSB0YXJnZXQgcGVybWFuZW50bHkKICAvLyBib3VuZCB0byBpdCBzbyAidGhpcyIgd2lsbCB3b3JrIGNvcnJlY3RseS4KICBmdW5jdGlvbiBvdmVycmlkZU1ldGhvZCh0YXJnZXQsIG1ldGhvZE5hbWUsIGZ1bmNTb3VyY2UpIHsKICAgIHZhciBzdXBlckZ1bmMgPSB0YXJnZXRbbWV0aG9kTmFtZV0gfHwgZnVuY3Rpb24oKSB7fTsKICAgIHZhciBzdXBlckZ1bmNCb3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gc3VwZXJGdW5jLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTsKICAgIH07CiAgICB0YXJnZXRbbWV0aG9kTmFtZV0gPSBmdW5jU291cmNlKHN1cGVyRnVuY0JvdW5kKTsKICB9CgogIC8vIEFkZCBhIG1ldGhvZCB0byBkZWxlZ2F0b3IgdGhhdCwgd2hlbiBpbnZva2VkLCBjYWxscwogIC8vIGRlbGVnYXRlZS5tZXRob2ROYW1lLiBJZiB0aGVyZSBpcyBubyBzdWNoIG1ldGhvZCBvbgogIC8vIHRoZSBkZWxlZ2F0ZWUsIGJ1dCB0aGVyZSB3YXMgb25lIG9uIGRlbGVnYXRvciBiZWZvcmUKICAvLyBkZWxlZ2F0ZU1ldGhvZCB3YXMgY2FsbGVkLCB0aGVuIHRoZSBvcmlnaW5hbCB2ZXJzaW9uCiAgLy8gaXMgaW52b2tlZCBpbnN0ZWFkLgogIC8vIEZvciBleGFtcGxlOgogIC8vCiAgLy8gdmFyIGEgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2ExJyk7IH0KICAvLyAgIG1ldGhvZDI6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnYTInKTsgfQogIC8vIH07CiAgLy8gdmFyIGIgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2IxJyk7IH0KICAvLyB9OwogIC8vIGRlbGVnYXRlTWV0aG9kKGEsIGIsICJtZXRob2QxIik7CiAgLy8gZGVsZWdhdGVNZXRob2QoYSwgYiwgIm1ldGhvZDIiKTsKICAvLyBhLm1ldGhvZDEoKTsKICAvLyBhLm1ldGhvZDIoKTsKICAvLwogIC8vIFRoZSBvdXRwdXQgd291bGQgYmUgImIxIiwgImEyIi4KICBmdW5jdGlvbiBkZWxlZ2F0ZU1ldGhvZChkZWxlZ2F0b3IsIGRlbGVnYXRlZSwgbWV0aG9kTmFtZSkgewogICAgdmFyIGluaGVyaXRlZCA9IGRlbGVnYXRvclttZXRob2ROYW1lXTsKICAgIGRlbGVnYXRvclttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdGFyZ2V0ID0gZGVsZWdhdGVlOwogICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGVlW21ldGhvZE5hbWVdOwoKICAgICAgLy8gVGhlIG1ldGhvZCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBkZWxlZ2F0ZWUuIEluc3RlYWQsCiAgICAgIC8vIGNhbGwgdGhlIG1ldGhvZCBvbiB0aGUgZGVsZWdhdG9yLCBpZiBpdCBleGlzdHMuCiAgICAgIGlmICghbWV0aG9kKSB7CiAgICAgICAgdGFyZ2V0ID0gZGVsZWdhdG9yOwogICAgICAgIG1ldGhvZCA9IGluaGVyaXRlZDsKICAgICAgfQoKICAgICAgaWYgKG1ldGhvZCkgewogICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9OwogIH0KCiAgLy8gSW1wbGVtZW50IGEgdmFndWUgZmFjc2ltaWxpZSBvZiBqUXVlcnkncyBkYXRhIG1ldGhvZAogIGZ1bmN0aW9uIGVsZW1lbnREYXRhKGVsLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICByZXR1cm4gZWxbImh0bWx3aWRnZXRfZGF0YV8iICsgbmFtZV07CiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMykgewogICAgICBlbFsiaHRtbHdpZGdldF9kYXRhXyIgKyBuYW1lXSA9IHZhbHVlOwogICAgICByZXR1cm4gZWw7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIGVsZW1lbnREYXRhOiAiICsKICAgICAgICBhcmd1bWVudHMubGVuZ3RoKTsKICAgIH0KICB9CgogIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ0NjE3MC9lc2NhcGUtc3RyaW5nLWZvci11c2UtaW4tamF2YXNjcmlwdC1yZWdleAogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAiXFwkJiIpOwogIH0KCiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkgewogICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgiXFxiIiArIGVzY2FwZVJlZ0V4cChjbGFzc05hbWUpICsgIlxcYiIpOwogICAgcmV0dXJuIHJlLnRlc3QoZWwuY2xhc3NOYW1lKTsKICB9CgogIC8vIGVsZW1lbnRzIC0gYXJyYXkgKG9yIGFycmF5LWxpa2Ugb2JqZWN0KSBvZiBIVE1MIGVsZW1lbnRzCiAgLy8gY2xhc3NOYW1lIC0gY2xhc3MgbmFtZSB0byB0ZXN0IGZvcgogIC8vIGluY2x1ZGUgLSBpZiB0cnVlLCBvbmx5IHJldHVybiBlbGVtZW50cyB3aXRoIGdpdmVuIGNsYXNzTmFtZTsKICAvLyAgIGlmIGZhbHNlLCBvbmx5IHJldHVybiBlbGVtZW50cyAqd2l0aG91dCogZ2l2ZW4gY2xhc3NOYW1lCiAgZnVuY3Rpb24gZmlsdGVyQnlDbGFzcyhlbGVtZW50cywgY2xhc3NOYW1lLCBpbmNsdWRlKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaGFzQ2xhc3MoZWxlbWVudHNbaV0sIGNsYXNzTmFtZSkgPT0gaW5jbHVkZSkKICAgICAgICByZXN1bHRzLnB1c2goZWxlbWVudHNbaV0pOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBvbihvYmosIGV2ZW50TmFtZSwgZnVuYykgewogICAgaWYgKG9iai5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpOwogICAgfSBlbHNlIGlmIChvYmouYXR0YWNoRXZlbnQpIHsKICAgICAgb2JqLmF0dGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvZmYob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsKICAgIGlmIChvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcikKICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jLCBmYWxzZSk7CiAgICBlbHNlIGlmIChvYmouZGV0YWNoRXZlbnQpIHsKICAgICAgb2JqLmRldGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICAvLyBUcmFuc2xhdGUgYXJyYXkgb2YgdmFsdWVzIHRvIHRvcC9yaWdodC9ib3R0b20vbGVmdCwgYXMgdXN1YWwgd2l0aAogIC8vIHRoZSAicGFkZGluZyIgQ1NTIHByb3BlcnR5CiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3BhZGRpbmcKICBmdW5jdGlvbiB1bnBhY2tQYWRkaW5nKHZhbHVlKSB7CiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gIm51bWJlciIpCiAgICAgIHZhbHVlID0gW3ZhbHVlXTsKICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMF0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzBdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzNdfTsKICAgIH0KICB9CgogIC8vIENvbnZlcnQgYW4gdW5wYWNrZWQgcGFkZGluZyBvYmplY3QgdG8gYSBDU1MgdmFsdWUKICBmdW5jdGlvbiBwYWRkaW5nVG9Dc3MocGFkZGluZ09iaikgewogICAgcmV0dXJuIHBhZGRpbmdPYmoudG9wICsgInB4ICIgKyBwYWRkaW5nT2JqLnJpZ2h0ICsgInB4ICIgKyBwYWRkaW5nT2JqLmJvdHRvbSArICJweCAiICsgcGFkZGluZ09iai5sZWZ0ICsgInB4IjsKICB9CgogIC8vIE1ha2VzIGEgbnVtYmVyIHN1aXRhYmxlIGZvciBDU1MKICBmdW5jdGlvbiBweCh4KSB7CiAgICBpZiAodHlwZW9mKHgpID09PSAibnVtYmVyIikKICAgICAgcmV0dXJuIHggKyAicHgiOwogICAgZWxzZQogICAgICByZXR1cm4geDsKICB9CgogIC8vIFJldHJpZXZlcyBydW50aW1lIHdpZGdldCBzaXppbmcgaW5mb3JtYXRpb24gZm9yIGFuIGVsZW1lbnQuCiAgLy8gVGhlIHJldHVybiB2YWx1ZSBpcyBlaXRoZXIgbnVsbCwgb3IgYW4gb2JqZWN0IHdpdGggZmlsbCwgcGFkZGluZywKICAvLyBkZWZhdWx0V2lkdGgsIGRlZmF1bHRIZWlnaHQgZmllbGRzLgogIGZ1bmN0aW9uIHNpemluZ1BvbGljeShlbCkgewogICAgdmFyIHNpemluZ0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vaHRtbHdpZGdldC1zaXppbmcnXSIpOwogICAgaWYgKCFzaXppbmdFbCkKICAgICAgcmV0dXJuIG51bGw7CiAgICB2YXIgc3AgPSBKU09OLnBhcnNlKHNpemluZ0VsLnRleHRDb250ZW50IHx8IHNpemluZ0VsLnRleHQgfHwgInt9Iik7CiAgICBpZiAodmlld2VyTW9kZSkgewogICAgICByZXR1cm4gc3Audmlld2VyOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHNwLmJyb3dzZXI7CiAgICB9CiAgfQoKICAvLyBAcGFyYW0gdGFza3MgQXJyYXkgb2Ygc3RyaW5ncyAob3IgZmFsc3kgdmFsdWUsIGluIHdoaWNoIGNhc2Ugbm8tb3ApLgogIC8vICAgRWFjaCBlbGVtZW50IG11c3QgYmUgYSB2YWxpZCBKYXZhU2NyaXB0IGV4cHJlc3Npb24gdGhhdCB5aWVsZHMgYQogIC8vICAgZnVuY3Rpb24uIE9yLCBjYW4gYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoICJjb2RlIiBhbmQgImRhdGEiCiAgLy8gICBwcm9wZXJ0aWVzOyBpbiB0aGlzIGNhc2UsIHRoZSAiY29kZSIgcHJvcGVydHkgc2hvdWxkIGJlIGEgc3RyaW5nCiAgLy8gICBvZiBKUyB0aGF0J3MgYW4gZXhwciB0aGF0IHlpZWxkcyBhIGZ1bmN0aW9uLCBhbmQgImRhdGEiIHNob3VsZCBiZQogIC8vICAgYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhZGRlZCBhcyBhbiBhZGRpdGlvbmFsIGFyZ3VtZW50IHdoZW4gdGhhdAogIC8vICAgZnVuY3Rpb24gaXMgY2FsbGVkLgogIC8vIEBwYXJhbSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgInRoaXMiIGZvciBlYWNoIGZ1bmN0aW9uCiAgLy8gICBleGVjdXRpb24uCiAgLy8gQHBhcmFtIGFyZ3MgQXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zLiAoVGhlCiAgLy8gICBzYW1lIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBhbGwgZnVuY3Rpb25zLikKICBmdW5jdGlvbiBldmFsQW5kUnVuKHRhc2tzLCB0YXJnZXQsIGFyZ3MpIHsKICAgIGlmICh0YXNrcykgewogICAgICBmb3JFYWNoKHRhc2tzLCBmdW5jdGlvbih0YXNrKSB7CiAgICAgICAgdmFyIHRoZXNlQXJncyA9IGFyZ3M7CiAgICAgICAgaWYgKHR5cGVvZih0YXNrKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIHRoZXNlQXJncyA9IHRoZXNlQXJncy5jb25jYXQoW3Rhc2suZGF0YV0pOwogICAgICAgICAgdGFzayA9IHRhc2suY29kZTsKICAgICAgICB9CiAgICAgICAgdmFyIHRhc2tGdW5jID0gZXZhbCgiKCIgKyB0YXNrICsgIikiKTsKICAgICAgICBpZiAodHlwZW9mKHRhc2tGdW5jKSAhPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJUYXNrIG11c3QgYmUgYSBmdW5jdGlvbiEgU291cmNlOlxuIiArIHRhc2spOwogICAgICAgIH0KICAgICAgICB0YXNrRnVuYy5hcHBseSh0YXJnZXQsIHRoZXNlQXJncyk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5pdFNpemluZyhlbCkgewogICAgdmFyIHNpemluZyA9IHNpemluZ1BvbGljeShlbCk7CiAgICBpZiAoIXNpemluZykKICAgICAgcmV0dXJuOwoKICAgIHZhciBjZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaHRtbHdpZGdldF9jb250YWluZXIiKTsKICAgIGlmICghY2VsKQogICAgICByZXR1cm47CgogICAgaWYgKHR5cGVvZihzaXppbmcucGFkZGluZykgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gIjAiOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmcgPSBwYWRkaW5nVG9Dc3ModW5wYWNrUGFkZGluZyhzaXppbmcucGFkZGluZykpOwogICAgfQoKICAgIGlmIChzaXppbmcuZmlsbCkgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSAiMTAwJSI7CiAgICAgIGlmIChjZWwpIHsKICAgICAgICBjZWwuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwogICAgICAgIHZhciBwYWQgPSB1bnBhY2tQYWRkaW5nKHNpemluZy5wYWRkaW5nKTsKICAgICAgICBjZWwuc3R5bGUudG9wID0gcGFkLnRvcCArICJweCI7CiAgICAgICAgY2VsLnN0eWxlLnJpZ2h0ID0gcGFkLnJpZ2h0ICsgInB4IjsKICAgICAgICBjZWwuc3R5bGUuYm90dG9tID0gcGFkLmJvdHRvbSArICJweCI7CiAgICAgICAgY2VsLnN0eWxlLmxlZnQgPSBwYWQubGVmdCArICJweCI7CiAgICAgICAgZWwuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGdldFdpZHRoOiBmdW5jdGlvbigpIHsgcmV0dXJuIGNlbC5vZmZzZXRXaWR0aDsgfSwKICAgICAgICBnZXRIZWlnaHQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2VsLm9mZnNldEhlaWdodDsgfQogICAgICB9OwoKICAgIH0gZWxzZSB7CiAgICAgIGVsLnN0eWxlLndpZHRoID0gcHgoc2l6aW5nLndpZHRoKTsKICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gcHgoc2l6aW5nLmhlaWdodCk7CgogICAgICByZXR1cm4gewogICAgICAgIGdldFdpZHRoOiBmdW5jdGlvbigpIHsgcmV0dXJuIGVsLm9mZnNldFdpZHRoOyB9LAogICAgICAgIGdldEhlaWdodDogZnVuY3Rpb24oKSB7IHJldHVybiBlbC5vZmZzZXRIZWlnaHQ7IH0KICAgICAgfTsKICAgIH0KICB9CgogIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb25zIGZvciBtZXRob2RzCiAgdmFyIGRlZmF1bHRzID0gewogICAgZmluZDogZnVuY3Rpb24oc2NvcGUpIHsKICAgICAgcmV0dXJuIHF1ZXJ5U2VsZWN0b3JBbGwoc2NvcGUsICIuIiArIHRoaXMubmFtZSk7CiAgICB9LAogICAgcmVuZGVyRXJyb3I6IGZ1bmN0aW9uKGVsLCBlcnIpIHsKICAgICAgdmFyICRlbCA9ICQoZWwpOwoKICAgICAgdGhpcy5jbGVhckVycm9yKGVsKTsKCiAgICAgIC8vIEFkZCBhbGwgdGhlc2UgZXJyb3IgY2xhc3NlcywgYXMgU2hpbnkgZG9lcwogICAgICB2YXIgZXJyQ2xhc3MgPSAic2hpbnktb3V0cHV0LWVycm9yIjsKICAgICAgaWYgKGVyci50eXBlICE9PSBudWxsKSB7CiAgICAgICAgLy8gdXNlIHRoZSBjbGFzc2VzIG9mIHRoZSBlcnJvciBjb25kaXRpb24gYXMgQ1NTIGNsYXNzIG5hbWVzCiAgICAgICAgZXJyQ2xhc3MgPSBlcnJDbGFzcyArICIgIiArICQubWFwKGFzQXJyYXkoZXJyLnR5cGUpLCBmdW5jdGlvbih0eXBlKSB7CiAgICAgICAgICByZXR1cm4gZXJyQ2xhc3MgKyAiLSIgKyB0eXBlOwogICAgICAgIH0pLmpvaW4oIiAiKTsKICAgICAgfQogICAgICBlcnJDbGFzcyA9IGVyckNsYXNzICsgIiBodG1sd2lkZ2V0cy1lcnJvciI7CgogICAgICAvLyBJcyBlbCBpbmxpbmUgb3IgYmxvY2s/IElmIGlubGluZSBvciBpbmxpbmUtYmxvY2ssIGp1c3QgZGlzcGxheTpub25lIGl0CiAgICAgIC8vIGFuZCBhZGQgYW4gaW5saW5lIGVycm9yLgogICAgICB2YXIgZGlzcGxheSA9ICRlbC5jc3MoImRpc3BsYXkiKTsKICAgICAgJGVsLmRhdGEoInJlc3RvcmUtZGlzcGxheS1tb2RlIiwgZGlzcGxheSk7CgogICAgICBpZiAoZGlzcGxheSA9PT0gImlubGluZSIgfHwgZGlzcGxheSA9PT0gImlubGluZS1ibG9jayIpIHsKICAgICAgICAkZWwuaGlkZSgpOwogICAgICAgIGlmIChlcnIubWVzc2FnZSAhPT0gIiIpIHsKICAgICAgICAgIHZhciBlcnJvclNwYW4gPSAkKCI8c3Bhbj4iKS5hZGRDbGFzcyhlcnJDbGFzcyk7CiAgICAgICAgICBlcnJvclNwYW4udGV4dChlcnIubWVzc2FnZSk7CiAgICAgICAgICAkZWwuYWZ0ZXIoZXJyb3JTcGFuKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoZGlzcGxheSA9PT0gImJsb2NrIikgewogICAgICAgIC8vIElmIGJsb2NrLCBhZGQgYW4gZXJyb3IganVzdCBhZnRlciB0aGUgZWwsIHNldCB2aXNpYmlsaXR5Om5vbmUgb24gdGhlCiAgICAgICAgLy8gZWwsIGFuZCBwb3NpdGlvbiB0aGUgZXJyb3IgdG8gYmUgb24gdG9wIG9mIHRoZSBlbC4KICAgICAgICAvLyBNYXJrIGl0IHdpdGggYSB1bmlxdWUgSUQgYW5kIENTUyBjbGFzcyBzbyB3ZSBjYW4gcmVtb3ZlIGl0IGxhdGVyLgogICAgICAgICRlbC5jc3MoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7CiAgICAgICAgaWYgKGVyci5tZXNzYWdlICE9PSAiIikgewogICAgICAgICAgdmFyIGVycm9yRGl2ID0gJCgiPGRpdj4iKS5hZGRDbGFzcyhlcnJDbGFzcykuY3NzKCJwb3NpdGlvbiIsICJhYnNvbHV0ZSIpCiAgICAgICAgICAgIC5jc3MoInRvcCIsIGVsLm9mZnNldFRvcCkKICAgICAgICAgICAgLmNzcygibGVmdCIsIGVsLm9mZnNldExlZnQpCiAgICAgICAgICAgIC8vIHNldHRpbmcgd2lkdGggY2FuIHB1c2ggb3V0IHRoZSBwYWdlIHNpemUsIGZvcmNpbmcgb3RoZXJ3aXNlCiAgICAgICAgICAgIC8vIHVubmVjZXNzYXJ5IHNjcm9sbGJhcnMgdG8gYXBwZWFyIGFuZCBtYWtpbmcgaXQgaW1wb3NzaWJsZSBmb3IKICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnQgdG8gc2hyaW5rOyBzbyB1c2UgbWF4LXdpZHRoIGluc3RlYWQKICAgICAgICAgICAgLmNzcygibWF4V2lkdGgiLCBlbC5vZmZzZXRXaWR0aCkKICAgICAgICAgICAgLmNzcygiaGVpZ2h0IiwgZWwub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgIGVycm9yRGl2LnRleHQoZXJyLm1lc3NhZ2UpOwogICAgICAgICAgJGVsLmFmdGVyKGVycm9yRGl2KTsKCiAgICAgICAgICAvLyBSZWFsbHkgZHVtYiB3YXkgdG8ga2VlcCB0aGUgc2l6ZS9wb3NpdGlvbiBvZiB0aGUgZXJyb3IgaW4gc3luYyB3aXRoCiAgICAgICAgICAvLyB0aGUgcGFyZW50IGVsZW1lbnQgYXMgdGhlIHdpbmRvdyBpcyByZXNpemVkIG9yIHdoYXRldmVyLgogICAgICAgICAgdmFyIGludElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmICghZXJyb3JEaXZbMF0ucGFyZW50RWxlbWVudCkgewogICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50SWQpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvckRpdgogICAgICAgICAgICAgIC5jc3MoInRvcCIsIGVsLm9mZnNldFRvcCkKICAgICAgICAgICAgICAuY3NzKCJsZWZ0IiwgZWwub2Zmc2V0TGVmdCkKICAgICAgICAgICAgICAuY3NzKCJtYXhXaWR0aCIsIGVsLm9mZnNldFdpZHRoKQogICAgICAgICAgICAgIC5jc3MoImhlaWdodCIsIGVsLm9mZnNldEhlaWdodCk7CiAgICAgICAgICB9LCA1MDApOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNsZWFyRXJyb3I6IGZ1bmN0aW9uKGVsKSB7CiAgICAgIHZhciAkZWwgPSAkKGVsKTsKICAgICAgdmFyIGRpc3BsYXkgPSAkZWwuZGF0YSgicmVzdG9yZS1kaXNwbGF5LW1vZGUiKTsKICAgICAgJGVsLmRhdGEoInJlc3RvcmUtZGlzcGxheS1tb2RlIiwgbnVsbCk7CgogICAgICBpZiAoZGlzcGxheSA9PT0gImlubGluZSIgfHwgZGlzcGxheSA9PT0gImlubGluZS1ibG9jayIpIHsKICAgICAgICBpZiAoZGlzcGxheSkKICAgICAgICAgICRlbC5jc3MoImRpc3BsYXkiLCBkaXNwbGF5KTsKICAgICAgICAkKGVsLm5leHRTaWJsaW5nKS5maWx0ZXIoIi5odG1sd2lkZ2V0cy1lcnJvciIpLnJlbW92ZSgpOwogICAgICB9IGVsc2UgaWYgKGRpc3BsYXkgPT09ICJibG9jayIpewogICAgICAgICRlbC5jc3MoInZpc2liaWxpdHkiLCAiaW5oZXJpdCIpOwogICAgICAgICQoZWwubmV4dFNpYmxpbmcpLmZpbHRlcigiLmh0bWx3aWRnZXRzLWVycm9yIikucmVtb3ZlKCk7CiAgICAgIH0KICAgIH0sCiAgICBzaXppbmc6IHt9CiAgfTsKCiAgLy8gQ2FsbGVkIGJ5IHdpZGdldCBiaW5kaW5ncyB0byByZWdpc3RlciBhIG5ldyB0eXBlIG9mIHdpZGdldC4gVGhlIGRlZmluaXRpb24KICAvLyBvYmplY3QgY2FuIGNvbnRhaW4gdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOgogIC8vIC0gbmFtZSAocmVxdWlyZWQpIC0gQSBzdHJpbmcgaW5kaWNhdGluZyB0aGUgYmluZGluZyBuYW1lLCB3aGljaCB3aWxsIGJlCiAgLy8gICB1c2VkIGJ5IGRlZmF1bHQgYXMgdGhlIENTUyBjbGFzc25hbWUgdG8gbG9vayBmb3IuCiAgLy8gLSBpbml0aWFsaXplIChvcHRpb25hbCkgLSBBIGZ1bmN0aW9uKGVsKSB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uY2UgcGVyCiAgLy8gICB3aWRnZXQgZWxlbWVudDsgaWYgYSB2YWx1ZSBpcyByZXR1cm5lZCwgaXQgd2lsbCBiZSBwYXNzZWQgYXMgdGhlIHRoaXJkCiAgLy8gICB2YWx1ZSB0byByZW5kZXJWYWx1ZS4KICAvLyAtIHJlbmRlclZhbHVlIChyZXF1aXJlZCkgLSBBIGZ1bmN0aW9uKGVsLCBkYXRhLCBpbml0VmFsdWUpIHRoYXQgd2lsbCBiZQogIC8vICAgY2FsbGVkIHdpdGggZGF0YS4gU3RhdGljIGNvbnRleHRzIHdpbGwgY2F1c2UgdGhpcyB0byBiZSBjYWxsZWQgb25jZSBwZXIKICAvLyAgIGVsZW1lbnQ7IFNoaW55IGFwcHMgd2lsbCBjYXVzZSB0aGlzIHRvIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBwZXIKICAvLyAgIGVsZW1lbnQsIGFzIHRoZSBkYXRhIGNoYW5nZXMuCiAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldCA9IGZ1bmN0aW9uKGRlZmluaXRpb24pIHsKICAgIGlmICghZGVmaW5pdGlvbi5uYW1lKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiV2lkZ2V0IG11c3QgaGF2ZSBhIG5hbWUiKTsKICAgIH0KICAgIGlmICghZGVmaW5pdGlvbi50eXBlKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiV2lkZ2V0IG11c3QgaGF2ZSBhIHR5cGUiKTsKICAgIH0KICAgIC8vIEN1cnJlbnRseSB3ZSBvbmx5IHN1cHBvcnQgb3V0cHV0IHdpZGdldHMKICAgIGlmIChkZWZpbml0aW9uLnR5cGUgIT09ICJvdXRwdXQiKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIHdpZGdldCB0eXBlICciICsgZGVmaW5pdGlvbi50eXBlICsgIiciKTsKICAgIH0KICAgIC8vIFRPRE86IFZlcmlmeSB0aGF0IC5uYW1lIGlzIGEgdmFsaWQgQ1NTIGNsYXNzbmFtZQoKICAgIC8vIFN1cHBvcnQgbmV3LXN0eWxlIGluc3RhbmNlLWJvdW5kIGRlZmluaXRpb25zLiBPbGQtc3R5bGUgY2xhc3MtYm91bmQKICAgIC8vIGRlZmluaXRpb25zIGhhdmUgb25lIHdpZGdldCAib2JqZWN0IiBwZXIgd2lkZ2V0IHBlciB0eXBlL2NsYXNzIG9mCiAgICAvLyB3aWRnZXQ7IHRoZSByZW5kZXJWYWx1ZSBhbmQgcmVzaXplIG1ldGhvZHMgb24gc3VjaCB3aWRnZXQgb2JqZWN0cwogICAgLy8gdGFrZSBlbCBhbmQgaW5zdGFuY2UgYXJndW1lbnRzLCBiZWNhdXNlIHRoZSB3aWRnZXQgb2JqZWN0IGNhbid0CiAgICAvLyBzdG9yZSB0aGVtLiBOZXctc3R5bGUgaW5zdGFuY2UtYm91bmQgZGVmaW5pdGlvbnMgaGF2ZSBvbmUgd2lkZ2V0CiAgICAvLyBvYmplY3QgcGVyIHdpZGdldCBpbnN0YW5jZTsgdGhlIGRlZmluaXRpb24gdGhhdCdzIHBhc3NlZCBpbiBkb2Vzbid0CiAgICAvLyBwcm92aWRlIHJlbmRlclZhbHVlIG9yIHJlc2l6ZSBtZXRob2RzIGF0IGFsbCwganVzdCB0aGUgc2luZ2xlIG1ldGhvZAogICAgLy8gICBmYWN0b3J5KGVsLCB3aWR0aCwgaGVpZ2h0KQogICAgLy8gd2hpY2ggcmV0dXJucyBhbiBvYmplY3QgdGhhdCBoYXMgcmVuZGVyVmFsdWUoeCkgYW5kIHJlc2l6ZSh3LCBoKS4KICAgIC8vIFRoaXMgZW5hYmxlcyBhIGZhciBtb3JlIG5hdHVyYWwgcHJvZ3JhbW1pbmcgc3R5bGUgZm9yIHRoZSB3aWRnZXQKICAgIC8vIGF1dGhvciwgd2hvIGNhbiBzdG9yZSBwZXItaW5zdGFuY2Ugc3RhdGUgdXNpbmcgZWl0aGVyIE9PLXN0eWxlCiAgICAvLyBpbnN0YW5jZSBmaWVsZHMgb3IgZnVuY3Rpb25hbC1zdHlsZSBjbG9zdXJlIHZhcmlhYmxlcyAoSSBndWVzcyB0aGlzCiAgICAvLyBpcyBpbiBjb250cmFzdCB0byB3aGF0IGNhbiBvbmx5IGJlIGNhbGxlZCBDLXN0eWxlIHBzZXVkby1PTyB3aGljaCBpcwogICAgLy8gd2hhdCB3ZSByZXF1aXJlZCBiZWZvcmUpLgogICAgaWYgKGRlZmluaXRpb24uZmFjdG9yeSkgewogICAgICBkZWZpbml0aW9uID0gY3JlYXRlTGVnYWN5RGVmaW5pdGlvbkFkYXB0ZXIoZGVmaW5pdGlvbik7CiAgICB9CgogICAgaWYgKCFkZWZpbml0aW9uLnJlbmRlclZhbHVlKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiV2lkZ2V0IG11c3QgaGF2ZSBhIHJlbmRlclZhbHVlIGZ1bmN0aW9uIik7CiAgICB9CgogICAgLy8gRm9yIHN0YXRpYyByZW5kZXJpbmcgKG5vbi1TaGlueSksIHVzZSBhIHNpbXBsZSB3aWRnZXQgcmVnaXN0cmF0aW9uCiAgICAvLyBzY2hlbWUuIFdlIGFsc28gdXNlIHRoaXMgc2NoZW1lIGZvciBTaGlueSBhcHBzL2RvY3VtZW50cyB0aGF0IGFsc28KICAgIC8vIGNvbnRhaW4gc3RhdGljIHdpZGdldHMuCiAgICB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzIHx8IFtdOwogICAgLy8gTWVyZ2UgZGVmYXVsdHMgaW50byB0aGUgZGVmaW5pdGlvbjsgZG9uJ3QgbXV0YXRlIHRoZSBvcmlnaW5hbCBkZWZpbml0aW9uLgogICAgdmFyIHN0YXRpY0JpbmRpbmcgPSBleHRlbmQoe30sIGRlZmF1bHRzLCBkZWZpbml0aW9uKTsKICAgIG92ZXJyaWRlTWV0aG9kKHN0YXRpY0JpbmRpbmcsICJmaW5kIiwgZnVuY3Rpb24oc3VwZXJmdW5jKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSkgewogICAgICAgIHZhciByZXN1bHRzID0gc3VwZXJmdW5jKHNjb3BlKTsKICAgICAgICAvLyBGaWx0ZXIgb3V0IFNoaW55IG91dHB1dHMsIHdlIG9ubHkgd2FudCB0aGUgc3RhdGljIGtpbmQKICAgICAgICByZXR1cm4gZmlsdGVyQnlDbGFzcyhyZXN1bHRzLCAiaHRtbC13aWRnZXQtb3V0cHV0IiwgZmFsc2UpOwogICAgICB9OwogICAgfSk7CiAgICB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cy5wdXNoKHN0YXRpY0JpbmRpbmcpOwoKICAgIGlmIChzaGlueU1vZGUpIHsKICAgICAgLy8gU2hpbnkgaXMgcnVubmluZy4gUmVnaXN0ZXIgdGhlIGRlZmluaXRpb24gd2l0aCBhbiBvdXRwdXQgYmluZGluZy4KICAgICAgLy8gVGhlIGRlZmluaXRpb24gaXRzZWxmIHdpbGwgbm90IGJlIHRoZSBvdXRwdXQgYmluZGluZywgaW5zdGVhZAogICAgICAvLyB3ZSB3aWxsIG1ha2UgYW4gb3V0cHV0IGJpbmRpbmcgb2JqZWN0IHRoYXQgZGVsZWdhdGVzIHRvIHRoZQogICAgICAvLyBkZWZpbml0aW9uLiBUaGlzIGlzIGJlY2F1c2Ugd2UgZm9vbGlzaGx5IHVzZWQgdGhlIHNhbWUgbWV0aG9kCiAgICAgIC8vIG5hbWUgKHJlbmRlclZhbHVlKSBmb3IgaHRtbHdpZGdldHMgZGVmaW5pdGlvbiBhbmQgU2hpbnkgYmluZGluZ3MKICAgICAgLy8gYnV0IHRoZXkgYWN0dWFsbHkgaGF2ZSBxdWl0ZSBkaWZmZXJlbnQgc2VtYW50aWNzICh0aGUgU2hpbnkKICAgICAgLy8gYmluZGluZ3MgcmVjZWl2ZSBkYXRhIHRoYXQgaW5jbHVkZXMgbG90cyBvZiBtZXRhZGF0YSB0aGF0IGl0CiAgICAgIC8vIHN0cmlwcyBvZmYgYmVmb3JlIGNhbGxpbmcgaHRtbHdpZGdldHMgcmVuZGVyVmFsdWUpLiBXZSBjYW4ndAogICAgICAvLyBqdXN0IGlnbm9yZSB0aGUgZGlmZmVyZW5jZSBiZWNhdXNlIGluIHNvbWUgd2lkZ2V0cyBpdCdzIGhlbHBmdWwKICAgICAgLy8gdG8gY2FsbCB0aGlzLnJlbmRlclZhbHVlKCkgZnJvbSBpbnNpZGUgb2YgcmVzaXplKCksIGFuZCBpZgogICAgICAvLyB3ZSdyZSBub3QgZGVsZWdhdGluZywgdGhlbiB0aGF0IGNhbGwgd2lsbCBnbyB0byB0aGUgU2hpbnkKICAgICAgLy8gdmVyc2lvbiBpbnN0ZWFkIG9mIHRoZSBodG1sd2lkZ2V0cyB2ZXJzaW9uLgoKICAgICAgLy8gTWVyZ2UgZGVmYXVsdHMgd2l0aCBkZWZpbml0aW9uLCB3aXRob3V0IG11dGF0aW5nIGVpdGhlci4KICAgICAgdmFyIGJpbmRpbmdEZWYgPSBleHRlbmQoe30sIGRlZmF1bHRzLCBkZWZpbml0aW9uKTsKCiAgICAgIC8vIFRoaXMgb2JqZWN0IHdpbGwgYmUgb3VyIGFjdHVhbCBTaGlueSBiaW5kaW5nLgogICAgICB2YXIgc2hpbnlCaW5kaW5nID0gbmV3IFNoaW55Lk91dHB1dEJpbmRpbmcoKTsKCiAgICAgIC8vIFdpdGggYSBmZXcgZXhjZXB0aW9ucywgd2UnbGwgd2FudCB0byBzaW1wbHkgdXNlIHRoZSBiaW5kaW5nRGVmJ3MKICAgICAgLy8gdmVyc2lvbiBvZiBtZXRob2RzIGlmIHRoZXkgYXJlIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGZhbGwgYmFjayB0bwogICAgICAvLyBTaGlueSdzIGRlZmF1bHRzLiBOT1RFOiBJZiBTaGlueSdzIG91dHB1dCBiaW5kaW5ncyBnYWluIGFkZGl0aW9uYWwKICAgICAgLy8gbWV0aG9kcyBpbiB0aGUgZnV0dXJlLCBhbmQgd2Ugd2FudCB0aGVtIHRvIGJlIG92ZXJyaWRlYWJsZSBieQogICAgICAvLyBIVE1MV2lkZ2V0IGJpbmRpbmcgZGVmaW5pdGlvbnMsIHRoZW4gd2UnbGwgbmVlZCB0byBhZGQgdGhlbSB0byB0aGlzCiAgICAgIC8vIGxpc3QuCiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgImdldElkIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgIm9uVmFsdWVDaGFuZ2UiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAib25WYWx1ZUVycm9yIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgInJlbmRlckVycm9yIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgImNsZWFyRXJyb3IiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAic2hvd1Byb2dyZXNzIik7CgogICAgICAvLyBUaGUgZmluZCwgcmVuZGVyVmFsdWUsIGFuZCByZXNpemUgYXJlIGhhbmRsZWQgZGlmZmVyZW50bHksIGJlY2F1c2Ugd2UKICAgICAgLy8gd2FudCB0byBhY3R1YWxseSBkZWNvcmF0ZSB0aGUgYmVoYXZpb3Igb2YgdGhlIGJpbmRpbmdEZWYgbWV0aG9kcy4KCiAgICAgIHNoaW55QmluZGluZy5maW5kID0gZnVuY3Rpb24oc2NvcGUpIHsKICAgICAgICB2YXIgcmVzdWx0cyA9IGJpbmRpbmdEZWYuZmluZChzY29wZSk7CgogICAgICAgIC8vIE9ubHkgcmV0dXJuIGVsZW1lbnRzIHRoYXQgYXJlIFNoaW55IG91dHB1dHMsIG5vdCBzdGF0aWMgb25lcwogICAgICAgIHZhciBkeW5hbWljUmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKCIuaHRtbC13aWRnZXQtb3V0cHV0Iik7CgogICAgICAgIC8vIEl0J3MgcG9zc2libGUgdGhhdCB3aGF0ZXZlciBjYXVzZWQgU2hpbnkgdG8gdGhpbmsgdGhlcmUgbWlnaHQgYmUKICAgICAgICAvLyBuZXcgZHluYW1pYyBvdXRwdXRzLCBhbHNvIGNhdXNlZCB0aGVyZSB0byBiZSBuZXcgc3RhdGljIG91dHB1dHMuCiAgICAgICAgLy8gU2luY2UgdGhlcmUgbWlnaHQgYmUgbG90cyBvZiBkaWZmZXJlbnQgaHRtbHdpZGdldHMgYmluZGluZ3MsIHdlCiAgICAgICAgLy8gc2NoZWR1bGUgZXhlY3V0aW9uIGZvciBsYXRlci0tbm8gbmVlZCB0byBzdGF0aWNSZW5kZXIgbXVsdGlwbGUKICAgICAgICAvLyB0aW1lcy4KICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggIT09IGR5bmFtaWNSZXN1bHRzLmxlbmd0aCkKICAgICAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyKCk7CgogICAgICAgIHJldHVybiBkeW5hbWljUmVzdWx0czsKICAgICAgfTsKCiAgICAgIC8vIFdyYXAgcmVuZGVyVmFsdWUgdG8gaGFuZGxlIGluaXRpYWxpemF0aW9uLCB3aGljaCB1bmZvcnR1bmF0ZWx5IGlzbid0CiAgICAgIC8vIHN1cHBvcnRlZCBuYXRpdmVseSBieSBTaGlueSBhdCB0aGUgdGltZSBvZiB0aGlzIHdyaXRpbmcuCgogICAgICBzaGlueUJpbmRpbmcucmVuZGVyVmFsdWUgPSBmdW5jdGlvbihlbCwgZGF0YSkgewogICAgICAgIC8vIFJlc29sdmUgc3RyaW5ncyBtYXJrZWQgYXMgamF2YXNjcmlwdCBsaXRlcmFscyB0byBvYmplY3RzCiAgICAgICAgaWYgKCEoZGF0YS5ldmFscyBpbnN0YW5jZW9mIEFycmF5KSkgZGF0YS5ldmFscyA9IFtkYXRhLmV2YWxzXTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgZGF0YS5ldmFscyAmJiBpIDwgZGF0YS5ldmFscy5sZW5ndGg7IGkrKykgewogICAgICAgICAgd2luZG93LkhUTUxXaWRnZXRzLmV2YWx1YXRlU3RyaW5nTWVtYmVyKGRhdGEueCwgZGF0YS5ldmFsc1tpXSk7CiAgICAgICAgfQogICAgICAgIGlmICghYmluZGluZ0RlZi5yZW5kZXJPbk51bGxWYWx1ZSkgewogICAgICAgICAgaWYgKGRhdGEueCA9PT0gbnVsbCkgewogICAgICAgICAgICBlbC5zdHlsZS52aXNpYmlsaXR5ID0gImhpZGRlbiI7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAiaW5oZXJpdCI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICghZWxlbWVudERhdGEoZWwsICJpbml0aWFsaXplZCIpKSB7CiAgICAgICAgICBpbml0U2l6aW5nKGVsKTsKCiAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRpYWxpemVkIiwgdHJ1ZSk7CiAgICAgICAgICBpZiAoYmluZGluZ0RlZi5pbml0aWFsaXplKSB7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBiaW5kaW5nRGVmLmluaXRpYWxpemUoZWwsIGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICAgIGVsLm9mZnNldEhlaWdodCk7CiAgICAgICAgICAgIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiLCByZXN1bHQpOwogICAgICAgICAgfQogICAgICAgICAgZXZhbEFuZFJ1bihkYXRhLmpzSG9va3MucmVuZGVyLCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiksIFtlbCwgZGF0YS54XSk7CiAgICAgICAgfQogICAgICAgIFNoaW55LnJlbmRlckRlcGVuZGVuY2llcyhkYXRhLmRlcHMpOwogICAgICAgIGJpbmRpbmdEZWYucmVuZGVyVmFsdWUoZWwsIGRhdGEueCwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpKTsKICAgICAgfTsKCiAgICAgIC8vIE9ubHkgb3ZlcnJpZGUgcmVzaXplIGlmIGJpbmRpbmdEZWYgaW1wbGVtZW50cyBpdAogICAgICBpZiAoYmluZGluZ0RlZi5yZXNpemUpIHsKICAgICAgICBzaGlueUJpbmRpbmcucmVzaXplID0gZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICAgIC8vIFNoaW55IGNhbiBjYWxsIHJlc2l6ZSBiZWZvcmUgaW5pdGlhbGl6ZS9yZW5kZXJWYWx1ZSBoYXZlIGJlZW4KICAgICAgICAgIC8vIGNhbGxlZCwgd2hpY2ggZG9lc24ndCBtYWtlIHNlbnNlIGZvciB3aWRnZXRzLgogICAgICAgICAgaWYgKGVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiKSkgewogICAgICAgICAgICBiaW5kaW5nRGVmLnJlc2l6ZShlbCwgd2lkdGgsIGhlaWdodCwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CgogICAgICBTaGlueS5vdXRwdXRCaW5kaW5ncy5yZWdpc3RlcihzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYubmFtZSk7CiAgICB9CiAgfTsKCiAgdmFyIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IG51bGw7CiAgZnVuY3Rpb24gc2NoZWR1bGVTdGF0aWNSZW5kZXIoKSB7CiAgICBpZiAoIXNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCkgewogICAgICBzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IG51bGw7CiAgICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgICB9LCAxKTsKICAgIH0KICB9CgogIC8vIFJlbmRlciBzdGF0aWMgd2lkZ2V0cyBhZnRlciB0aGUgZG9jdW1lbnQgZmluaXNoZXMgbG9hZGluZwogIC8vIFN0YXRpY2FsbHkgcmVuZGVyIGFsbCBlbGVtZW50cyB0aGF0IGFyZSBvZiB0aGlzIHdpZGdldCdzIGNsYXNzCiAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGJpbmRpbmdzID0gd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgfHwgW107CiAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbihiaW5kaW5nKSB7CiAgICAgIHZhciBtYXRjaGVzID0gYmluZGluZy5maW5kKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7CiAgICAgIGZvckVhY2gobWF0Y2hlcywgZnVuY3Rpb24oZWwpIHsKICAgICAgICB2YXIgc2l6ZU9iaiA9IGluaXRTaXppbmcoZWwsIGJpbmRpbmcpOwoKICAgICAgICBpZiAoaGFzQ2xhc3MoZWwsICJodG1sLXdpZGdldC1zdGF0aWMtYm91bmQiKSkKICAgICAgICAgIHJldHVybjsKICAgICAgICBlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUgKyAiIGh0bWwtd2lkZ2V0LXN0YXRpYy1ib3VuZCI7CgogICAgICAgIHZhciBpbml0UmVzdWx0OwogICAgICAgIGlmIChiaW5kaW5nLmluaXRpYWxpemUpIHsKICAgICAgICAgIGluaXRSZXN1bHQgPSBiaW5kaW5nLmluaXRpYWxpemUoZWwsCiAgICAgICAgICAgIHNpemVPYmogPyBzaXplT2JqLmdldFdpZHRoKCkgOiBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgc2l6ZU9iaiA/IHNpemVPYmouZ2V0SGVpZ2h0KCkgOiBlbC5vZmZzZXRIZWlnaHQKICAgICAgICAgICk7CiAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiwgaW5pdFJlc3VsdCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoYmluZGluZy5yZXNpemUpIHsKICAgICAgICAgIHZhciBsYXN0U2l6ZSA9IHt9OwogICAgICAgICAgdmFyIHJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIHZhciBzaXplID0gewogICAgICAgICAgICAgIHc6IHNpemVPYmogPyBzaXplT2JqLmdldFdpZHRoKCkgOiBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgICBoOiBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAoc2l6ZS53ID09PSAwICYmIHNpemUuaCA9PT0gMCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGlmIChzaXplLncgPT09IGxhc3RTaXplLncgJiYgc2l6ZS5oID09PSBsYXN0U2l6ZS5oKQogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgbGFzdFNpemUgPSBzaXplOwogICAgICAgICAgICBiaW5kaW5nLnJlc2l6ZShlbCwgc2l6ZS53LCBzaXplLmgsIGluaXRSZXN1bHQpOwogICAgICAgICAgfTsKCiAgICAgICAgICBvbih3aW5kb3csICJyZXNpemUiLCByZXNpemVIYW5kbGVyKTsKCiAgICAgICAgICAvLyBUaGlzIGlzIG5lZWRlZCBmb3IgY2FzZXMgd2hlcmUgd2UncmUgcnVubmluZyBpbiBhIFNoaW55CiAgICAgICAgICAvLyBhcHAsIGJ1dCB0aGUgd2lkZ2V0IGl0c2VsZiBpcyBub3QgYSBTaGlueSBvdXRwdXQsIGJ1dAogICAgICAgICAgLy8gcmF0aGVyIGEgc2ltcGxlIHN0YXRpYyB3aWRnZXQuIE9uZSBleGFtcGxlIG9mIHRoaXMgaXMKICAgICAgICAgIC8vIGFuIHJtYXJrZG93biBkb2N1bWVudCB0aGF0IGhhcyBydW50aW1lOnNoaW55IGFuZCB3aWRnZXQKICAgICAgICAgIC8vIHRoYXQgaXNuJ3QgaW4gYSByZW5kZXIgZnVuY3Rpb24uIFNoaW55IG9ubHkga25vd3MgdG8KICAgICAgICAgIC8vIGNhbGwgcmVzaXplIGhhbmRsZXJzIGZvciBTaGlueSBvdXRwdXRzLCBub3QgZm9yIHN0YXRpYwogICAgICAgICAgLy8gd2lkZ2V0cywgc28gd2UgZG8gaXQgb3Vyc2VsdmVzLgogICAgICAgICAgaWYgKHdpbmRvdy5qUXVlcnkpIHsKICAgICAgICAgICAgd2luZG93LmpRdWVyeShkb2N1bWVudCkub24oCiAgICAgICAgICAgICAgInNob3duLmh0bWx3aWRnZXRzIHNob3duLmJzLnRhYi5odG1sd2lkZ2V0cyBzaG93bi5icy5jb2xsYXBzZS5odG1sd2lkZ2V0cyIsCiAgICAgICAgICAgICAgcmVzaXplSGFuZGxlcgogICAgICAgICAgICApOwogICAgICAgICAgICB3aW5kb3cualF1ZXJ5KGRvY3VtZW50KS5vbigKICAgICAgICAgICAgICAiaGlkZGVuLmh0bWx3aWRnZXRzIGhpZGRlbi5icy50YWIuaHRtbHdpZGdldHMgaGlkZGVuLmJzLmNvbGxhcHNlLmh0bWx3aWRnZXRzIiwKICAgICAgICAgICAgICByZXNpemVIYW5kbGVyCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgZm9yIHRoZSBzcGVjaWZpYyBjYXNlIG9mIGlvc2xpZGVzLCB3aGljaAogICAgICAgICAgLy8gZmxpcHMgc2xpZGVzIGJldHdlZW4gZGlzcGxheTpub25lIGFuZCBkaXNwbGF5OmJsb2NrLgogICAgICAgICAgLy8gSWRlYWxseSB3ZSB3b3VsZCBub3QgaGF2ZSB0byBoYXZlIGlvc2xpZGUtc3BlY2lmaWMgY29kZQogICAgICAgICAgLy8gaGVyZSwgYnV0IHJhdGhlciBoYXZlIGlvc2xpZGVzIHJhaXNlIGEgZ2VuZXJpYyBldmVudCwKICAgICAgICAgIC8vIGJ1dCB0aGUgcm1hcmtkb3duIHBhY2thZ2UganVzdCB3ZW50IHRvIENSQU4gc28gdGhlCiAgICAgICAgICAvLyB3aW5kb3cgdG8gZ2V0dGluZyB0aGF0IGZpeGVkIG1heSBiZSBsb25nLgogICAgICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgICAgICAgIC8vIEl0J3MgT0sgdG8gbGltaXQgdGhpcyB0byB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcgogICAgICAgICAgICAvLyBicm93c2VycyBiZWNhdXNlIGlvc2xpZGVzIGl0c2VsZiBvbmx5IHN1cHBvcnRzCiAgICAgICAgICAgIC8vIHN1Y2ggYnJvd3NlcnMuCiAgICAgICAgICAgIG9uKGRvY3VtZW50LCAic2xpZGVlbnRlciIsIHJlc2l6ZUhhbmRsZXIpOwogICAgICAgICAgICBvbihkb2N1bWVudCwgInNsaWRlbGVhdmUiLCByZXNpemVIYW5kbGVyKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBzY3JpcHREYXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vanNvbiddIik7CiAgICAgICAgaWYgKHNjcmlwdERhdGEpIHsKICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShzY3JpcHREYXRhLnRleHRDb250ZW50IHx8IHNjcmlwdERhdGEudGV4dCk7CiAgICAgICAgICAvLyBSZXNvbHZlIHN0cmluZ3MgbWFya2VkIGFzIGphdmFzY3JpcHQgbGl0ZXJhbHMgdG8gb2JqZWN0cwogICAgICAgICAgaWYgKCEoZGF0YS5ldmFscyBpbnN0YW5jZW9mIEFycmF5KSkgZGF0YS5ldmFscyA9IFtkYXRhLmV2YWxzXTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBkYXRhLmV2YWxzICYmIGsgPCBkYXRhLmV2YWxzLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlcihkYXRhLngsIGRhdGEuZXZhbHNba10pOwogICAgICAgICAgfQogICAgICAgICAgYmluZGluZy5yZW5kZXJWYWx1ZShlbCwgZGF0YS54LCBpbml0UmVzdWx0KTsKICAgICAgICAgIGV2YWxBbmRSdW4oZGF0YS5qc0hvb2tzLnJlbmRlciwgaW5pdFJlc3VsdCwgW2VsLCBkYXRhLnhdKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CgogICAgaW52b2tlUG9zdFJlbmRlckhhbmRsZXJzKCk7CiAgfQoKICAvLyBXYWl0IHVudGlsIGFmdGVyIHRoZSBkb2N1bWVudCBoYXMgbG9hZGVkIHRvIHJlbmRlciB0aGUgd2lkZ2V0cy4KICBpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikgewogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGZ1bmN0aW9uKCkgewogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgYXJndW1lbnRzLmNhbGxlZSwgZmFsc2UpOwogICAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7CiAgICB9LCBmYWxzZSk7CiAgfSBlbHNlIGlmIChkb2N1bWVudC5hdHRhY2hFdmVudCkgewogICAgZG9jdW1lbnQuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gImNvbXBsZXRlIikgewogICAgICAgIGRvY3VtZW50LmRldGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCBhcmd1bWVudHMuY2FsbGVlKTsKICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7CiAgICAgIH0KICAgIH0pOwogIH0KCgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5nZXRBdHRhY2htZW50VXJsID0gZnVuY3Rpb24oZGVwbmFtZSwga2V5KSB7CiAgICAvLyBJZiBubyBrZXksIGRlZmF1bHQgdG8gdGhlIGZpcnN0IGl0ZW0KICAgIGlmICh0eXBlb2Yoa2V5KSA9PT0gInVuZGVmaW5lZCIpCiAgICAgIGtleSA9IDE7CgogICAgdmFyIGxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkZXBuYW1lICsgIi0iICsga2V5ICsgIi1hdHRhY2htZW50Iik7CiAgICBpZiAoIWxpbmspIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJBdHRhY2htZW50ICIgKyBkZXBuYW1lICsgIi8iICsga2V5ICsgIiBub3QgZm91bmQgaW4gZG9jdW1lbnQiKTsKICAgIH0KICAgIHJldHVybiBsaW5rLmdldEF0dHJpYnV0ZSgiaHJlZiIpOwogIH07CgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5kYXRhZnJhbWVUb0QzID0gZnVuY3Rpb24oZGYpIHsKICAgIHZhciBuYW1lcyA9IFtdOwogICAgdmFyIGxlbmd0aDsKICAgIGZvciAodmFyIG5hbWUgaW4gZGYpIHsKICAgICAgICBpZiAoZGYuaGFzT3duUHJvcGVydHkobmFtZSkpCiAgICAgICAgICAgIG5hbWVzLnB1c2gobmFtZSk7CiAgICAgICAgaWYgKHR5cGVvZihkZltuYW1lXSkgIT09ICJvYmplY3QiIHx8IHR5cGVvZihkZltuYW1lXS5sZW5ndGgpID09PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkFsbCBmaWVsZHMgbXVzdCBiZSBhcnJheXMiKTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihsZW5ndGgpICE9PSAidW5kZWZpbmVkIiAmJiBsZW5ndGggIT09IGRmW25hbWVdLmxlbmd0aCkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkFsbCBmaWVsZHMgbXVzdCBiZSBhcnJheXMgb2YgdGhlIHNhbWUgbGVuZ3RoIik7CiAgICAgICAgfQogICAgICAgIGxlbmd0aCA9IGRmW25hbWVdLmxlbmd0aDsKICAgIH0KICAgIHZhciByZXN1bHRzID0gW107CiAgICB2YXIgaXRlbTsKICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IGxlbmd0aDsgcm93KyspIHsKICAgICAgICBpdGVtID0ge307CiAgICAgICAgZm9yICh2YXIgY29sID0gMDsgY29sIDwgbmFtZXMubGVuZ3RoOyBjb2wrKykgewogICAgICAgICAgICBpdGVtW25hbWVzW2NvbF1dID0gZGZbbmFtZXNbY29sXV1bcm93XTsKICAgICAgICB9CiAgICAgICAgcmVzdWx0cy5wdXNoKGl0ZW0pOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfTsKCiAgd2luZG93LkhUTUxXaWRnZXRzLnRyYW5zcG9zZUFycmF5MkQgPSBmdW5jdGlvbihhcnJheSkgewogICAgICBpZiAoYXJyYXkubGVuZ3RoID09PSAwKSByZXR1cm4gYXJyYXk7CiAgICAgIHZhciBuZXdBcnJheSA9IGFycmF5WzBdLm1hcChmdW5jdGlvbihjb2wsIGkpIHsKICAgICAgICAgIHJldHVybiBhcnJheS5tYXAoZnVuY3Rpb24ocm93KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJvd1tpXQogICAgICAgICAgfSkKICAgICAgfSk7CiAgICAgIHJldHVybiBuZXdBcnJheTsKICB9OwogIC8vIFNwbGl0IHZhbHVlIGF0IHNwbGl0Q2hhciwgYnV0IGFsbG93IHNwbGl0Q2hhciB0byBiZSBlc2NhcGVkCiAgLy8gdXNpbmcgZXNjYXBlQ2hhci4gQW55IG90aGVyIGNoYXJhY3RlcnMgZXNjYXBlZCBieSBlc2NhcGVDaGFyCiAgLy8gd2lsbCBiZSBpbmNsdWRlZCBhcyB1c3VhbCAoaW5jbHVkaW5nIGVzY2FwZUNoYXIgaXRzZWxmKS4KICBmdW5jdGlvbiBzcGxpdFdpdGhFc2NhcGUodmFsdWUsIHNwbGl0Q2hhciwgZXNjYXBlQ2hhcikgewogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIHZhciBlc2NhcGVNb2RlID0gZmFsc2U7CiAgICB2YXIgY3VycmVudFJlc3VsdCA9ICIiOwogICAgZm9yICh2YXIgcG9zID0gMDsgcG9zIDwgdmFsdWUubGVuZ3RoOyBwb3MrKykgewogICAgICBpZiAoIWVzY2FwZU1vZGUpIHsKICAgICAgICBpZiAodmFsdWVbcG9zXSA9PT0gc3BsaXRDaGFyKSB7CiAgICAgICAgICByZXN1bHRzLnB1c2goY3VycmVudFJlc3VsdCk7CiAgICAgICAgICBjdXJyZW50UmVzdWx0ID0gIiI7CiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVtwb3NdID09PSBlc2NhcGVDaGFyKSB7CiAgICAgICAgICBlc2NhcGVNb2RlID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY3VycmVudFJlc3VsdCArPSB2YWx1ZVtwb3NdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjdXJyZW50UmVzdWx0ICs9IHZhbHVlW3Bvc107CiAgICAgICAgZXNjYXBlTW9kZSA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgICBpZiAoY3VycmVudFJlc3VsdCAhPT0gIiIpIHsKICAgICAgcmVzdWx0cy5wdXNoKGN1cnJlbnRSZXN1bHQpOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQogIC8vIEZ1bmN0aW9uIGF1dGhvcmVkIGJ5IFlpaHVpL0pKIEFsbGFpcmUKICB3aW5kb3cuSFRNTFdpZGdldHMuZXZhbHVhdGVTdHJpbmdNZW1iZXIgPSBmdW5jdGlvbihvLCBtZW1iZXIpIHsKICAgIHZhciBwYXJ0cyA9IHNwbGl0V2l0aEVzY2FwZShtZW1iZXIsICcuJywgJ1xcJyk7CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICB2YXIgcGFydCA9IHBhcnRzW2ldOwogICAgICAvLyBwYXJ0IG1heSBiZSBhIGNoYXJhY3RlciBvciAnbnVtZXJpYycgbWVtYmVyIG5hbWUKICAgICAgaWYgKG8gIT09IG51bGwgJiYgdHlwZW9mIG8gPT09ICJvYmplY3QiICYmIHBhcnQgaW4gbykgewogICAgICAgIGlmIChpID09IChsIC0gMSkpIHsgLy8gaWYgd2UgYXJlIGF0IHRoZSBlbmQgb2YgdGhlIGxpbmUgdGhlbiBldmFsdWxhdGUKICAgICAgICAgIGlmICh0eXBlb2Ygb1twYXJ0XSA9PT0gInN0cmluZyIpCiAgICAgICAgICAgIG9bcGFydF0gPSBldmFsKCIoIiArIG9bcGFydF0gKyAiKSIpOwogICAgICAgIH0gZWxzZSB7IC8vIG90aGVyd2lzZSBjb250aW51ZSB0byBuZXh0IGVtYmVkZGVkIG9iamVjdAogICAgICAgICAgbyA9IG9bcGFydF07CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gUmV0cmlldmUgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2UgKGkuZS4gdGhlIHJldHVybiB2YWx1ZSBvZiBhbgogIC8vIEhUTUxXaWRnZXQgYmluZGluZydzIGluaXRpYWxpemUoKSBvciBmYWN0b3J5KCkgZnVuY3Rpb24pCiAgLy8gYXNzb2NpYXRlZCB3aXRoIGFuIGVsZW1lbnQsIG9yIG51bGwgaWYgbm9uZS4KICB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbihlbCkgewogICAgcmV0dXJuIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiKTsKICB9OwoKICAvLyBGaW5kcyB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2NvcGUgdGhhdCBtYXRjaGVzIHRoZSBzZWxlY3RvciwKICAvLyBhbmQgcmV0dXJucyB0aGUgSFRNTFdpZGdldCBpbnN0YW5jZSAoaS5lLiB0aGUgcmV0dXJuIHZhbHVlIG9mCiAgLy8gYW4gSFRNTFdpZGdldCBiaW5kaW5nJ3MgaW5pdGlhbGl6ZSgpIG9yIGZhY3RvcnkoKSBmdW5jdGlvbikKICAvLyBhc3NvY2lhdGVkIHdpdGggdGhhdCBlbGVtZW50LCBpZiBhbnkuIElmIG5vIGVsZW1lbnQgbWF0Y2hlcyB0aGUKICAvLyBzZWxlY3Rvciwgb3IgdGhlIGZpcnN0IG1hdGNoaW5nIGVsZW1lbnQgaGFzIG5vIEhUTUxXaWRnZXQKICAvLyBpbnN0YW5jZSBhc3NvY2lhdGVkIHdpdGggaXQsIHRoZW4gbnVsbCBpcyByZXR1cm5lZC4KICAvLwogIC8vIFRoZSBzY29wZSBhcmd1bWVudCBpcyBvcHRpb25hbCwgYW5kIGRlZmF1bHRzIHRvIHdpbmRvdy5kb2N1bWVudC4KICB3aW5kb3cuSFRNTFdpZGdldHMuZmluZCA9IGZ1bmN0aW9uKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkgewogICAgICBzZWxlY3RvciA9IHNjb3BlOwogICAgICBzY29wZSA9IGRvY3VtZW50OwogICAgfQoKICAgIHZhciBlbCA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpOwogICAgaWYgKGVsID09PSBudWxsKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHdpbmRvdy5IVE1MV2lkZ2V0cy5nZXRJbnN0YW5jZShlbCk7CiAgICB9CiAgfTsKCiAgLy8gRmluZHMgYWxsIGVsZW1lbnRzIGluIHRoZSBzY29wZSB0aGF0IG1hdGNoIHRoZSBzZWxlY3RvciwgYW5kCiAgLy8gcmV0dXJucyB0aGUgSFRNTFdpZGdldCBpbnN0YW5jZXMgKGkuZS4gdGhlIHJldHVybiB2YWx1ZXMgb2YKICAvLyBhbiBIVE1MV2lkZ2V0IGJpbmRpbmcncyBpbml0aWFsaXplKCkgb3IgZmFjdG9yeSgpIGZ1bmN0aW9uKQogIC8vIGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudHMsIGluIGFuIGFycmF5LiBJZiBlbGVtZW50cyB0aGF0CiAgLy8gbWF0Y2ggdGhlIHNlbGVjdG9yIGRvbid0IGhhdmUgYW4gYXNzb2NpYXRlZCBIVE1MV2lkZ2V0CiAgLy8gaW5zdGFuY2UsIHRoZSByZXR1cm5lZCBhcnJheSB3aWxsIGNvbnRhaW4gbnVsbHMuCiAgLy8KICAvLyBUaGUgc2NvcGUgYXJndW1lbnQgaXMgb3B0aW9uYWwsIGFuZCBkZWZhdWx0cyB0byB3aW5kb3cuZG9jdW1lbnQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmZpbmRBbGwgPSBmdW5jdGlvbihzY29wZSwgc2VsZWN0b3IpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgc2VsZWN0b3IgPSBzY29wZTsKICAgICAgc2NvcGUgPSBkb2N1bWVudDsKICAgIH0KCiAgICB2YXIgbm9kZXMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTsKICAgIHZhciByZXN1bHRzID0gW107CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHJlc3VsdHMucHVzaCh3aW5kb3cuSFRNTFdpZGdldHMuZ2V0SW5zdGFuY2Uobm9kZXNbaV0pKTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH07CgogIHZhciBwb3N0UmVuZGVySGFuZGxlcnMgPSBbXTsKICBmdW5jdGlvbiBpbnZva2VQb3N0UmVuZGVySGFuZGxlcnMoKSB7CiAgICB3aGlsZSAocG9zdFJlbmRlckhhbmRsZXJzLmxlbmd0aCkgewogICAgICB2YXIgaGFuZGxlciA9IHBvc3RSZW5kZXJIYW5kbGVycy5zaGlmdCgpOwogICAgICBpZiAoaGFuZGxlcikgewogICAgICAgIGhhbmRsZXIoKTsKICAgICAgfQogICAgfQogIH0KCiAgLy8gUmVnaXN0ZXIgdGhlIGdpdmVuIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgYWZ0ZXIgdGhlCiAgLy8gbmV4dCB0aW1lIHN0YXRpYyB3aWRnZXRzIGFyZSByZW5kZXJlZC4KICB3aW5kb3cuSFRNTFdpZGdldHMuYWRkUG9zdFJlbmRlckhhbmRsZXIgPSBmdW5jdGlvbihjYWxsYmFjaykgewogICAgcG9zdFJlbmRlckhhbmRsZXJzLnB1c2goY2FsbGJhY2spOwogIH07CgogIC8vIFRha2VzIGEgbmV3LXN0eWxlIGluc3RhbmNlLWJvdW5kIGRlZmluaXRpb24sIGFuZCByZXR1cm5zIGFuCiAgLy8gb2xkLXN0eWxlIGNsYXNzLWJvdW5kIGRlZmluaXRpb24uIFRoaXMgc2F2ZXMgdXMgZnJvbSBoYXZpbmcKICAvLyB0byByZXdyaXRlIGFsbCB0aGUgbG9naWMgaW4gdGhpcyBmaWxlIHRvIGFjY29tb2RhdGUgYm90aAogIC8vIHR5cGVzIG9mIGRlZmluaXRpb25zLgogIGZ1bmN0aW9uIGNyZWF0ZUxlZ2FjeURlZmluaXRpb25BZGFwdGVyKGRlZm4pIHsKICAgIHZhciByZXN1bHQgPSB7CiAgICAgIG5hbWU6IGRlZm4ubmFtZSwKICAgICAgdHlwZTogZGVmbi50eXBlLAogICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewogICAgICAgIHJldHVybiBkZWZuLmZhY3RvcnkoZWwsIHdpZHRoLCBoZWlnaHQpOwogICAgICB9LAogICAgICByZW5kZXJWYWx1ZTogZnVuY3Rpb24oZWwsIHgsIGluc3RhbmNlKSB7CiAgICAgICAgcmV0dXJuIGluc3RhbmNlLnJlbmRlclZhbHVlKHgpOwogICAgICB9LAogICAgICByZXNpemU6IGZ1bmN0aW9uKGVsLCB3aWR0aCwgaGVpZ2h0LCBpbnN0YW5jZSkgewogICAgICAgIHJldHVybiBpbnN0YW5jZS5yZXNpemUod2lkdGgsIGhlaWdodCk7CiAgICAgIH0KICAgIH07CgogICAgaWYgKGRlZm4uZmluZCkKICAgICAgcmVzdWx0LmZpbmQgPSBkZWZuLmZpbmQ7CiAgICBpZiAoZGVmbi5yZW5kZXJFcnJvcikKICAgICAgcmVzdWx0LnJlbmRlckVycm9yID0gZGVmbi5yZW5kZXJFcnJvcjsKICAgIGlmIChkZWZuLmNsZWFyRXJyb3IpCiAgICAgIHJlc3VsdC5jbGVhckVycm9yID0gZGVmbi5jbGVhckVycm9yOwoKICAgIHJldHVybiByZXN1bHQ7CiAgfQp9KSgpOwoK"></script>
<link href="data:text/css;charset=utf-8,%2ErglPlayer%20%7B%0Awidth%3A%20auto%3B%0Aheight%3A%20auto%3B%0A%7D%0A%2ErglPlayer%20%2Ergl%2Dbutton%20%7B%0Awidth%3A%20auto%3B%0Adisplay%3A%20inline%2Dblock%3B%0Afont%2Dsize%3A%2075%25%3B%0A%7D%0A%2ErglPlayer%20%2Ergl%2Dslider%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Awidth%3A%2030%25%3B%0A%7D%0A%2ErglPlayer%20%2Ergl%2Dlabel%20%7B%0Adisplay%3A%20inline%3B%0Apadding%2Dleft%3A%206px%3B%0Apadding%2Dright%3A%206px%3B%0A%7D%0A" rel="stylesheet" />
<script src="data:application/x-javascript;base64,CnJnbHdpZGdldENsYXNzID0gZnVuY3Rpb24oKSB7CiAgICB0aGlzLmNhbnZhcyA9IG51bGw7CiAgICB0aGlzLnVzZXJNYXRyaXggPSBuZXcgQ2FudmFzTWF0cml4NCgpOwogICAgdGhpcy50eXBlcyA9IFtdOwogICAgdGhpcy5wck1hdHJpeCA9IG5ldyBDYW52YXNNYXRyaXg0KCk7CiAgICB0aGlzLm12TWF0cml4ID0gbmV3IENhbnZhc01hdHJpeDQoKTsKICAgIHRoaXMudnAgPSBudWxsOwogICAgdGhpcy5wcm12TWF0cml4ID0gbnVsbDsKICAgIHRoaXMub3JpZ3MgPSBudWxsOwogICAgdGhpcy5nbCA9IG51bGw7CiAgICB0aGlzLnNjZW5lID0gbnVsbDsKfTsKCihmdW5jdGlvbigpIHsKICAgIHRoaXMubXVsdE1WID0gZnVuY3Rpb24oTSwgdikgewogICAgICAgIHJldHVybiBbIE0ubTExICogdlswXSArIE0ubTEyICogdlsxXSArIE0ubTEzICogdlsyXSArIE0ubTE0ICogdlszXSwKICAgICAgICAgICAgICAgICBNLm0yMSAqIHZbMF0gKyBNLm0yMiAqIHZbMV0gKyBNLm0yMyAqIHZbMl0gKyBNLm0yNCAqIHZbM10sCiAgICAgICAgICAgICAgICAgTS5tMzEgKiB2WzBdICsgTS5tMzIgKiB2WzFdICsgTS5tMzMgKiB2WzJdICsgTS5tMzQgKiB2WzNdLAogICAgICAgICAgICAgICAgIE0ubTQxICogdlswXSArIE0ubTQyICogdlsxXSArIE0ubTQzICogdlsyXSArIE0ubTQ0ICogdlszXQogICAgICAgICAgICAgICBdOwogICAgfTsKCiAgICB0aGlzLnZsZW4gPSBmdW5jdGlvbih2KSB7CgkJICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZG90cHJvZCh2LCB2KSk7CgkJfTsKCiAgICB0aGlzLmRvdHByb2QgPSBmdW5jdGlvbihhLCBiKSB7CiAgICAgIHJldHVybiBhWzBdKmJbMF0gKyBhWzFdKmJbMV0gKyBhWzJdKmJbMl07CiAgICB9CgoJCXRoaXMueHByb2QgPSBmdW5jdGlvbihhLCBiKSB7CgkJCXJldHVybiBbYVsxXSpiWzJdIC0gYVsyXSpiWzFdLAoJCQkgICAgYVsyXSpiWzBdIC0gYVswXSpiWzJdLAoJCQkgICAgYVswXSpiWzFdIC0gYVsxXSpiWzBdXTsKCQl9OwoKICAgIHRoaXMuY2JpbmQgPSBmdW5jdGlvbihhLCBiKSB7CiAgICAgIHJldHVybiBhLm1hcChmdW5jdGlvbihjdXJyZW50VmFsdWUsIGluZGV4LCBhcnJheSkgewogICAgICAgICAgICByZXR1cm4gY3VycmVudFZhbHVlLmNvbmNhdChiW2luZGV4XSk7CiAgICAgIH0pOwogICAgfTsKCiAgICB0aGlzLnN3YXAgPSBmdW5jdGlvbihhLCBpLCBqKSB7CiAgICAgIHZhciB0ZW1wID0gYVtpXTsKICAgICAgYVtpXSA9IGFbal07CiAgICAgIGFbal0gPSB0ZW1wOwogICAgfTsKCiAgICB0aGlzLmZsYXR0ZW4gPSBmdW5jdGlvbihhKSB7CiAgICAgIHJldHVybiBbXS5jb25jYXQuYXBwbHkoW10sIGEpOwogICAgfTsKCiAgICAvKiBzZXQgZWxlbWVudCBvZiAxZCBvciAyZCBhcnJheSBhcyBpZiBpdCB3YXMgZmxhdHRlbmVkLiAgQ29sdW1uIG1ham9yLCB6ZXJvIGJhc2VkISAqLwogICAgdGhpcy5zZXRFbGVtZW50ID0gZnVuY3Rpb24oYSwgaSwgdmFsdWUpIHsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYVswXSkpIHsKICAgICAgICB2YXIgZGltID0gYS5sZW5ndGgsCiAgICAgICAgICAgIGNvbCA9IE1hdGguZmxvb3IoaS9kaW0pLAogICAgICAgICAgICByb3cgPSBpICUgZGltOwogICAgICAgIGFbcm93XVtjb2xdID0gdmFsdWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYVtpXSA9IHZhbHVlOwogICAgICB9CiAgICB9OwoKICAgIHRoaXMudHJhbnNwb3NlID0gZnVuY3Rpb24oYSkgewogICAgICB2YXIgbmV3QXJyYXkgPSBbXSwKICAgICAgICAgIG4gPSBhLmxlbmd0aCwKICAgICAgICAgIG0gPSBhWzBdLmxlbmd0aCwKICAgICAgICAgIGk7CiAgICAgIGZvcihpID0gMDsgaSA8IG07IGkrKyl7CiAgICAgICAgbmV3QXJyYXkucHVzaChbXSk7CiAgICAgIH0KCiAgICAgIGZvcihpID0gMDsgaSA8IG47IGkrKyl7CiAgICAgICAgZm9yKHZhciBqID0gMDsgaiA8IG07IGorKyl7CiAgICAgICAgICBuZXdBcnJheVtqXS5wdXNoKGFbaV1bal0pOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gbmV3QXJyYXk7CiAgICB9OwoKICAgIHRoaXMuc3Vtc3EgPSBmdW5jdGlvbih4KSB7CiAgICAgIHZhciByZXN1bHQgPSAwLCBpOwogICAgICBmb3IgKGk9MDsgaSA8IHgubGVuZ3RoOyBpKyspCiAgICAgICAgcmVzdWx0ICs9IHhbaV0qeFtpXTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07CgogICAgdGhpcy50b0NhbnZhc01hdHJpeDQgPSBmdW5jdGlvbihtYXQpIHsKICAgICAgaWYgKG1hdCBpbnN0YW5jZW9mIENhbnZhc01hdHJpeDQpCiAgICAgICAgcmV0dXJuIG1hdDsKICAgICAgdmFyIHJlc3VsdCA9IG5ldyBDYW52YXNNYXRyaXg0KCk7CiAgICAgIG1hdCA9IHRoaXMuZmxhdHRlbih0aGlzLnRyYW5zcG9zZShtYXQpKTsKICAgICAgcmVzdWx0LmxvYWQobWF0KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07CgogICAgdGhpcy5zdHJpbmdUb1JnYiA9IGZ1bmN0aW9uKHMpIHsKICAgICAgcyA9IHMucmVwbGFjZSgiIyIsICIiKTsKICAgICAgdmFyIGJpZ2ludCA9IHBhcnNlSW50KHMsIDE2KTsKICAgICAgcmV0dXJuIFsoKGJpZ2ludCA+PiAxNikgJiAyNTUpLzI1NSwKICAgICAgICAgICAgICAoKGJpZ2ludCA+PiA4KSAmIDI1NSkvMjU1LAogICAgICAgICAgICAgICAoYmlnaW50ICYgMjU1KS8yNTVdOwogICAgfTsKCiAgICB0aGlzLmNvbXBvbmVudFByb2R1Y3QgPSBmdW5jdGlvbih4LCB5KSB7CiAgICAgIGlmICh0eXBlb2YgeSA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICB0aGlzLmFsZXJ0T25jZSgiQmFkIGFyZyB0byBjb21wb25lbnRQcm9kdWN0Iik7CiAgICAgIH0KICAgICAgdmFyIHJlc3VsdCA9IG5ldyBGbG9hdDMyQXJyYXkoMyksIGk7CiAgICAgIGZvciAoaSA9IDA7IGk8MzsgaSsrKQogICAgICAgIHJlc3VsdFtpXSA9IHhbaV0qeVtpXTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07CgogICAgdGhpcy5nZXRQb3dlck9mVHdvID0gZnVuY3Rpb24odmFsdWUpIHsKCSAgICB2YXIgcG93ID0gMTsKCSAgICB3aGlsZShwb3c8dmFsdWUpIHsKCSAgICAgIHBvdyAqPSAyOwoJICAgIH0KCSAgICByZXR1cm4gcG93OwoJICB9OwoKCSAgdGhpcy51bmlxdWUgPSBmdW5jdGlvbihhcnIpIHsKCSAgICBhcnIgPSBbXS5jb25jYXQoYXJyKTsKCSAgICByZXR1cm4gYXJyLmZpbHRlcihmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIHNlbGYpIHsKCSAgICAgIHJldHVybiBzZWxmLmluZGV4T2YodmFsdWUpID09PSBpbmRleDsKCSAgICB9KTsKCSAgfTsKCgkgIHRoaXMucmVwZWF0VG9MZW4gPSBmdW5jdGlvbihhcnIsIGxlbikgewoJICAgIGFyciA9IFtdLmNvbmNhdChhcnIpOwoJICAgIHdoaWxlIChhcnIubGVuZ3RoIDwgbGVuLzIpCgkgICAgICBhcnIgPSBhcnIuY29uY2F0KGFycik7CgkgICAgcmV0dXJuIGFyci5jb25jYXQoYXJyLnNsaWNlKDAsIGxlbiAtIGFyci5sZW5ndGgpKTsKCSAgfTsKCgkgIHRoaXMuYWxlcnRPbmNlID0gZnVuY3Rpb24obXNnKSB7CgkgICAgaWYgKHR5cGVvZiB0aGlzLmFsZXJ0ZWQgIT09ICJ1bmRlZmluZWQiKQoJICAgICAgcmV0dXJuOwoJICAgIHRoaXMuYWxlcnRlZCA9IHRydWU7CgkgICAgYWxlcnQobXNnKTsKCSAgfTsKCiAgICB0aGlzLmZfaXNfbGl0ID0gMTsKICAgIHRoaXMuZl9pc19zbW9vdGggPSAyOwogICAgdGhpcy5mX2hhc190ZXh0dXJlID0gNDsKICAgIHRoaXMuZl9pc19pbmRleGVkID0gODsKICAgIHRoaXMuZl9kZXB0aF9zb3J0ID0gMTY7CiAgICB0aGlzLmZfZml4ZWRfcXVhZHMgPSAzMjsKICAgIHRoaXMuZl9pc190cmFuc3BhcmVudCA9IDY0OwogICAgdGhpcy5mX2lzX2xpbmVzID0gMTI4OwogICAgdGhpcy5mX3Nwcml0ZXNfM2QgPSAyNTY7CiAgICB0aGlzLmZfc3ByaXRlXzNkID0gNTEyOwogICAgdGhpcy5mX2lzX3N1YnNjZW5lID0gMTAyNDsKICAgIHRoaXMuZl9pc19jbGlwcGxhbmVzID0gMjA0ODsKCiAgICB0aGlzLndoaWNoTGlzdCA9IGZ1bmN0aW9uKGlkKSB7CiAgICAgIHZhciBvYmogPSB0aGlzLmdldE9iaihpZCksCiAgICAgICAgICBmbGFncyA9IG9iai5mbGFnczsKICAgICAgICBpZiAob2JqLnR5cGUgPT09ICJsaWdodCIpCiAgICAgICAgICByZXR1cm4gImxpZ2h0cyI7CiAgICAgICAgaWYgKGZsYWdzICYgdGhpcy5mX2lzX3N1YnNjZW5lKQogICAgICAgICAgICByZXR1cm4gInN1YnNjZW5lcyI7CiAgICAgICAgaWYgKGZsYWdzICYgdGhpcy5mX2lzX2NsaXBwbGFuZXMpCiAgICAgICAgICAgIHJldHVybiAiY2xpcHBsYW5lcyI7CiAgICAgICAgaWYgKGZsYWdzICYgdGhpcy5mX2lzX3RyYW5zcGFyZW50KQogICAgICAgICAgICByZXR1cm4gInRyYW5zcGFyZW50IjsKICAgICAgICByZXR1cm4gIm9wYXF1ZSI7CiAgICB9OwoKICAgIHRoaXMuZ2V0T2JqID0gZnVuY3Rpb24oaWQpIHsKICAgICAgaWYgKHR5cGVvZiBpZCAhPT0gIm51bWJlciIpIHsKCQkgICAgdGhpcy5hbGVydE9uY2UoImdldE9iaiBpZCBpcyAiK3R5cGVvZiBpZCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuc2NlbmUub2JqZWN0c1tpZF07CiAgICB9OwoKICAgIHRoaXMuZ2V0SWRzQnlUeXBlID0gZnVuY3Rpb24odHlwZSwgc3Vic2NlbmUpIHsKICAgICAgdmFyCiAgICAgICAgcmVzdWx0ID0gW10sIGksIHNlbGYgPSB0aGlzOwogICAgICBpZiAodHlwZW9mIHN1YnNjZW5lID09PSAidW5kZWZpbmVkIikgewogICAgICAgIE9iamVjdC5rZXlzKHRoaXMuc2NlbmUub2JqZWN0cykuZm9yRWFjaCgKICAgICAgICAgIGZ1bmN0aW9uKGtleSkgewogICAgICAgICAgICBrZXkgPSBwYXJzZUludChrZXksIDEwKTsKICAgICAgICAgICAgaWYgKHNlbGYuZ2V0T2JqKGtleSkudHlwZSA9PT0gdHlwZSkKICAgICAgICAgICAgICByZXN1bHQucHVzaChrZXkpOwogICAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWRzID0gdGhpcy5nZXRPYmooc3Vic2NlbmUpLm9iamVjdHM7CiAgICAgICAgZm9yIChpPTA7IGkgPCBpZHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmICh0aGlzLmdldE9iaihpZHNbaV0pLnR5cGUgPT09IHR5cGUpIHsKICAgICAgICAgICAgcmVzdWx0LnB1c2goaWRzW2ldKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgfTsKCiAgICB0aGlzLmdldE1hdGVyaWFsID0gZnVuY3Rpb24oaWQsIHByb3BlcnR5KSB7CiAgICAgIHZhciBvYmogPSB0aGlzLmdldE9iaihpZCksCiAgICAgICAgICBtYXQgPSBvYmoubWF0ZXJpYWxbcHJvcGVydHldOwogICAgICBpZiAodHlwZW9mIG1hdCA9PT0gInVuZGVmaW5lZCIpCiAgICAgICAgICBtYXQgPSB0aGlzLnNjZW5lLm1hdGVyaWFsW3Byb3BlcnR5XTsKICAgICAgcmV0dXJuIG1hdDsKICAgIH07CgogICAgdGhpcy5pblN1YnNjZW5lID0gZnVuY3Rpb24oaWQsIHN1YnNjZW5lKSB7CiAgICAgIHJldHVybiB0aGlzLmdldE9iaihzdWJzY2VuZSkub2JqZWN0cy5pbmRleE9mKGlkKSA+IC0xOwogICAgfTsKCiAgICB0aGlzLmFkZFRvU3Vic2NlbmUgPSBmdW5jdGlvbihpZCwgc3Vic2NlbmUpIHsKICAgICAgdmFyIHRoZWxpc3QsCiAgICAgICAgICB0aGVzdWIgPSB0aGlzLmdldE9iaihzdWJzY2VuZSksCiAgICAgICAgICBpZHMgPSBbaWRdLAogICAgICAgICAgb2JqID0gdGhpcy5nZXRPYmooaWQpLCBpOwogICAgICBpZiAodHlwZW9mIG9iai5uZXdJZHMgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgaWRzID0gaWRzLmNvbmNhdChvYmoubmV3SWRzKTsKICAgICAgfQogICAgICBmb3IgKGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWQgPSBpZHNbaV07CiAgICAgICAgaWYgKHRoZXN1Yi5vYmplY3RzLmluZGV4T2YoaWQpID09IC0xKSB7CiAgICAgICAgICB0aGVsaXN0ID0gdGhpcy53aGljaExpc3QoaWQpOwogICAgICAgICAgdGhlc3ViLm9iamVjdHMucHVzaChpZCk7CiAgICAgICAgICB0aGVzdWJbdGhlbGlzdF0ucHVzaChpZCk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwoKICAgIHRoaXMuZGVsRnJvbVN1YnNjZW5lID0gZnVuY3Rpb24oaWQsIHN1YnNjZW5lKSB7CiAgICAgIHZhciB0aGVsaXN0LAogICAgICAgICAgdGhlc3ViID0gdGhpcy5nZXRPYmooc3Vic2NlbmUpLAogICAgICAgICAgb2JqID0gdGhpcy5nZXRPYmooaWQpLAogICAgICAgICAgaWRzID0gW2lkXSwgaSwgbmV3SWRzOwogICAgICBpZiAodHlwZW9mIG9iai5uZXdJZHMgIT09ICJ1bmRlZmluZWQiKQogICAgICAgIGlkcyA9IGlkcy5jb25jYXQob2JqLm5ld0lkcyk7CiAgICAgIGZvciAoaj0wOyBqPGlkcy5sZW5ndGg7aisrKSB7CiAgICAgICAgaWQgPSBpZHNbal07CiAgICAgICAgaSA9IHRoZXN1Yi5vYmplY3RzLmluZGV4T2YoaWQpOwogICAgICAgIGlmIChpID4gLTEpIHsKICAgICAgICAgIHRoZXN1Yi5vYmplY3RzLnNwbGljZShpLCAxKTsKICAgICAgICAgIHRoZWxpc3QgPSB0aGlzLndoaWNoTGlzdChpZCk7CiAgICAgICAgICBpID0gdGhlc3ViW3RoZWxpc3RdLmluZGV4T2YoaWQpOwogICAgICAgICAgdGhlc3ViW3RoZWxpc3RdLnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgdGhpcy5zZXRTdWJzY2VuZUVudHJpZXMgPSBmdW5jdGlvbihpZHMsIHN1YnNjZW5laWQpIHsKICAgICAgdmFyIHN1YiA9IHRoaXMuZ2V0T2JqKHN1YnNjZW5laWQpOwogICAgICBzdWIub2JqZWN0cyA9IGlkczsKICAgICAgdGhpcy5pbml0U3Vic2NlbmUoc3Vic2NlbmVpZCk7CiAgICB9OwoKICAgIHRoaXMuZ2V0U3Vic2NlbmVFbnRyaWVzID0gZnVuY3Rpb24oc3Vic2NlbmUpIHsKICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqKHN1YnNjZW5lKS5vYmplY3RzOwogICAgfTsKCiAgICB0aGlzLmdldENoaWxkU3Vic2NlbmVzID0gZnVuY3Rpb24oc3Vic2NlbmUpIHsKICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqKHN1YnNjZW5lKS5zdWJzY2VuZXM7CiAgICB9OwoKICAgIHRoaXMuZ2V0VmVydGV4U2hhZGVyID0gZnVuY3Rpb24oaWQpIHsKCSAgICB2YXIgb2JqID0gdGhpcy5nZXRPYmooaWQpLAoJICAgICAgICBmbGFncyA9IG9iai5mbGFncywKCSAgICAgICAgdHlwZSA9IG9iai50eXBlLAogICAgICAgICAgaXNfbGl0ID0gZmxhZ3MgJiB0aGlzLmZfaXNfbGl0LAoJCSAgICAgIGhhc190ZXh0dXJlID0gZmxhZ3MgJiB0aGlzLmZfaGFzX3RleHR1cmUsCgkJICAgICAgZml4ZWRfcXVhZHMgPSBmbGFncyAmIHRoaXMuZl9maXhlZF9xdWFkcywKCQkgICAgICBzcHJpdGVzXzNkID0gZmxhZ3MgJiB0aGlzLmZfc3ByaXRlc18zZCwKCQkgICAgICBzcHJpdGVfM2QgPSBmbGFncyAmIHRoaXMuZl9zcHJpdGVfM2QsCgkJICAgICAgbmNsaXBwbGFuZXMgPSB0aGlzLmNvdW50Q2xpcHBsYW5lcygpLAoJCSAgICAgIHJlc3VsdDsKCgkJICBpZiAodHlwZSA9PT0gImNsaXBwbGFuZXMiIHx8IHNwcml0ZXNfM2QpIHJldHVybjsKCgkJICByZXN1bHQgPSAiCS8qICoqKioqKiAiK3R5cGUrIiBvYmplY3QgIitpZCsiIHZlcnRleCBzaGFkZXIgKioqKioqICovXG4iKwoJCQkiCWF0dHJpYnV0ZSB2ZWMzIGFQb3M7XG4iKwoJCSAgIglhdHRyaWJ1dGUgdmVjNCBhQ29sO1xuIisKCQkJIiB1bmlmb3JtIG1hdDQgbXZNYXRyaXg7XG4iKwoJCQkiIHVuaWZvcm0gbWF0NCBwck1hdHJpeDtcbiIrCgkJCSIgdmFyeWluZyB2ZWM0IHZDb2w7XG4iKwoJCQkiIHZhcnlpbmcgdmVjNCB2UG9zaXRpb247XG4iOwoKCQkJaWYgKGlzX2xpdCAmJiAhZml4ZWRfcXVhZHMpCgkJCQlyZXN1bHQgPSByZXN1bHQgKyAiCWF0dHJpYnV0ZSB2ZWMzIGFOb3JtO1xuIisKCQkJICAgICAgICAgICAgICAgICAgICAiIHVuaWZvcm0gbWF0NCBub3JtTWF0cml4O1xuIisKCQkJICAgICAgICAgICAgICAgICAgICAiIHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xuIjsKCgkJCWlmIChoYXNfdGV4dHVyZSB8fCB0eXBlID09PSAidGV4dCIpCgkJCQlyZXN1bHQgPSByZXN1bHQgKyAiIGF0dHJpYnV0ZSB2ZWMyIGFUZXhjb29yZDtcbiIrCgkJCSAgICAgICAgICAgICAgICAgICAgIiB2YXJ5aW5nIHZlYzIgdlRleGNvb3JkO1xuIjsKCgkJCWlmICh0eXBlID09PSAidGV4dCIpCgkJCQlyZXN1bHQgPSByZXN1bHQgKyAiCXVuaWZvcm0gdmVjMiB0ZXh0U2NhbGU7XG4iOwoKCQkJaWYgKGZpeGVkX3F1YWRzKQoJCQkJcmVzdWx0ID0gcmVzdWx0ICsgIglhdHRyaWJ1dGUgdmVjMiBhT2ZzO1xuIjsKCQkJZWxzZSBpZiAoc3ByaXRlXzNkKQoJCQkJcmVzdWx0ID0gcmVzdWx0ICsgIgl1bmlmb3JtIHZlYzMgdU9yaWc7XG4iKwoJCQkgICAgICAgICAgICAgICAgICAgICIgdW5pZm9ybSBmbG9hdCB1U2l6ZTtcbiIrCgkJCSAgICAgICAgICAgICAgICAgICAgIiB1bmlmb3JtIG1hdDQgdXNlcm1hdDtcbiI7CgoJCQlyZXN1bHQgPSByZXN1bHQgKyAiCXZvaWQgbWFpbih2b2lkKSB7XG4iOwoKCQkJaWYgKG5jbGlwcGxhbmVzIHx8ICghZml4ZWRfcXVhZHMgJiYgIXNwcml0ZV8zZCkpCgkJCQlyZXN1bHQgPSByZXN1bHQgKyAiCSAgdlBvc2l0aW9uID0gbXZNYXRyaXggKiB2ZWM0KGFQb3MsIDEuKTtcbiI7CgoJCQlpZiAoIWZpeGVkX3F1YWRzICYmICFzcHJpdGVfM2QpCgkJCQlyZXN1bHQgPSByZXN1bHQgKyAiCSAgZ2xfUG9zaXRpb24gPSBwck1hdHJpeCAqIHZQb3NpdGlvbjtcbiI7CgoJCQlpZiAodHlwZSA9PSAicG9pbnRzIikgewoJCQkgIHZhciBzaXplID0gdGhpcy5nZXRNYXRlcmlhbChpZCwgInNpemUiKTsKCQkJCXJlc3VsdCA9IHJlc3VsdCArICIJICBnbF9Qb2ludFNpemUgPSAiK3NpemUudG9GaXhlZCgxKSsiO1xuIjsKCQkJfQoKCQkJcmVzdWx0ID0gcmVzdWx0ICsgIgkgIHZDb2wgPSBhQ29sO1xuIjsKCgkJCWlmIChpc19saXQgJiYgIWZpeGVkX3F1YWRzICYmICFzcHJpdGVfM2QpCgkJCQlyZXN1bHQgPSByZXN1bHQgKyAiCSAgdk5vcm1hbCA9IG5vcm1hbGl6ZSgobm9ybU1hdHJpeCAqIHZlYzQoYU5vcm0sIDEuKSkueHl6KTtcbiI7CgoJCQlpZiAoaGFzX3RleHR1cmUgfHwgdHlwZSA9PT0gInRleHQiKQoJCQkJcmVzdWx0ID0gcmVzdWx0ICsgIgkgIHZUZXhjb29yZCA9IGFUZXhjb29yZDtcbiI7CgoJCQlpZiAodHlwZSA9PSAidGV4dCIpCgkJCQlyZXN1bHQgPSByZXN1bHQgKyAiCSAgdmVjNCBwb3MgPSBwck1hdHJpeCAqIG12TWF0cml4ICogdmVjNChhUG9zLCAxLik7XG4iKwoJCQkgICAgICAgICAgICAgICAgICAgICIgICBwb3MgPSBwb3MvcG9zLnc7XG4iKwoJCQkgICAgICAgICAgICAgICAgICAgICIgICBnbF9Qb3NpdGlvbiA9IHBvcyArIHZlYzQoYU9mcyp0ZXh0U2NhbGUsIDAuLDAuKTtcbiI7CgoJCQlpZiAodHlwZSA9PSAic3ByaXRlcyIpCgkJCQlyZXN1bHQgPSByZXN1bHQgKyAiCSAgdmVjNCBwb3MgPSBtdk1hdHJpeCAqIHZlYzQoYVBvcywgMS4pO1xuIisKCQkJICAgICAgICAgICAgICAgICAgICAiICAgcG9zID0gcG9zL3Bvcy53ICsgdmVjNChhT2ZzLCAwLiwgMC4pO1xuIisKCQkJICAgICAgICAgICAgICAgICAgICAiICAgZ2xfUG9zaXRpb24gPSBwck1hdHJpeCpwb3M7XG4iOwoKCQkJaWYgKHNwcml0ZV8zZCkKCQkJCXJlc3VsdCA9IHJlc3VsdCArICIJICB2Tm9ybWFsID0gbm9ybWFsaXplKChub3JtTWF0cml4ICogdmVjNChhTm9ybSwgMS4pKS54eXopO1xuIisKCQkJICAgICAgICAgICAgICAgICAgICAiICAgdmVjNCBwb3MgPSBtdk1hdHJpeCAqIHZlYzQodU9yaWcsIDEuKTtcbiIrCgkJCSAgICAgICAgICAgICAgICAgICAgIiAgIHZQb3NpdGlvbiA9IHBvcy9wb3MudyArIHZlYzQodVNpemUqKHZlYzQoYVBvcywgMS4pKnVzZXJtYXQpLnh5eiwwLik7XG4iKwoJCQkgICAgICAgICAgICAgICAgICAgICIgICBnbF9Qb3NpdGlvbiA9IHByTWF0cml4ICogdlBvc2l0aW9uO1xuIjsKCgkJCXJlc3VsdCA9IHJlc3VsdCArICIJfVxuIjsKCQkJcmV0dXJuIHJlc3VsdDsKICAgIH07CgogICAgdGhpcy5nZXRGcmFnbWVudFNoYWRlciA9IGZ1bmN0aW9uKGlkKSB7CgkgICAgdmFyIG9iaiA9IHRoaXMuZ2V0T2JqKGlkKSwKCSAgICAgICAgZmxhZ3MgPSBvYmouZmxhZ3MsCgkgICAgICAgIHR5cGUgPSBvYmoudHlwZSwKICAgICAgICAgIGlzX2xpdCA9IGZsYWdzICYgdGhpcy5mX2lzX2xpdCwKCQkgICAgICBoYXNfdGV4dHVyZSA9IGZsYWdzICYgdGhpcy5mX2hhc190ZXh0dXJlLAoJCSAgICAgIGZpeGVkX3F1YWRzID0gZmxhZ3MgJiB0aGlzLmZfZml4ZWRfcXVhZHMsCgkJICAgICAgc3ByaXRlc18zZCA9IGZsYWdzICYgdGhpcy5mX3Nwcml0ZXNfM2QsCgkJICAgICAgbmNsaXBwbGFuZXMgPSB0aGlzLmNvdW50Q2xpcHBsYW5lcygpLCBpLAogICAgICAgICAgdGV4dHVyZV9mb3JtYXQsIG5saWdodHMsCiAgICAgICAgICByZXN1bHQ7CgoJCSAgaWYgKHR5cGUgPT09ICJjbGlwcGxhbmVzIiB8fCBzcHJpdGVzXzNkKSByZXR1cm47CgoJCSAgaWYgKGhhc190ZXh0dXJlKQoJCQkgIHRleHR1cmVfZm9ybWF0ID0gdGhpcy5nZXRNYXRlcmlhbChpZCwgInRleHR5cGUiKTsKCgkJICByZXN1bHQgPSAiLyogKioqKioqICIrdHlwZSsiIG9iamVjdCAiK2lkKyIgZnJhZ21lbnQgc2hhZGVyICoqKioqKiAqL1xuIisKCQkgIAkJCQkgIiNpZmRlZiBHTF9FU1xuIisKCQkJCSAgICAgICAiICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4iKwoJCQkJICAgICAgICIjZW5kaWZcbiIrCgkJCQkgICAgICAgIiAgdmFyeWluZyB2ZWM0IHZDb2w7IC8vIGNhcnJpZXMgYWxwaGFcbiIrCgkJCQkgICAgICAgIiAgdmFyeWluZyB2ZWM0IHZQb3NpdGlvbjtcbiI7CgoJCQlpZiAoaGFzX3RleHR1cmUgfHwgdHlwZSA9PT0gInRleHQiKQoJCQkJcmVzdWx0ID0gcmVzdWx0ICsgIgl2YXJ5aW5nIHZlYzIgdlRleGNvb3JkO1xuIisKCQkJICAgICAgICAgICAgICAgICAgICAiIHVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xuIjsKCgkJCWlmIChpc19saXQgJiYgIWZpeGVkX3F1YWRzKQoJCQkJcmVzdWx0ID0gcmVzdWx0ICsgIgl2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcbiI7CgoJCQlmb3IgKGkgPSAwOyBpIDwgbmNsaXBwbGFuZXM7IGkrKykKCQkJCXJlc3VsdCA9IHJlc3VsdCArICIJdW5pZm9ybSB2ZWM0IHZDbGlwcGxhbmUiK2krIjtcbiI7CgoJCQlpZiAoaXNfbGl0KSB7CgkJCSAgbmxpZ2h0cyA9IHRoaXMuY291bnRMaWdodHMoKTsKCQkJICBpZiAobmxpZ2h0cykKCQkJICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgIgl1bmlmb3JtIG1hdDQgbXZNYXRyaXg7XG4iOwoJCQkgIGVsc2UKCQkJICAgICAgaXNfbGl0ID0gZmFsc2U7CgkJCX0KCgkJCWlmIChpc19saXQpIHsKCQkJCXJlc3VsdCA9IHJlc3VsdCArICIJICB1bmlmb3JtIHZlYzMgZW1pc3Npb247XG4iKwoJCQkJICAgICAgICAgICAgICAgICAgIiAgIHVuaWZvcm0gZmxvYXQgc2hpbmluZXNzO1xuIjsKCgkJCQlmb3IgKGk9MDsgaSA8IG5saWdodHM7IGkrKykgewoJCQkJCXJlc3VsdCA9IHJlc3VsdCArICIJICB1bmlmb3JtIHZlYzMgYW1iaWVudCIgKyBpICsgIjtcbiIrCgkJCQkJCSAgICAgICAgICAgICAgICAiICAgdW5pZm9ybSB2ZWMzIHNwZWN1bGFyIiArIGkgKyI7IC8vIGxpZ2h0Km1hdGVyaWFsXG4iKwoJCQkJCQkgICAgICAgICAgICAgICAgIiAgIHVuaWZvcm0gdmVjMyBkaWZmdXNlIiArIGkgKyAiO1xuIisKCQkJCQkJICAgICAgICAgICAgICAgICIgICB1bmlmb3JtIHZlYzMgbGlnaHREaXIiICsgaSArICI7XG4iKwoJCQkJCQkgICAgICAgICAgICAgICAgIiAgIHVuaWZvcm0gYm9vbCB2aWV3cG9pbnQiICsgaSArICI7XG4iKwoJCQkJCQkgICAgICAgICAgICAgICAgIiAgIHVuaWZvcm0gYm9vbCBmaW5pdGUiICsgaSArICI7XG4iOwoJCQkJfQoJCQl9CgoJCQlyZXN1bHQgPSByZXN1bHQgKyAiCXZvaWQgbWFpbih2b2lkKSB7XG4iOwoKCQkJZm9yIChpPTA7IGkgPCBuY2xpcHBsYW5lcztpKyspCgkJCSAgcmVzdWx0ID0gcmVzdWx0ICsgIgkgIGlmIChkb3QodlBvc2l0aW9uLCB2Q2xpcHBsYW5lIitpKyIpIDwgMC4wKSBkaXNjYXJkO1xuIjsKCgkJCWlmIChpc19saXQpIHsKCQkJCXJlc3VsdCA9IHJlc3VsdCArICIJICB2ZWMzIGV5ZSA9IG5vcm1hbGl6ZSgtdlBvc2l0aW9uLnh5eik7XG4iKwoJCQkJICAgICAgICAgICAgICAgICAgIiAgIHZlYzMgbGlnaHRkaXI7XG4iKwoJCQkJICAgICAgICAgICAgICAgICAgIiAgIHZlYzQgY29sRGlmZjtcbiIrCgkJCQkgICAgICAgICAgICAgICAgICAiICAgdmVjMyBoYWxmVmVjO1xuIisKCQkJCSAgICAgICAgICAgICAgICAgICIgICB2ZWM0IGxpZ2h0ZWZmZWN0ID0gdmVjNChlbWlzc2lvbiwgMC4pO1xuIisKCQkJCSAgICAgICAgICAgICAgICAgICIgICB2ZWMzIGNvbDtcbiIrCgkJCQkgICAgICAgICAgICAgICAgICAiICAgZmxvYXQgbkRvdEw7XG4iOwoJCQkJaWYgKGZpeGVkX3F1YWRzKSB7CgkJCQkJcmVzdWx0ID0gcmVzdWx0ICsgICAiCSAgdmVjMyBuID0gdmVjMygwLiwgMC4sIDEuKTtcbiI7CgkJCQl9CgkJCQllbHNlIHsKCQkJCQlyZXN1bHQgPSByZXN1bHQgKyAgICIJICB2ZWMzIG4gPSBub3JtYWxpemUodk5vcm1hbCk7XG4iKwoJCQkJCQkgICAgICAgICAgICAgICAgICAiICAgbiA9IC1mYWNlZm9yd2FyZChuLCBuLCBleWUpO1xuIjsKCQkJCX0KICAgICAgICBmb3IgKGk9MDsgaSA8IG5saWdodHM7IGkrKykgewoJCQkJCXJlc3VsdCA9IHJlc3VsdCArICIgICBjb2xEaWZmID0gdmVjNCh2Q29sLnJnYiAqIGRpZmZ1c2UiICsgaSArICIsIHZDb2wuYSk7XG4iKwoJCQkJCSAgICAgICAgICAgICAgICAgICIgICBsaWdodGRpciA9IGxpZ2h0RGlyIiArIGkgKyAiO1xuIisKCQkJCQkgICAgICAgICAgICAgICAgICAiICAgaWYgKCF2aWV3cG9pbnQiICsgaSArIilcbiIrCgkJCQkJCSAgICAgICAgICAgICAgICAiICAgICBsaWdodGRpciA9IChtdk1hdHJpeCAqIHZlYzQobGlnaHRkaXIsIDEuKSkueHl6O1xuIisKCQkJCQkJICAgICAgICAgICAgICAgICIgICBpZiAoIWZpbml0ZSIgKyBpICsgIikge1xuIisKCQkJCQkJICAgICAgICAgICAgICAgICIgICAgIGhhbGZWZWMgPSBub3JtYWxpemUobGlnaHRkaXIgKyBleWUpO1xuIisKCQkJCQkgICAgICAgICAgICAgICAgICAiICAgfSBlbHNlIHtcbiIrCgkJCQkJCSAgICAgICAgICAgICAgICAiICAgICBsaWdodGRpciA9IG5vcm1hbGl6ZShsaWdodGRpciAtIHZQb3NpdGlvbi54eXopO1xuIisKCQkJCQkJCQkJICAgICAgICAgICIgICAgIGhhbGZWZWMgPSBub3JtYWxpemUobGlnaHRkaXIgKyBleWUpO1xuIisKCQkJCQkgICAgICAgICAgICAgICAgICAiICAgfVxuIisKCQkJCQkgICAgICAgICAgICAgICAgICAiCSAgY29sID0gYW1iaWVudCIgKyBpICsgIjtcbiIrCgkJCQkJCSAgICAgICAgICAgICAgICAiICAgbkRvdEwgPSBkb3QobiwgbGlnaHRkaXIpO1xuIisKCQkJCQkJICAgICAgICAgICAgICAgICIgICBjb2wgPSBjb2wgKyBtYXgobkRvdEwsIDAuKSAqIGNvbERpZmYucmdiO1xuIisKCQkJCQkJICAgICAgICAgICAgICAgICIgICBjb2wgPSBjb2wgKyBwb3cobWF4KGRvdChoYWxmVmVjLCBuKSwgMC4pLCBzaGluaW5lc3MpICogc3BlY3VsYXIiICsgaSArICI7XG4iKwoJCQkJCQkgICAgICAgICAgICAgICAgIiAgIGxpZ2h0ZWZmZWN0ID0gbGlnaHRlZmZlY3QgKyB2ZWM0KGNvbCwgY29sRGlmZi5hKTtcbiI7CgkJCQl9CgoJCSAgfSBlbHNlIHsKCQkJCXJlc3VsdCA9IHJlc3VsdCArICAgIiAgIHZlYzQgY29sRGlmZiA9IHZDb2w7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIgkgIHZlYzQgbGlnaHRlZmZlY3QgPSBjb2xEaWZmO1xuIjsKCQkJfQoKCQkJaWYgKChoYXNfdGV4dHVyZSAmJiB0ZXh0dXJlX2Zvcm1hdCA9PT0gInJnYmEiKSB8fCB0eXBlID09PSAidGV4dCIpCgkJCQlyZXN1bHQgPSByZXN1bHQgKyAgICIJICB2ZWM0IHRleHR1cmVDb2xvciA9IGxpZ2h0ZWZmZWN0KnRleHR1cmUyRCh1U2FtcGxlciwgdlRleGNvb3JkKTtcbiI7CgoJCQlpZiAoaGFzX3RleHR1cmUpIHsKCQkJICByZXN1bHQgPSByZXN1bHQgKyB7CgkJCQkJCXJnYjogICAgICAgICAgICAiICAgdmVjNCB0ZXh0dXJlQ29sb3IgPSBsaWdodGVmZmVjdCp2ZWM0KHRleHR1cmUyRCh1U2FtcGxlciwgdlRleGNvb3JkKS5yZ2IsIDEuKTtcbiIsCgkJCQkJCWFscGhhOiAgICAgICAgICAiICAgdmVjNCB0ZXh0dXJlQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXhjb29yZCk7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgIGZsb2F0IGx1bWluYW5jZSA9IGRvdCh2ZWMzKDEuLDEuLDEuKSwgdGV4dHVyZUNvbG9yLnJnYikvMy47XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgIHRleHR1cmVDb2xvciA9ICB2ZWM0KGxpZ2h0ZWZmZWN0LnJnYiwgbGlnaHRlZmZlY3QuYSpsdW1pbmFuY2UpO1xuIiwKCQkJCQkJbHVtaW5hbmNlOiAgICAgICIgICB2ZWM0IHRleHR1cmVDb2xvciA9IHZlYzQobGlnaHRlZmZlY3QucmdiKmRvdCh0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXhjb29yZCkucmdiLCB2ZWMzKDEuLDEuLDEuKSkvMy4sIGxpZ2h0ZWZmZWN0LmEpO1xuIiwKCQkJCQkibHVtaW5hbmNlLmFscGhhIjoiCSAgdmVjNCB0ZXh0dXJlQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXhjb29yZCk7XG4iKwoJCQkJCQkgICAgICAgICAgICAgICAgIiAgIGZsb2F0IGx1bWluYW5jZSA9IGRvdCh2ZWMzKDEuLDEuLDEuKSx0ZXh0dXJlQ29sb3IucmdiKS8zLjtcbiIrCgkJCQkJCSAgICAgICAgICAgICAgICAiICAgdGV4dHVyZUNvbG9yID0gdmVjNChsaWdodGVmZmVjdC5yZ2IqbHVtaW5hbmNlLCBsaWdodGVmZmVjdC5hKnRleHR1cmVDb2xvci5hKTtcbiIKCQkJICAgIH1bdGV4dHVyZV9mb3JtYXRdKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmVDb2xvcjtcbiI7CgkJCX0gZWxzZSBpZiAodHlwZSA9PT0gInRleHQiKSB7CgkJCSAgcmVzdWx0ID0gcmVzdWx0ICsgICAiCSAgaWYgKHRleHR1cmVDb2xvci5hIDwgMC4xKVxuIisKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgIGRpc2NhcmQ7XG4iKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgIGVsc2VcbiIrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlQ29sb3I7XG4iOwoJCQl9IGVsc2UKCQkJICByZXN1bHQgPSByZXN1bHQgKyAgICIgICBnbF9GcmFnQ29sb3IgPSBsaWdodGVmZmVjdDtcbiI7CgoJCQlyZXN1bHQgPSByZXN1bHQgKyAiCX1cbiI7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9OwoKICAgIHRoaXMuZ2V0U2hhZGVyID0gZnVuY3Rpb24oc2hhZGVyVHlwZSwgY29kZSkgewogICAgICAgIHZhciBnbCA9IHRoaXMuZ2wsIHNoYWRlcjsKICAgICAgICBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoc2hhZGVyVHlwZSk7CiAgICAgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgY29kZSk7CiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpOwogICAgICAgIGlmIChnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykgPT09IDApCiAgICAgICAgICAgIGFsZXJ0KGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7CiAgICAgICAgcmV0dXJuIHNoYWRlcjsKICAgIH07CgogICAgdGhpcy5oYW5kbGVMb2FkZWRUZXh0dXJlID0gZnVuY3Rpb24odGV4dHVyZSwgdGV4dHVyZUNhbnZhcykgewoJICAgIHZhciBnbCA9IHRoaXMuZ2w7CgkgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgdHJ1ZSk7CgoJICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpOwoJICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgdGV4dHVyZUNhbnZhcyk7CgkgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7CgkgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCk7CgkgICAgZ2wuZ2VuZXJhdGVNaXBtYXAoZ2wuVEVYVFVSRV8yRCk7CgoJICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG51bGwpOwoJICB9OwoKCSAgdGhpcy5sb2FkSW1hZ2VUb1RleHR1cmUgPSBmdW5jdGlvbih1cmksIHRleHR1cmUpIHsKCSAgICB2YXIgY2FudmFzID0gdGhpcy50ZXh0dXJlQ2FudmFzLAoJICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKSwKCSAgICAgICAgaW1hZ2UgPSBuZXcgSW1hZ2UoKSwKCSAgICAgICAgc2VsZiA9IHRoaXM7CgoJICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHsKCSAgICAgICB2YXIgdyA9IGltYWdlLndpZHRoLAoJICAgICAgICAgICBoID0gaW1hZ2UuaGVpZ2h0LAoJICAgICAgICAgICBjYW52YXNYID0gc2VsZi5nZXRQb3dlck9mVHdvKHcpLAoJICAgICAgICAgICBjYW52YXNZID0gc2VsZi5nZXRQb3dlck9mVHdvKGgpLAoJICAgICAgICAgICBnbCA9IHNlbGYuZ2wsCgkgICAgICAgICAgIG1heFRleFNpemUgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfU0laRSk7CgkgICAgICAgaWYgKG1heFRleFNpemUgPiA0MDk2KSBtYXhUZXhTaXplID0gNDA5NjsKCSAgICAgICB3aGlsZSAoY2FudmFzWCA+IDEgJiYgY2FudmFzWSA+IDEgJiYgKGNhbnZhc1ggPiBtYXhUZXhTaXplIHx8IGNhbnZhc1kgPiBtYXhUZXhTaXplKSkgewoJICAgICAgICAgY2FudmFzWCAvPSAyOwoJICAgICAgICAgY2FudmFzWSAvPSAyOwoJICAgICAgIH0KCSAgICAgICBjYW52YXMud2lkdGggPSBjYW52YXNYOwoJICAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXNZOwoJICAgICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSB0cnVlOwoJICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIGNhbnZhc1gsIGNhbnZhc1kpOwoJICAgICAgIHNlbGYuaGFuZGxlTG9hZGVkVGV4dHVyZSh0ZXh0dXJlLCBjYW52YXMpOwoJICAgICAgIHNlbGYuZHJhd1NjZW5lKCk7CgkgICAgIH07CgkgICAgIGltYWdlLnNyYyA9IHVyaTsKCSAgIH07CgogICAgdGhpcy5kcmF3VGV4dFRvQ2FudmFzID0gZnVuY3Rpb24odGV4dCwgY2V4LCBmYW1pbHksIGZvbnQpIHsKCSAgICAgdmFyIGNhbnZhc1gsIGNhbnZhc1ksCgkgICAgICAgICB0ZXh0WSwKICAgICAgICAgICBzY2FsaW5nID0gMjAsCgkgICAgICAgICB0ZXh0Q29sb3VyID0gIndoaXRlIiwKCgkgICAgICAgICBiYWNrZ3JvdW5kQ29sb3VyID0gInJnYmEoMCwwLDAsMCkiLAogICAgICAgICAgIGNhbnZhcyA9IHRoaXMudGV4dHVyZUNhbnZhcywKCSAgICAgICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpLAogICAgICAgICAgIGksIHRleHRIZWlnaHRzID0gW10sIHdpZHRocyA9IFtdLCBvZmZzZXQgPSAwLCBvZmZzZXRzID0gW10sCgkgICAgICAgICBmb250U3RyaW5ncyA9IFtdLAogICAgICAgICAgIGdldEZvbnRTdHJpbmcgPSBmdW5jdGlvbihpKSB7CiAgICAgICAgICAgICB0ZXh0SGVpZ2h0c1tpXSA9IHNjYWxpbmcqY2V4W2ldOwogICAgICAgICAgICAgdmFyIGZvbnRTdHJpbmcgPSB0ZXh0SGVpZ2h0c1tpXSArICJweCIsCiAgICAgICAgICAgICAgICAgZmFtaWx5MCA9IGZhbWlseVtpXSwKICAgICAgICAgICAgICAgICBmb250MCA9IGZvbnRbaV07CiAgICAgICAgICAgICBpZiAoZmFtaWx5MCA9PT0gInNhbnMiKQogICAgICAgICAgICAgICBmYW1pbHkwID0gInNhbnMtc2VyaWYiOwogICAgICAgICAgICAgZWxzZSBpZiAoZmFtaWx5MCA9PT0gIm1vbm8iKQogICAgICAgICAgICAgICBmYW1pbHkwID0gIm1vbm9zcGFjZSI7CiAgICAgICAgICAgICBmb250U3RyaW5nID0gZm9udFN0cmluZyArICIgIiArIGZhbWlseTA7CiAgICAgICAgICAgICBpZiAoZm9udDAgPT09IDIgfHwgZm9udDAgPT09IDQpCiAgICAgICAgICAgICAgIGZvbnRTdHJpbmcgPSAiYm9sZCAiICsgZm9udFN0cmluZzsKICAgICAgICAgICAgIGlmIChmb250MCA9PT0gMyB8fCBmb250MCA9PT0gNCkKICAgICAgICAgICAgICAgZm9udFN0cmluZyA9ICJpdGFsaWMgIiArIGZvbnRTdHJpbmc7CiAgICAgICAgICAgICByZXR1cm4gZm9udFN0cmluZzsKICAgICAgICAgICB9OwogICAgICAgY2V4ID0gdGhpcy5yZXBlYXRUb0xlbihjZXgsIHRleHQubGVuZ3RoKTsKICAgICAgIGZhbWlseSA9IHRoaXMucmVwZWF0VG9MZW4oZmFtaWx5LCB0ZXh0Lmxlbmd0aCk7CiAgICAgICBmb250ID0gdGhpcy5yZXBlYXRUb0xlbihmb250LCB0ZXh0Lmxlbmd0aCk7CgoJICAgICBjYW52YXNYID0gMTsKCSAgICAgZm9yIChpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspICB7CgkgICAgICAgY3R4LmZvbnQgPSBmb250U3RyaW5nc1tpXSA9IGdldEZvbnRTdHJpbmcoaSk7CgkgICAgICAgd2lkdGhzW2ldID0gY3R4Lm1lYXN1cmVUZXh0KHRleHRbaV0pLndpZHRoOwoJICAgICAgIG9mZnNldCA9IG9mZnNldHNbaV0gPSBvZmZzZXQgKyAyKnRleHRIZWlnaHRzW2ldOwoJICAgICAgIGNhbnZhc1ggPSAod2lkdGhzW2ldID4gY2FudmFzWCkgPyB3aWR0aHNbaV0gOiBjYW52YXNYOwoJICAgICB9CgkgICAgIGNhbnZhc1ggPSB0aGlzLmdldFBvd2VyT2ZUd28oY2FudmFzWCk7CgkgICAgIGNhbnZhc1kgPSB0aGlzLmdldFBvd2VyT2ZUd28ob2Zmc2V0KTsKCgkgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhc1g7CgkgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXNZOwoKCSAgICAgY3R4LmZpbGxTdHlsZSA9IGJhY2tncm91bmRDb2xvdXI7CgkgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjdHguY2FudmFzLndpZHRoLCBjdHguY2FudmFzLmhlaWdodCk7CgoJICAgICBjdHgudGV4dEJhc2VsaW5lID0gImFscGhhYmV0aWMiOwoJICAgICBmb3IoaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7CgkgICAgICAgdGV4dFkgPSBvZmZzZXRzW2ldOwoJICAgICAgIGN0eC5mb250ID0gZm9udFN0cmluZ3NbaV07CgkgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRleHRDb2xvdXI7CgkgICAgICAgY3R4LnRleHRBbGlnbiA9ICJsZWZ0IjsKCSAgICAgICBjdHguZmlsbFRleHQodGV4dFtpXSwgMCwgIHRleHRZKTsKCSAgICAgfQoJICAgICByZXR1cm4ge2NhbnZhc1g6Y2FudmFzWCwgY2FudmFzWTpjYW52YXNZLAoJICAgICAgICAgICAgIHdpZHRoczp3aWR0aHMsIHRleHRIZWlnaHRzOnRleHRIZWlnaHRzLAoJICAgICAgICAgICAgIG9mZnNldHM6b2Zmc2V0c307CgkgICB9OwoKICAgIHRoaXMuc2V0Vmlld3BvcnQgPSBmdW5jdGlvbihpZCkgewoJICAgICB2YXIgZ2wgPSB0aGlzLmdsLAoJICAgICAgIHZwID0gdGhpcy5nZXRPYmooaWQpLnBhcjNkLnZpZXdwb3J0LAoJICAgICAgIHggPSB2cC54KnRoaXMuY2FudmFzLndpZHRoLAoJICAgICAgIHkgPSB2cC55KnRoaXMuY2FudmFzLmhlaWdodCwKCSAgICAgICB3aWR0aCA9IHZwLndpZHRoKnRoaXMuY2FudmFzLndpZHRoLAoJICAgICAgIGhlaWdodCA9IHZwLmhlaWdodCp0aGlzLmNhbnZhcy5oZWlnaHQ7CgkgICAgIHRoaXMudnAgPSB7eDp4LCB5OnksIHdpZHRoOndpZHRoLCBoZWlnaHQ6aGVpZ2h0fTsKCSAgICAgZ2wudmlld3BvcnQoeCwgeSwgd2lkdGgsIGhlaWdodCk7CgkgICAgIGdsLnNjaXNzb3IoeCwgeSwgd2lkdGgsIGhlaWdodCk7CgkgICB9OwoKCSAgdGhpcy5zZXRwck1hdHJpeCA9IGZ1bmN0aW9uKGlkKSB7CiAgICAgICB2YXIgc3Vic2NlbmUgPSB0aGlzLmdldE9iaihpZCksCiAgICAgICAgICBlbWJlZGRpbmcgPSBzdWJzY2VuZS5lbWJlZGRpbmdzLnByb2plY3Rpb247CiAgICAgICBpZiAoZW1iZWRkaW5nID09PSAicmVwbGFjZSIpCiAgICAgICAgIHRoaXMucHJNYXRyaXgubWFrZUlkZW50aXR5KCk7CiAgICAgICBlbHNlCiAgICAgICAgIHRoaXMuc2V0cHJNYXRyaXgoc3Vic2NlbmUucGFyZW50KTsKICAgICAgIGlmIChlbWJlZGRpbmcgPT09ICJpbmhlcml0IikKICAgICAgICAgcmV0dXJuOwogICAgICAgLy8gVGhpcyBpcyBiYXNlZCBvbiB0aGUgRnJ1c3R1bTo6ZW5jbG9zZSBjb2RlIGZyb20gZ2VvbS5jcHAKICAgICAgIHZhciBiYm94ID0gc3Vic2NlbmUucGFyM2QuYmJveCwKICAgICAgICAgICBzY2FsZSA9IHN1YnNjZW5lLnBhcjNkLnNjYWxlLAogICAgICAgICAgIHJhbmdlcyA9IFsoYmJveFsxXS1iYm94WzBdKSpzY2FsZVswXS8yLAogICAgICAgICAgICAgICAgICAgICAoYmJveFszXS1iYm94WzJdKSpzY2FsZVsxXS8yLAogICAgICAgICAgICAgICAgICAgICAoYmJveFs1XS1iYm94WzRdKSpzY2FsZVsyXS8yXSwKICAgICAgICAgICByYWRpdXMgPSBNYXRoLnNxcnQodGhpcy5zdW1zcShyYW5nZXMpKSoxLjE7IC8vIEEgYml0IGJpZ2dlciB0byBoYW5kbGUgbGFiZWxzCiAgICAgICBpZiAocmFkaXVzIDw9IDApIHJhZGl1cyA9IDE7CiAgICAgICB2YXIgb2JzZXJ2ZXIgPSBzdWJzY2VuZS5wYXIzZC5vYnNlcnZlciwKICAgICAgICAgICBkaXN0YW5jZSA9IG9ic2VydmVyWzJdLAoJICAgICAgICAgdCA9IE1hdGgudGFuKHN1YnNjZW5lLnBhcjNkLkZPVipNYXRoLlBJLzM2MCksCgkgICAgICAgICBuZWFyID0gZGlzdGFuY2UgLSByYWRpdXMsCgkgICAgICAgICBmYXIgPSBkaXN0YW5jZSArIHJhZGl1cywKCSAgICAgICAgIGhsZW4gPSB0Km5lYXIsCgkgICAgICAgICBhc3BlY3QgPSB0aGlzLnZwLndpZHRoL3RoaXMudnAuaGVpZ2h0LAoJICAgICAgICAgeiA9IHN1YnNjZW5lLnBhcjNkLnpvb207CgkgICAgIGlmIChhc3BlY3QgPiAxKQoJICAgICAgIHRoaXMucHJNYXRyaXguZnJ1c3R1bSgtaGxlbiphc3BlY3QqeiwgaGxlbiphc3BlY3QqeiwKCSAgICAgICAgICAgICAgICAgICAgICAgIC1obGVuKnosIGhsZW4qeiwgbmVhciwgZmFyKTsKCSAgICAgZWxzZQoJICAgICAgIHRoaXMucHJNYXRyaXguZnJ1c3R1bSgtaGxlbip6LCBobGVuKnosCgkgICAgICAgICAgICAgICAgICAgICAgICAtaGxlbip6L2FzcGVjdCwgaGxlbip6L2FzcGVjdCwKCSAgICAgICAgICAgICAgICAgICAgICAgIG5lYXIsIGZhcik7CgkgICB9OwoKCSAgdGhpcy5zZXRtdk1hdHJpeCA9IGZ1bmN0aW9uKGlkKSB7CgkgICAgIHZhciBvYnNlcnZlciA9IHRoaXMuZ2V0T2JqKGlkKS5wYXIzZC5vYnNlcnZlcjsKCSAgICAgdGhpcy5tdk1hdHJpeC5tYWtlSWRlbnRpdHkoKTsKCSAgICAgdGhpcy5zZXRtb2RlbE1hdHJpeChpZCk7CgkgICAgIHRoaXMubXZNYXRyaXgudHJhbnNsYXRlKC1vYnNlcnZlclswXSwgLW9ic2VydmVyWzFdLCAtb2JzZXJ2ZXJbMl0pOwoKCSAgIH07CgogICAgdGhpcy5zZXRtb2RlbE1hdHJpeCA9IGZ1bmN0aW9uKGlkKSB7CgkgICAgdmFyIHN1YnNjZW5lID0gdGhpcy5nZXRPYmooaWQpLAoJICAgICAgICBlbWJlZGRpbmcgPSBzdWJzY2VuZS5lbWJlZGRpbmdzLm1vZGVsOwoJICAgIGlmIChlbWJlZGRpbmcgIT09ICJpbmhlcml0IikgewoJICAgICAgdmFyIHNjYWxlID0gc3Vic2NlbmUucGFyM2Quc2NhbGUsCgkgICAgICAgICAgYmJveCA9IHN1YnNjZW5lLnBhcjNkLmJib3gsCgkgICAgICAgICAgY2VudGVyID0gWyhiYm94WzBdK2Jib3hbMV0pLzIsCgkgICAgICAgICAgICAgICAgICAgIChiYm94WzJdK2Jib3hbM10pLzIsCgkgICAgICAgICAgICAgICAgICAgIChiYm94WzRdK2Jib3hbNV0pLzJdOwoJICAgICAgIHRoaXMubXZNYXRyaXgudHJhbnNsYXRlKC1jZW50ZXJbMF0sIC1jZW50ZXJbMV0sIC1jZW50ZXJbMl0pOwoJICAgICAgIHRoaXMubXZNYXRyaXguc2NhbGUoc2NhbGVbMF0sIHNjYWxlWzFdLCBzY2FsZVsyXSk7CgkgICAgICAgdGhpcy5tdk1hdHJpeC5tdWx0UmlnaHQoIHN1YnNjZW5lLnBhcjNkLnVzZXJNYXRyaXggKTsKCSAgICAgfQoJICAgICBpZiAoZW1iZWRkaW5nICE9PSAicmVwbGFjZSIpCgkgICAgICAgdGhpcy5zZXRtb2RlbE1hdHJpeChzdWJzY2VuZS5wYXJlbnQpOwoJICAgfTsKCgkgIHRoaXMuc2V0bm9ybU1hdHJpeCA9IGZ1bmN0aW9uKHN1YnNjZW5laWQpIHsKCSAgICAgdmFyIHNlbGYgPSB0aGlzLAoJICAgICByZWN1cnNlID0gZnVuY3Rpb24oaWQpIHsKCSAgICAgICB2YXIgc3ViID0gc2VsZi5nZXRPYmooaWQpLAoJICAgICAgICAgICBlbWJlZGRpbmcgPSBzdWIuZW1iZWRkaW5ncy5tb2RlbDsKICAgICAgICAgaWYgKGVtYmVkZGluZyAhPT0gImluaGVyaXQiKSB7CiAgICAgICAgICAgdmFyIHNjYWxlID0gc3ViLnBhcjNkLnNjYWxlOwogICAgICAgICAgIHNlbGYubm9ybU1hdHJpeC5zY2FsZSgxL3NjYWxlWzBdLCAxL3NjYWxlWzFdLCAxL3NjYWxlWzJdKTsKICAgICAgICAgICBzZWxmLm5vcm1NYXRyaXgubXVsdFJpZ2h0KHN1Yi5wYXIzZC51c2VyTWF0cml4KTsKICAgICAgICAgfQogICAgICAgICBpZiAoZW1iZWRkaW5nICE9PSAicmVwbGFjZSIpCiAgICAgICAgICAgcmVjdXJzZShzdWIucGFyZW50KTsKICAgICAgIH07CiAgICAgICBzZWxmLm5vcm1NYXRyaXgubWFrZUlkZW50aXR5KCk7CiAgICAgICByZWN1cnNlKHN1YnNjZW5laWQpOwoJICAgfTsKCgkgIHRoaXMuc2V0cHJtdk1hdHJpeCA9IGZ1bmN0aW9uKCkgewoJICAgICB0aGlzLnBybXZNYXRyaXggPSBuZXcgQ2FudmFzTWF0cml4NCggdGhpcy5tdk1hdHJpeCApOwoJICAgICB0aGlzLnBybXZNYXRyaXgubXVsdFJpZ2h0KCB0aGlzLnByTWF0cml4ICk7CgkgICB9OwoKICAgIHRoaXMuY291bnRDbGlwcGxhbmVzID0gZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmNvdW50T2JqcygiY2xpcHBsYW5lcyIpOwogICAgfTsKCiAgICB0aGlzLmNvdW50TGlnaHRzID0gZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmNvdW50T2JqcygibGlnaHQiKTsKICAgIH07CgogICAgdGhpcy5jb3VudE9ianMgPSBmdW5jdGlvbih0eXBlKSB7CiAgICAgIHZhciBzZWxmID0gdGhpcywKICAgICAgICAgIGJvdW5kID0gMDsKCiAgICAgIE9iamVjdC5rZXlzKHRoaXMuc2NlbmUub2JqZWN0cykuZm9yRWFjaCgKICAgICAgICBmdW5jdGlvbihrZXkpIHsKICAgICAgICAgIGlmIChzZWxmLmdldE9iaihwYXJzZUludChrZXksIDEwKSkudHlwZSA9PT0gdHlwZSkKICAgICAgICAgICAgYm91bmQgPSBib3VuZCArIDE7CiAgICAgICAgfSk7CiAgICAgIHJldHVybiBib3VuZDsKICAgIH07CgogICAgdGhpcy5pbml0U3Vic2NlbmUgPSBmdW5jdGlvbihpZCkgewogICAgICB2YXIgc3ViID0gdGhpcy5nZXRPYmooaWQpLAogICAgICAgICAgaSwgb2JqOwoKICAgICAgaWYgKHN1Yi50eXBlICE9PSAic3Vic2NlbmUiKQogICAgICAgIHJldHVybjsKCiAgICAgIHN1Yi5wYXIzZC51c2VyTWF0cml4ID0gdGhpcy50b0NhbnZhc01hdHJpeDQoc3ViLnBhcjNkLnVzZXJNYXRyaXgpOwogICAgICBzdWIucGFyM2QubGlzdGVuZXJzID0gW10uY29uY2F0KHN1Yi5wYXIzZC5saXN0ZW5lcnMpOwogICAgICBzdWIuYmFja2dyb3VuZElkID0gdW5kZWZpbmVkOwogICAgICBzdWIuc3Vic2NlbmVzID0gW107CiAgICAgIHN1Yi5jbGlwcGxhbmVzID0gW107CiAgICAgIHN1Yi50cmFuc3BhcmVudCA9IFtdOwogICAgICBzdWIub3BhcXVlID0gW107CiAgICAgIHN1Yi5saWdodHMgPSBbXTsKICAgICAgZm9yIChpPTA7IGkgPCBzdWIub2JqZWN0cy5sZW5ndGg7IGkrKykgewogICAgICAgIG9iaiA9IHRoaXMuZ2V0T2JqKHN1Yi5vYmplY3RzW2ldKTsKICAgICAgICBpZiAodHlwZW9mIG9iaiA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgIHN1Yi5vYmplY3RzLnNwbGljZShpLCAxKTsKICAgICAgICAgIGktLTsKICAgICAgICB9IGVsc2UgaWYgKG9iai50eXBlID09PSAiYmFja2dyb3VuZCIpCiAgICAgICAgICBzdWIuYmFja2dyb3VuZElkID0gb2JqLmlkOwogICAgICAgIGVsc2UKICAgICAgICAgIHN1Ylt0aGlzLndoaWNoTGlzdChvYmouaWQpXS5wdXNoKG9iai5pZCk7CiAgICAgIH0KICAgIH07CgogICAgdGhpcy5jb3B5T2JqID0gZnVuY3Rpb24oaWQsIHJldXNlKSB7CiAgICAgIHZhciBvYmogPSB0aGlzLmdldE9iaihpZCksCiAgICAgIAkgIHByZXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyZXVzZSkucmdsaW5zdGFuY2UsCiAgICAgIAkgIHByZXZvYmogPSBwcmV2LmdldE9iaihpZCksCiAgICAgICAgICBmaWVsZHMgPSBbImZsYWdzIiwgInR5cGUiLAogICAgICAgICAgICAgICAgICAgICJjb2xvcnMiLCAidmVydGljZXMiLCAiY2VudGVycyIsCiAgICAgICAgICAgICAgICAgICAgIm5vcm1hbHMiLCAib2Zmc2V0cyIsCiAgICAgICAgICAgICAgICAgICAgInRleHRzIiwgImNleCIsICJmYW1pbHkiLCAiZm9udCIsICJhZGoiLAogICAgICAgICAgICAgICAgICAgICJtYXRlcmlhbCIsCiAgICAgICAgICAgICAgICAgICAgInJhZGlpIiwKICAgICAgICAgICAgICAgICAgICAidGV4Y29vcmRzIiwKICAgICAgICAgICAgICAgICAgICAidXNlck1hdHJpeCIsICJpZHMiLAogICAgICAgICAgICAgICAgICAgICJkaW0iLAogICAgICAgICAgICAgICAgICAgICJwYXIzZCIsICJ1c2VyTWF0cml4IiwKICAgICAgICAgICAgICAgICAgICAidmlld3BvaW50IiwgImZpbml0ZSJdLAogICAgICAgICAgaTsKICAgICAgZm9yIChpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0eXBlb2YgcHJldm9ialtmaWVsZHNbaV1dICE9PSAidW5kZWZpbmVkIikKICAgICAgICAgIG9ialtmaWVsZHNbaV1dID0gcHJldm9ialtmaWVsZHNbaV1dOwogICAgICB9CiAgICB9OwoKICAgIHRoaXMucGxhbmVVcGRhdGVUcmlhbmdsZXMgPSBmdW5jdGlvbihpZCwgYmJveCkgewogICAgICB2YXIgcGVybXMgPSBbWzAsMCwxXSwgWzEsMiwyXSwgWzIsMSwwXV0sCiAgICAgICAgICB4LCB4cm93LCBlbGVtLCBBLCBkLCBuaGl0cywgaSwgaiwgaywgdSwgdiwgdywgaW50ZXJzZWN0LCB3aGljaCwgdjAsIHYyLCB2eCwgcmV2ZXJzZSwKICAgICAgICAgIGZhY2UxID0gW10sIGZhY2UyID0gW10sIG5vcm1hbHMgPSBbXSwKICAgICAgICAgIG9iaiA9IHRoaXMuZ2V0T2JqKGlkKSwKICAgICAgICAgIG5QbGFuZXMgPSBvYmoubm9ybWFscy5sZW5ndGg7CiAgICAgIG9iai5iYm94ID0gYmJveDsKICAgICAgb2JqLnZlcnRpY2VzID0gW107CiAgICAgIG9iai5pbml0aWFsaXplZCA9IGZhbHNlOwogICAgICBmb3IgKGVsZW0gPSAwOyBlbGVtIDwgblBsYW5lczsgZWxlbSsrKSB7Ci8vICAgIFZlcnRleCBBdiA9IG5vcm1hbC5nZXRSZWN5Y2xlZChlbGVtKTsKICAgICAgICB4ID0gW107CiAgICAgICAgQSA9IG9iai5ub3JtYWxzW2VsZW1dOwogICAgICAgIGQgPSBvYmoub2Zmc2V0c1tlbGVtXVswXTsKICAgICAgICBuaGl0cyA9IDA7CiAgICAgICAgZm9yIChpPTA7IGk8MzsgaSsrKQogICAgICAgICAgZm9yIChqPTA7IGo8MjsgaisrKQogICAgICAgICAgICBmb3IgKGs9MDsgazwyOyBrKyspIHsKICAgICAgICAgICAgICB1ID0gcGVybXNbMF1baV07CiAgICAgICAgICAgICAgdiA9IHBlcm1zWzFdW2ldOwogICAgICAgICAgICAgIHcgPSBwZXJtc1syXVtpXTsKICAgICAgICAgICAgICBpZiAoQVt3XSAhPSAwLjApIHsKICAgICAgICAgICAgICAgIGludGVyc2VjdCA9IC0oZCArIEFbdV0qYmJveFtqKzIqdV0gKyBBW3ZdKmJib3hbaysyKnZdKS9BW3ddOwogIAkgICAgICAgICAgICBpZiAoYmJveFsyKnddIDwgaW50ZXJzZWN0ICYmIGludGVyc2VjdCA8IGJib3hbMSsyKnddKSB7CiAgCSAgICAgICAgICAgICAgeHJvdyA9IFtdOwogIAkgICAgICAgICAgICAgIHhyb3dbdV0gPSBiYm94W2orMip1XTsKICAJICAgICAgICAgICAgICB4cm93W3ZdID0gYmJveFtrKzIqdl07CiAgCSAgICAgICAgICAgICAgeHJvd1t3XSA9IGludGVyc2VjdDsKICAJICAgICAgICAgICAgICB4LnB1c2goeHJvdyk7CiAgCSAgICAgICAgICAgICAgZmFjZTFbbmhpdHNdID0gaiArIDIqdTsKICAJICAgICAgICAgICAgICBmYWNlMltuaGl0c10gPSBrICsgMip2OwogIAkgICAgICAgICAgICAgIG5oaXRzKys7CiAgCSAgICAgICAgICAgIH0KICAJICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKG5oaXRzID4gMykgewogICAgICAgICAgICAvKiBSZS1vcmRlciB0aGUgaW50ZXJzZWN0aW9ucyBzbyB0aGUgdHJpYW5nbGVzIHdvcmsgKi8KICAgICAgICAgICAgICBmb3IgKGk9MDsgaTxuaGl0cy0yOyBpKyspIHsKICAgICAgICAgICAgICAgIHdoaWNoID0gMDsgLyogaW5pdGlhbGl6ZSB0byBzdXBwcmVzcyB3YXJuaW5nICovCiAgICAgICAgICAgICAgICBmb3IgKGo9aSsxOyBqPG5oaXRzOyBqKyspIHsKICAgICAgICAgICAgICAgICAgaWYgKGZhY2UxW2ldID09IGZhY2UxW2pdIHx8IGZhY2UxW2ldID09IGZhY2UyW2pdCiAgICAgICAgICAgICAgICAgICAgICB8fCBmYWNlMltpXSA9PSBmYWNlMVtqXSB8fCBmYWNlMltpXSA9PSBmYWNlMltqXSApIHsKICAgICAgICAgICAgICAgICAgICB3aGljaCA9IGo7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh3aGljaCA+IGkrMSkgewogICAgICAgICAgICAgICAgICB0aGlzLnN3YXAoeCwgaSsxLCB3aGljaCk7CiAgICAgICAgICAgICAgICAgIHRoaXMuc3dhcChmYWNlMSwgaSsxLCB3aGljaCk7CiAgICAgICAgICAgICAgICAgIHRoaXMuc3dhcChmYWNlMiwgaSsxLCB3aGljaCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChuaGl0cyA+PSAzKSB7CiAgICAgIC8qIFB1dCBpbiBvcmRlciBzbyB0aGF0IHRoZSBub3JtYWwgcG9pbnRzIG91dCB0aGUgRlJPTlQgb2YgdGhlIGZhY2VzICovCiAgICAgICAgICAgICAgdjAgPSBbeFswXVswXSAtIHhbMV1bMF0gLCB4WzBdWzFdIC0geFsxXVsxXSwgeFswXVsyXSAtIHhbMV1bMl1dOwogICAgICAgICAgICAgIHYyID0gW3hbMl1bMF0gLSB4WzFdWzBdICwgeFsyXVsxXSAtIHhbMV1bMV0sIHhbMl1bMl0gLSB4WzFdWzJdXTsKICAgICAgICAgICAgICAvKiBjcm9zcy1wcm9kdWN0ICovCiAgICAgICAgICAgICAgdnggPSB0aGlzLnhwcm9kKHYwLCB2Mik7CiAgICAgICAgICAgICAgcmV2ZXJzZSA9IHRoaXMuZG90cHJvZCh2eCwgQSkgPiAwOwoKICAgICAgICAgICAgICBmb3IgKGk9MDsgaTxuaGl0cy0yOyBpKyspIHsKICAgICAgICAgICAgICAgIG9iai52ZXJ0aWNlcy5wdXNoKHhbMF0pOwogICAgICAgICAgICAgICAgbm9ybWFscy5wdXNoKEEpOwogICAgICAgICAgICAgICAgZm9yIChqPTE7IGo8MzsgaisrKSB7CiAgICAgICAgICAgICAgICAgIG9iai52ZXJ0aWNlcy5wdXNoKHhbaSArIChyZXZlcnNlID8gMy1qIDogaildKTsKICAgICAgICAgICAgICAgICAgbm9ybWFscy5wdXNoKEEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICB9CiAgICAgIG9iai5wbm9ybWFscyA9IG5vcm1hbHM7CiAgICB9OwoKICAgIHRoaXMuaW5pdE9iaiA9IGZ1bmN0aW9uKGlkKSB7CgkgICAgdmFyIG9iaiA9IHRoaXMuZ2V0T2JqKGlkKSwKCSAgICAgICAgZmxhZ3MgPSBvYmouZmxhZ3MsCgkgICAgICAgIHR5cGUgPSBvYmoudHlwZSwKCSAgICAgICAgaXNfaW5kZXhlZCA9IGZsYWdzICYgdGhpcy5mX2lzX2luZGV4ZWQsCiAgICAgICAgICBpc19saXQgPSBmbGFncyAmIHRoaXMuZl9pc19saXQsCgkJICAgICAgaGFzX3RleHR1cmUgPSBmbGFncyAmIHRoaXMuZl9oYXNfdGV4dHVyZSwKCQkgICAgICBmaXhlZF9xdWFkcyA9IGZsYWdzICYgdGhpcy5mX2ZpeGVkX3F1YWRzLAoJCSAgICAgIGRlcHRoX3NvcnQgPSBmbGFncyAmIHRoaXMuZl9kZXB0aF9zb3J0LAoJCSAgICAgIHNwcml0ZXNfM2QgPSBmbGFncyAmIHRoaXMuZl9zcHJpdGVzXzNkLAoJCSAgICAgIHNwcml0ZV8zZCA9IGZsYWdzICYgdGhpcy5mX3Nwcml0ZV8zZCwKCQkgICAgICBnbCA9IHRoaXMuZ2wsCiAgICAgICAgICB0ZXhpbmZvLCBkcmF3dHlwZSwgbmNsaXBwbGFuZXMsIGYsIGZyb3dzaXplLCBucm93cywKICAgICAgICAgIGksaix2LCBtYXQsIHVyaSwgbWF0b2JqOwoKICAgIGlmICh0eXBlb2YgaWQgIT09ICJudW1iZXIiKSB7CiAgICAgIHRoaXMuYWxlcnRPbmNlKCJpbml0T2JqIGlkIGlzICIrdHlwZW9mIGlkKTsKICAgIH0KCiAgICBvYmouaW5pdGlhbGl6ZWQgPSB0cnVlOwoKICAgIGlmICh0eXBlID09PSAiYmFja2dyb3VuZCIgfHwgdHlwZSA9PT0gImJib3hkZWNvIiB8fCB0eXBlID09PSAic3Vic2NlbmUiKQogICAgICByZXR1cm47CgogICAgaWYgKHR5cGUgPT09ICJsaWdodCIpIHsKICAgICAgb2JqLmFtYmllbnQgPSBuZXcgRmxvYXQzMkFycmF5KG9iai5jb2xvcnNbMF0uc2xpY2UoMCwzKSk7CiAgICAgIG9iai5kaWZmdXNlID0gbmV3IEZsb2F0MzJBcnJheShvYmouY29sb3JzWzFdLnNsaWNlKDAsMykpOwogICAgICBvYmouc3BlY3VsYXIgPSBuZXcgRmxvYXQzMkFycmF5KG9iai5jb2xvcnNbMl0uc2xpY2UoMCwzKSk7CiAgICAgIG9iai5saWdodERpciA9IG5ldyBGbG9hdDMyQXJyYXkob2JqLnZlcnRpY2VzWzBdKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICh0eXBlID09PSAiY2xpcHBsYW5lcyIpIHsKICAgICAgb2JqLnZDbGlwcGxhbmUgPSB0aGlzLmZsYXR0ZW4odGhpcy5jYmluZChvYmoubm9ybWFscywgb2JqLm9mZnNldHMpKTsKICAgICAgcmV0dXJuOwogICAgfQoKCQlpZiAoIXNwcml0ZXNfM2QpIHsKCQkJb2JqLnByb2cgPSBnbC5jcmVhdGVQcm9ncmFtKCk7CgkJCWdsLmF0dGFjaFNoYWRlcihvYmoucHJvZywgdGhpcy5nZXRTaGFkZXIoIGdsLlZFUlRFWF9TSEFERVIsCgkJCSAgdGhpcy5nZXRWZXJ0ZXhTaGFkZXIoaWQpICkpOwoJCQlnbC5hdHRhY2hTaGFkZXIob2JqLnByb2csIHRoaXMuZ2V0U2hhZGVyKCBnbC5GUkFHTUVOVF9TSEFERVIsCgkJCSAgICAgICAgICAgICAgICB0aGlzLmdldEZyYWdtZW50U2hhZGVyKGlkKSApKTsKCQkJLy8gIEZvcmNlIGFQb3MgdG8gbG9jYXRpb24gMCwgYUNvbCB0byBsb2NhdGlvbiAxCgkJCWdsLmJpbmRBdHRyaWJMb2NhdGlvbihvYmoucHJvZywgMCwgImFQb3MiKTsKCQkJZ2wuYmluZEF0dHJpYkxvY2F0aW9uKG9iai5wcm9nLCAxLCAiYUNvbCIpOwoJCQlnbC5saW5rUHJvZ3JhbShvYmoucHJvZyk7CiAgICAgIHZhciBsaW5rZWQgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKG9iai5wcm9nLCBnbC5MSU5LX1NUQVRVUyk7CiAgICAgIGlmICghbGlua2VkKSB7CgogICAgICAgIC8vIEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGxpbmtpbmcKICAgICAgICB2YXIgbGFzdEVycm9yID0gZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSk7CiAgICAgICAgY29uc29sZS53YXJuKCJFcnJvciBpbiBwcm9ncmFtIGxpbmtpbmc6IiArIGxhc3RFcnJvcik7CgogICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7CiAgICAgIH0KCQl9CgoJCWlmICh0eXBlID09PSAidGV4dCIpIHsKICAgICAgdGV4aW5mbyA9IHRoaXMuZHJhd1RleHRUb0NhbnZhcyhvYmoudGV4dHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGF0dGVuKG9iai5jZXgpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmxhdHRlbihvYmouZmFtaWx5KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZsYXR0ZW4ob2JqLmZhbWlseSkpOwoJCX0KCgkJaWYgKGZpeGVkX3F1YWRzICYmICFzcHJpdGVzXzNkKSB7CgkJICBvYmoub2ZzTG9jID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ob2JqLnByb2csICJhT2ZzIik7CgkJfQoKCQlpZiAoc3ByaXRlXzNkKSB7CgkJCW9iai5vcmlnTG9jID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKG9iai5wcm9nLCAidU9yaWciKTsKCQkJb2JqLnNpemVMb2MgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ob2JqLnByb2csICJ1U2l6ZSIpOwoJCQlvYmoudXNlcm1hdExvYyA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihvYmoucHJvZywgInVzZXJtYXQiKTsKCQl9CgoJCWlmIChoYXNfdGV4dHVyZSB8fCB0eXBlID09ICJ0ZXh0IikgewoJCSAgb2JqLnRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7CgkJCW9iai50ZXhMb2MgPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihvYmoucHJvZywgImFUZXhjb29yZCIpOwoJCQlvYmouc2FtcGxlciA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihvYmoucHJvZywgInVTYW1wbGVyIik7CgkJfQoKCQlpZiAoaGFzX3RleHR1cmUpIHsKCQkgIG1hdCA9IG9iai5tYXRlcmlhbDsKCQkgIGlmICh0eXBlb2YgbWF0LnVyaSAhPT0gInVuZGVmaW5lZCIpCgkJICAgIHVyaSA9IG1hdC51cmk7CgkJICBlbHNlIGlmICh0eXBlb2YgbWF0LnVyaUVsZW1lbnRJZCA9PT0gInVuZGVmaW5lZCIpIHsKCQkgICAgbWF0b2JqID0gdGhpcy5nZXRPYmoobWF0LnVyaUlkKTsKCQkgICAgaWYgKHR5cGVvZiBtYXRvYmogIT09ICJ1bmRlZmluZWQiKSB7CgkJICAgICAgdXJpID0gbWF0b2JqLm1hdGVyaWFsLnVyaTsKCQkgICAgfSBlbHNlIHsKCQkgICAgICB1cmkgPSAiIjsKCQkgICAgfQoJCSAgfSBlbHNlCgkJICAgIHVyaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1hdC51cmlFbGVtZW50SWQpLnJnbGluc3RhbmNlLmdldE9iaihtYXQudXJpSWQpLm1hdGVyaWFsLnVyaTsKCgkJCXRoaXMubG9hZEltYWdlVG9UZXh0dXJlKHVyaSwgb2JqLnRleHR1cmUpOwoJCX0KCgkJaWYgKHR5cGUgPT09ICJ0ZXh0IikgewoJCSAgdGhpcy5oYW5kbGVMb2FkZWRUZXh0dXJlKG9iai50ZXh0dXJlLCB0aGlzLnRleHR1cmVDYW52YXMpOwoJCX0KCiAgICB2ID0gb2JqLnZlcnRpY2VzOwogICAgb2JqLnZlcnRleENvdW50ID0gdi5sZW5ndGg7CiAgICBpZiAoIW9iai52ZXJ0ZXhDb3VudCkgcmV0dXJuOwoKICAgIHZhciBzdHJpZGUgPSAzLCBuYywgY29mcywgbm9mcywgcmFkb2ZzLCBvb2ZzLCB0b2ZzLCB2bmV3LCB2MTsKCiAgICBuYyA9IG9iai5jb2xvckNvdW50ID0gb2JqLmNvbG9ycy5sZW5ndGg7CiAgICBpZiAobmMgPiAxKSB7CiAgICAJY29mcyA9IHN0cmlkZTsKICAgIAlzdHJpZGUgPSBzdHJpZGUgKyA0OwogICAgCXYgPSB0aGlzLmNiaW5kKHYsIG9iai5jb2xvcnMpOwogICAgfSBlbHNlIHsKICAgIAljb2ZzID0gLTE7CiAgICAJb2JqLm9uZWNvbG9yID0gdGhpcy5mbGF0dGVuKG9iai5jb2xvcnMpOwogICAgfQoKICAgIGlmICh0eXBlb2Ygb2JqLm5vcm1hbHMgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAJbm9mcyA9IHN0cmlkZTsKICAgIAlzdHJpZGUgPSBzdHJpZGUgKyAzOwogICAgCXYgPSB0aGlzLmNiaW5kKHYsIHR5cGVvZiBvYmoucG5vcm1hbHMgIT09ICJ1bmRlZmluZWQiID8gb2JqLnBub3JtYWxzIDogb2JqLm5vcm1hbHMpOwogICAgfSBlbHNlCiAgICAJbm9mcyA9IC0xOwoKICAgIGlmICh0eXBlb2Ygb2JqLnJhZGlpICE9PSAidW5kZWZpbmVkIikgewogICAgCXJhZG9mcyA9IHN0cmlkZTsKICAgIAlzdHJpZGUgPSBzdHJpZGUgKyAxOwogICAgCWlmIChvYmoucmFkaWkubGVuZ3RoID09PSB2Lmxlbmd0aCkgewogICAgCSAgdiA9IHRoaXMuY2JpbmQodiwgb2JqLnJhZGlpKTsKICAgIAl9IGVsc2UgaWYgKG9iai5yYWRpaS5sZW5ndGggPT09IDEpIHsKICAgIAkgIHYgPSB2Lm1hcChmdW5jdGlvbihyb3csIGksIGFycikgeyByZXR1cm4gcm93LmNvbmNhdChvYmoucmFkaWlbMF0pO30pOwogICAgCX0KICAgIH0gZWxzZQogICAgCXJhZG9mcyA9IC0xOwoKICAgIGlmICh0eXBlID09ICJzcHJpdGVzIiAmJiAhc3ByaXRlc18zZCkgewogICAgICB0b2ZzID0gc3RyaWRlOwogICAgICBzdHJpZGUgKz0gMjsKICAgIAlvb2ZzID0gc3RyaWRlOwogICAgCXN0cmlkZSArPSAyOwogICAgICB2bmV3ID0gbmV3IEFycmF5KDQqdi5sZW5ndGgpOwogICAgICB2YXIgc2l6ZSA9IG9iai5yYWRpaSwgcyA9IHNpemVbMF0vMjsKICAgICAgZm9yIChpPTA7IGkgPCB2Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHNpemUubGVuZ3RoID4gMSkKICAgICAgICAgIHMgPSBzaXplW2ldLzI7CiAgICAgICAgdm5ld1s0KmldICA9IHZbaV0uY29uY2F0KFswLDAsLXMsLXNdKTsKICAgICAgICB2bmV3WzQqaSsxXT0gdltpXS5jb25jYXQoWzEsMCwgcywtc10pOwogICAgICAgIHZuZXdbNCppKzJdPSB2W2ldLmNvbmNhdChbMSwxLCBzLCBzXSk7CiAgICAgICAgdm5ld1s0KmkrM109IHZbaV0uY29uY2F0KFswLDEsLXMsIHNdKTsKICAgICAgfQogICAgICB2ID0gdm5ldzsKICAgICAgb2JqLnZlcnRleENvdW50ID0gdi5sZW5ndGg7CiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICJ0ZXh0IikgewogICAgICB0b2ZzID0gc3RyaWRlOwogICAgICBzdHJpZGUgKz0gMjsKICAgICAgb29mcyA9IHN0cmlkZTsKICAgICAgc3RyaWRlICs9IDI7CiAgICAgIHZuZXcgPSBuZXcgQXJyYXkoNCp2Lmxlbmd0aCk7CiAgICAgIGZvciAoaT0wOyBpIDwgdi5sZW5ndGg7IGkrKykgewogICAgICAgIHZuZXdbNCppXSAgPSB2W2ldLmNvbmNhdChbMCwtMC41XSkuY29uY2F0KG9iai5hZGpbMF0pOwogICAgICAgIHZuZXdbNCppKzFdPSB2W2ldLmNvbmNhdChbMSwtMC41XSkuY29uY2F0KG9iai5hZGpbMF0pOwogICAgICAgIHZuZXdbNCppKzJdPSB2W2ldLmNvbmNhdChbMSwgMS41XSkuY29uY2F0KG9iai5hZGpbMF0pOwogICAgICAgIHZuZXdbNCppKzNdPSB2W2ldLmNvbmNhdChbMCwgMS41XSkuY29uY2F0KG9iai5hZGpbMF0pOwogICAgICAgIGZvciAoaj0wOyBqIDwgNDsgaisrKSB7CiAgICAgICAgICB2MSA9IHZuZXdbNCppK2pdOwogICAgICAgICAgdjFbdG9mcysyXSA9IDIqKHYxW3RvZnNdLXYxW3RvZnMrMl0pKnRleGluZm8ud2lkdGhzW2ldOwoJICAgICAgICB2MVt0b2ZzKzNdID0gMioodjFbdG9mcysxXS12MVt0b2ZzKzNdKSp0ZXhpbmZvLnRleHRIZWlnaHRzW2ldOwoJICAgICAgICB2MVt0b2ZzXSAqPSB0ZXhpbmZvLndpZHRoc1tpXS90ZXhpbmZvLmNhbnZhc1g7CgkgICAgICAgIHYxW3RvZnMrMV0gPSAxLjAtKHRleGluZm8ub2Zmc2V0c1tpXSAtCgkgICAgICAgICAgICB2MVt0b2ZzKzFdKnRleGluZm8udGV4dEhlaWdodHNbaV0pL3RleGluZm8uY2FudmFzWTsKCSAgICAgICAgdm5ld1s0Kmkral0gPSB2MTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdiA9IHZuZXc7CiAgICAgIG9iai52ZXJ0ZXhDb3VudCA9IHYubGVuZ3RoOwogICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqLnRleGNvb3JkcyAhPT0gInVuZGVmaW5lZCIpIHsKICAgIAl0b2ZzID0gc3RyaWRlOwogICAgCXN0cmlkZSArPSAyOwogICAgCW9vZnMgPSAtMTsKICAgIAl2ID0gdGhpcy5jYmluZCh2LCBvYmoudGV4Y29vcmRzKTsKICAgIH0gZWxzZSB7CiAgICAgCXRvZnMgPSAtMTsKICAgICAgb29mcyA9IC0xOwogICAgfQoKICAgIGlmIChzdHJpZGUgIT09IHZbMF0ubGVuZ3RoKSB7CiAgICAgIHRoaXMuYWxlcnRPbmNlKCJwcm9ibGVtIGluIHN0cmlkZSBjYWxjdWxhdGlvbiIpOwogICAgfQoKICAgIG9iai52T2Zmc2V0cyA9IHt2b2ZzOjAsIGNvZnM6Y29mcywgbm9mczpub2ZzLCByYWRvZnM6cmFkb2ZzLCBvb2ZzOm9vZnMsIHRvZnM6dG9mcywgc3RyaWRlOnN0cmlkZX07CgogICAgb2JqLnZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5mbGF0dGVuKHYpKTsKCiAgICBpZiAoc3ByaXRlc18zZCkgewoJCQlvYmoudXNlck1hdHJpeCA9IG5ldyBDYW52YXNNYXRyaXg0KG9iai51c2VyTWF0cml4KTsKCQkJb2JqLm9iamVjdHMgPSB0aGlzLmZsYXR0ZW4oW10uY29uY2F0KG9iai5pZHMpKTsKCQkJaXNfbGl0ID0gZmFsc2U7CiAgICB9CgogICAgaWYgKGlzX2xpdCAmJiAhZml4ZWRfcXVhZHMpIHsKCQkJIG9iai5ub3JtTG9jID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ob2JqLnByb2csICJhTm9ybSIpOwogICAgfQoKICAgIG5jbGlwcGxhbmVzID0gdGhpcy5jb3VudENsaXBwbGFuZXMoKTsKCQlpZiAobmNsaXBwbGFuZXMgJiYgIXNwcml0ZXNfM2QpIHsKCQkgIG9iai5jbGlwTG9jID0gW107CgkJICBmb3IgKGk9MDsgaSA8IG5jbGlwcGxhbmVzOyBpKyspCiAgICAgICAgb2JqLmNsaXBMb2NbaV0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ob2JqLnByb2csInZDbGlwcGxhbmUiICsgaSk7CgkJfQoKCQlpZiAoaXNfbGl0KSB7CgkJICBvYmouZW1pc3Npb25Mb2MgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ob2JqLnByb2csICJlbWlzc2lvbiIpOwoJCSAgb2JqLmVtaXNzaW9uID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnN0cmluZ1RvUmdiKHRoaXMuZ2V0TWF0ZXJpYWwoaWQsICJlbWlzc2lvbiIpKSk7CgkJICBvYmouc2hpbmluZXNzTG9jID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKG9iai5wcm9nLCAic2hpbmluZXNzIik7CgkJICBvYmouc2hpbmluZXNzID0gdGhpcy5nZXRNYXRlcmlhbChpZCwgInNoaW5pbmVzcyIpOwoJCSAgb2JqLm5saWdodHMgPSB0aGlzLmNvdW50TGlnaHRzKCk7CgkJICBvYmouYW1iaWVudExvYyA9IFtdOwoJCSAgb2JqLmFtYmllbnQgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuc3RyaW5nVG9SZ2IodGhpcy5nZXRNYXRlcmlhbChpZCwgImFtYmllbnQiKSkpOwoJCSAgb2JqLnNwZWN1bGFyTG9jID0gW107CgkJICBvYmouc3BlY3VsYXIgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuc3RyaW5nVG9SZ2IodGhpcy5nZXRNYXRlcmlhbChpZCwgInNwZWN1bGFyIikpKTsKCQkgIG9iai5kaWZmdXNlTG9jID0gW107CgkJICBvYmoubGlnaHREaXJMb2MgPSBbXTsKCQkgIG9iai52aWV3cG9pbnRMb2MgPSBbXTsKCQkgIG9iai5maW5pdGVMb2MgPSBbXTsKCQkgIGZvciAoaT0wOyBpIDwgb2JqLm5saWdodHM7IGkrKykgewoJCSAgICBvYmouYW1iaWVudExvY1tpXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihvYmoucHJvZywgImFtYmllbnQiICsgaSk7CgkJICAgIG9iai5zcGVjdWxhckxvY1tpXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihvYmoucHJvZywgInNwZWN1bGFyIiArIGkpOwoJCSAgICBvYmouZGlmZnVzZUxvY1tpXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihvYmoucHJvZywgImRpZmZ1c2UiICsgaSk7CgkJICAgIG9iai5saWdodERpckxvY1tpXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihvYmoucHJvZywgImxpZ2h0RGlyIiArIGkpOwoJCSAgICBvYmoudmlld3BvaW50TG9jW2ldID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKG9iai5wcm9nLCAidmlld3BvaW50IiArIGkpOwoJCSAgICBvYmouZmluaXRlTG9jW2ldID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKG9iai5wcm9nLCAiZmluaXRlIiArIGkpOwoJCSAgfQoJCX0KCgkJaWYgKGlzX2luZGV4ZWQpIHsKICAgICAgaWYgKCh0eXBlID09PSAicXVhZHMiIHx8IHR5cGUgPT09ICJ0ZXh0IiB8fAogICAgICAgICAgIHR5cGUgPT09ICJzcHJpdGVzIikgJiYgIXNwcml0ZXNfM2QpIHsKICAgICAgICBucm93cyA9IE1hdGguZmxvb3Iob2JqLnZlcnRleENvdW50LzQpOwogICAgICAgIGYgPSBBcnJheSg2Km5yb3dzKTsKICAgICAgICBmb3IgKGk9MDsgaSA8IG5yb3dzOyBpKyspIHsKICAgICAgICAgIGZbNippXSA9IDQqaTsKICAgICAgICAgIGZbNippKzFdID0gNCppICsgMTsKICAgICAgICAgIGZbNippKzJdID0gNCppICsgMjsKICAgICAgICAgIGZbNippKzNdID0gNCppOwogICAgICAgICAgZls2KmkrNF0gPSA0KmkgKyAyOwogICAgICAgICAgZls2KmkrNV0gPSA0KmkgKyAzOwogICAgICAgIH0KICAgICAgICBmcm93c2l6ZSA9IDY7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gInRyaWFuZ2xlcyIpIHsKICAgICAgICBucm93cyA9IE1hdGguZmxvb3Iob2JqLnZlcnRleENvdW50LzMpOwogICAgICAgIGYgPSBBcnJheSgzKm5yb3dzKTsKICAgICAgICBmb3IgKGk9MDsgaSA8IGYubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGZbaV0gPSBpOwogICAgICAgIH0KICAgICAgICBmcm93c2l6ZSA9IDM7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gInNwaGVyZXMiKSB7CiAgICAgICAgbnJvd3MgPSBvYmoudmVydGV4Q291bnQ7CiAgICAgICAgZiA9IEFycmF5KG5yb3dzKTsKICAgICAgICBmb3IgKGk9MDsgaSA8IGYubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGZbaV0gPSBpOwogICAgICAgIH0KICAgICAgICBmcm93c2l6ZSA9IDE7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gInN1cmZhY2UiKSB7CiAgICAgICAgdmFyIGRpbSA9IG9iai5kaW1bMF0sCiAgICAgICAgICAgIG54ID0gZGltWzBdLAogICAgICAgICAgICBueiA9IGRpbVsxXTsKICAgICAgICBmID0gW107CiAgICAgICAgZm9yIChqPTA7IGo8bngtMTsgaisrKSB7CiAgICAgICAgICBmb3IgKGk9MDsgaTxuei0xOyBpKyspIHsKICAgICAgICAgICAgZi5wdXNoKGogKyBueCppLAogICAgICAgICAgICAgICAgICAgaiArIG54KihpKzEpLAogICAgICAgICAgICAgICAgICAgaiArIDEgKyBueCooaSsxKSwKICAgICAgICAgICAgICAgICAgIGogKyBueCppLAogICAgICAgICAgICAgICAgICAgaiArIDEgKyBueCooaSsxKSwKICAgICAgICAgICAgICAgICAgIGogKyAxICsgbngqaSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZyb3dzaXplID0gNjsKICAgICAgfQoJCSAgb2JqLmYgPSBuZXcgVWludDE2QXJyYXkoZik7CgkJCWlmIChkZXB0aF9zb3J0KSB7CgkJCQlkcmF3dHlwZSA9ICJEWU5BTUlDX0RSQVciOwoJCQl9IGVsc2UgewoJCQkJZHJhd3R5cGUgPSAiU1RBVElDX0RSQVciOwoJCQl9CgkJfQoKCQlpZiAodHlwZSAhPT0gInNwaGVyZXMiICYmICFzcHJpdGVzXzNkKSB7CgkJICBvYmouYnVmID0gZ2wuY3JlYXRlQnVmZmVyKCk7CgkJCWdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBvYmouYnVmKTsKCQkJZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG9iai52YWx1ZXMsIGdsLlNUQVRJQ19EUkFXKTsgLy8KCQl9CgoJCWlmIChpc19pbmRleGVkICYmIHR5cGUgIT09ICJzcGhlcmVzIiAmJiAhc3ByaXRlc18zZCkgewoJCQlvYmouaWJ1ZiA9IGdsLmNyZWF0ZUJ1ZmZlcigpOwoJCQlnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBvYmouaWJ1Zik7CgkJCWdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG9iai5mLCBnbFtkcmF3dHlwZV0pOwoJCX0KCgkJaWYgKCFzcHJpdGVzXzNkKSB7CgkJCW9iai5tdk1hdExvYyA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihvYmoucHJvZywgIm12TWF0cml4Iik7CgkJCW9iai5wck1hdExvYyA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihvYmoucHJvZywgInByTWF0cml4Iik7CgkJfQoKCQlpZiAodHlwZSA9PT0gInRleHQiKSB7CgkJCW9iai50ZXh0U2NhbGVMb2MgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ob2JqLnByb2csICJ0ZXh0U2NhbGUiKTsKCQl9CgoJCWlmIChpc19saXQgJiYgIXNwcml0ZXNfM2QpIHsKCQkJb2JqLm5vcm1NYXRMb2MgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ob2JqLnByb2csICJub3JtTWF0cml4Iik7CgkJfQogIH07CgogICAgdGhpcy5zZXREZXB0aFRlc3QgPSBmdW5jdGlvbihpZCkgewogICAgICB2YXIgZ2wgPSB0aGlzLmdsLAogICAgICAgICAgdGVzdHMgPSB7bmV2ZXI6IGdsLk5FVkVSLAogICAgICAgICAgICAgICAgICAgbGVzczogIGdsLkxFU1MsCiAgICAgICAgICAgICAgICAgICBlcXVhbDogZ2wuRVFVQUwsCiAgICAgICAgICAgICAgICAgICBsZXF1YWw6Z2wuTEVRVUFMLAogICAgICAgICAgICAgICAgICAgZ3JlYXRlcjogZ2wuR1JFQVRFUiwKICAgICAgICAgICAgICAgICAgIG5vdGVxdWFsOiBnbC5OT1RFUVVBTCwKICAgICAgICAgICAgICAgICAgIGdlcXVhbDogZ2wuR0VRVUFMLAogICAgICAgICAgICAgICAgICAgYWx3YXlzOiBnbC5BTFdBWVN9LAogICAgICAgICAgIHRlc3QgPSB0ZXN0c1t0aGlzLmdldE1hdGVyaWFsKGlkLCAiZGVwdGhfdGVzdCIpXTsKICAgICAgZ2wuZGVwdGhGdW5jKHRlc3QpOwogICAgfTsKCgkgIHRoaXMubW9kZTR0eXBlID0ge3BvaW50cyA6ICJQT0lOVFMiLAoJCQkJCQkJICAgICAgIGxpbmVzdHJpcCA6ICJMSU5FX1NUUklQIiwKCQkJCQkJCSAgICAgICBhYmNsaW5lcyA6ICJMSU5FUyIsCgkJCQkJCQkgICAgICAgbGluZXMgOiAiTElORVMiLAoJCQkJCQkJICAgICAgIHNwcml0ZXMgOiAiVFJJQU5HTEVTIiwKCQkJCQkJCSAgICAgICBwbGFuZXMgOiAiVFJJQU5HTEVTIiwKCQkJCQkJCSAgICAgICB0ZXh0IDogIlRSSUFOR0xFUyIsCgkJCQkJCQkgICAgICAgcXVhZHMgOiAiVFJJQU5HTEVTIiwKCQkJCQkJCSAgICAgICBzdXJmYWNlIDogIlRSSUFOR0xFUyIsCgkJCQkJCQkgICAgICAgdHJpYW5nbGVzIDogIlRSSUFOR0xFUyJ9OwoKCSAgdGhpcy5kcmF3T2JqID0gZnVuY3Rpb24oaWQsIHN1YnNjZW5laWQpIHsKCSAgICB2YXIgb2JqID0gdGhpcy5nZXRPYmooaWQpLAoJICAgICAgICBzdWJzY2VuZSA9IHRoaXMuZ2V0T2JqKHN1YnNjZW5laWQpLAoJICAgICAgICBmbGFncyA9IG9iai5mbGFncywKCSAgICAgICAgdHlwZSA9IG9iai50eXBlLAoJICAgICAgICBpc19pbmRleGVkID0gZmxhZ3MgJiB0aGlzLmZfaXNfaW5kZXhlZCwKICAgICAgICAgIGlzX2xpdCA9IGZsYWdzICYgdGhpcy5mX2lzX2xpdCwKCQkgICAgICBoYXNfdGV4dHVyZSA9IGZsYWdzICYgdGhpcy5mX2hhc190ZXh0dXJlLAoJCSAgICAgIGZpeGVkX3F1YWRzID0gZmxhZ3MgJiB0aGlzLmZfZml4ZWRfcXVhZHMsCgkJICAgICAgZGVwdGhfc29ydCA9IGZsYWdzICYgdGhpcy5mX2RlcHRoX3NvcnQsCgkJICAgICAgc3ByaXRlc18zZCA9IGZsYWdzICYgdGhpcy5mX3Nwcml0ZXNfM2QsCgkJICAgICAgc3ByaXRlXzNkID0gZmxhZ3MgJiB0aGlzLmZfc3ByaXRlXzNkLAoJCSAgICAgIGlzX2xpbmVzID0gZmxhZ3MgJiB0aGlzLmZfaXNfbGluZXMsCgkJICAgICAgZ2wgPSB0aGlzLmdsLAoJCSAgICAgIHNwaGVyZU1WLCBiYXNlb2ZzLCBvZnMsIHNzY2FsZSwgaSwgY291bnQsIGxpZ2h0LAoJCSAgICAgIGZhY2VzOwoKCQkgIGlmICh0eXBlb2YgaWQgIT09ICJudW1iZXIiKSB7CgkJICAgIHRoaXMuYWxlcnRPbmNlKCJkcmF3T2JqIGlkIGlzICIrdHlwZW9mIGlkKTsKCQkgIH0KCgkJCWlmICh0eXBlID09PSAicGxhbmVzIikgewoJCQkgIGlmIChvYmouYmJveCAhPT0gc3Vic2NlbmUucGFyM2QuYmJveCB8fCAhb2JqLmluaXRpYWxpemVkKSB7CgkJCSAgICB0aGlzLnBsYW5lVXBkYXRlVHJpYW5nbGVzKGlkLCBzdWJzY2VuZS5wYXIzZC5iYm94KTsKCQkJICB9CgkJCX0KCiAgICAgIGlmICghb2JqLmluaXRpYWxpemVkKQogICAgICAgIHRoaXMuaW5pdE9iaihpZCk7CgogICAgICBpZiAodHlwZSA9PT0gImxpZ2h0IiB8fCB0eXBlID09PSAiYmJveGRlY28iKQogICAgICAgIHJldHVybjsKCgkJICBpZiAodHlwZSA9PT0gImNsaXBwbGFuZXMiKSB7CgkJCSAgY291bnQgPSBvYmoub2Zmc2V0cy5sZW5ndGg7CgkJCSAgdmFyIElNVkNsaXAgPSBbXTsKCQkJICBmb3IgKGk9MDsgaSA8IGNvdW50OyBpKyspIHsKCQkJCSAgSU1WQ2xpcFtpXSA9IHRoaXMubXVsdE1WKHRoaXMuaW52TWF0cml4LCBvYmoudkNsaXBwbGFuZS5zbGljZSg0KmksIDQqKGkrMSkpKTsKIAkJCSAgfQogCQkJICBvYmouSU1WQ2xpcCA9IElNVkNsaXA7CiAgICAgICAgcmV0dXJuOwoJCQl9CgogICAgICB0aGlzLnNldERlcHRoVGVzdChpZCk7CgogICAgICBpZiAoc3ByaXRlc18zZCkgewoJCQkgIHZhciBub3JpZ3MgPSBvYmoudmVydGljZXMubGVuZ3RoLAoJCQkgICAgICBzYXZlbm9ybSA9IG5ldyBDYW52YXNNYXRyaXg0KHRoaXMubm9ybU1hdHJpeCk7CgkJCSAgdGhpcy5vcmlncyA9IG9iai52ZXJ0aWNlczsKCQkJCXRoaXMudXNlcm1hdCA9IG5ldyBGbG9hdDMyQXJyYXkob2JqLnVzZXJNYXRyaXguZ2V0QXNBcnJheSgpKTsKCQkJCXRoaXMucmFkaWkgPSBvYmoucmFkaWk7CgkJCQl0aGlzLm5vcm1NYXRyaXggPSBzdWJzY2VuZS5zcHJpdGVOb3JtbWF0OwoJCQkJZm9yICh0aGlzLmlPcmlnPTA7IHRoaXMuaU9yaWcgPCBub3JpZ3M7IHRoaXMuaU9yaWcrKykgewoJCQkgICAgZm9yIChpPTA7IGkgPCBvYmoub2JqZWN0cy5sZW5ndGg7IGkrKykgewoJCQkJCSAgdGhpcy5kcmF3T2JqKG9iai5vYmplY3RzW2ldLCBzdWJzY2VuZWlkKTsKCQkJCQl9CgkJCQl9CgkJCQl0aGlzLm5vcm1NYXRyaXggPSBzYXZlbm9ybTsKCQkJCXJldHVybjsKCQkJfSBlbHNlIHsKCQkJCWdsLnVzZVByb2dyYW0ob2JqLnByb2cpOwoJCQl9CgoJCQlpZiAoc3ByaXRlXzNkKSB7CgkJCSAgZ2wudW5pZm9ybTNmdihvYmoub3JpZ0xvYywgbmV3IEZsb2F0MzJBcnJheSh0aGlzLm9yaWdzW3RoaXMuaU9yaWddKSk7CgkJCSAgaWYgKHRoaXMucmFkaWkubGVuZ3RoID4gMSkgewoJCQkJICBnbC51bmlmb3JtMWYob2JqLnNpemVMb2MsIHRoaXMucmFkaWlbdGhpcy5pT3JpZ11bMF0pOwoJCQkgIH0gZWxzZSB7CgkJCSAgICBnbC51bmlmb3JtMWYob2JqLnNpemVMb2MsIHRoaXMucmFkaWlbMF1bMF0pOwoJCQkgIH0KCQkJCWdsLnVuaWZvcm1NYXRyaXg0ZnYob2JqLnVzZXJtYXRMb2MsIGZhbHNlLCB0aGlzLnVzZXJtYXQpOwoJCQl9CgoJCQlpZiAodHlwZSA9PT0gInNwaGVyZXMiKSB7CgkJCSAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuc3BoZXJlLmJ1Zik7CgkJCX0gZWxzZSB7CgkJCQlnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgb2JqLmJ1Zik7CgkJCX0KCgkJCWlmIChpc19pbmRleGVkICYmIHR5cGUgIT09ICJzcGhlcmVzIikgewoJCQkgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG9iai5pYnVmKTsKCQkJfSBlbHNlIGlmICh0eXBlID09PSAic3BoZXJlcyIpIHsKCQkJCWdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuc3BoZXJlLmlidWYpOwoJCQl9CgoJCQlnbC51bmlmb3JtTWF0cml4NGZ2KCBvYmoucHJNYXRMb2MsIGZhbHNlLCBuZXcgRmxvYXQzMkFycmF5KHRoaXMucHJNYXRyaXguZ2V0QXNBcnJheSgpKSApOwoJCQlnbC51bmlmb3JtTWF0cml4NGZ2KCBvYmoubXZNYXRMb2MsIGZhbHNlLCBuZXcgRmxvYXQzMkFycmF5KHRoaXMubXZNYXRyaXguZ2V0QXNBcnJheSgpKSApOwogICAgICB2YXIgY2xpcGNoZWNrID0gMCwKICAgICAgICAgIGNsaXBwbGFuZWlkcyA9IHN1YnNjZW5lLmNsaXBwbGFuZXMsCiAgICAgICAgICBjbGlwLCBqOwoJCQlmb3IgKGk9MDsgaSA8IGNsaXBwbGFuZWlkcy5sZW5ndGg7IGkrKykgewoJCQkgIGNsaXAgPSB0aGlzLmdldE9iaihjbGlwcGxhbmVpZHNbaV0pOwoJCQkgIGZvciAoaj0wOyBqIDwgY2xpcC5vZmZzZXRzLmxlbmd0aDsgaisrKSB7CgkJCSAgICBnbC51bmlmb3JtNGZ2KG9iai5jbGlwTG9jW2NsaXBjaGVjayArIGpdLCBjbGlwLklNVkNsaXBbal0pOwoJCQkgIH0KCQkJICBjbGlwY2hlY2sgKz0gY2xpcC5vZmZzZXRzLmxlbmd0aDsKCQkJfQoJCQlpZiAodHlwZW9mIG9iai5jbGlwTG9jICE9PSAidW5kZWZpbmVkIikKCQkJICBmb3IgKGk9Y2xpcGNoZWNrOyBpIDwgb2JqLmNsaXBMb2MubGVuZ3RoOyBpKyspCgkJCSAgICBnbC51bmlmb3JtNGYob2JqLmNsaXBMb2NbaV0sIDAsMCwwLDApOwoKCQkJaWYgKGlzX2xpdCkgewoJCQkgIGdsLnVuaWZvcm1NYXRyaXg0ZnYoIG9iai5ub3JtTWF0TG9jLCBmYWxzZSwgbmV3IEZsb2F0MzJBcnJheSh0aGlzLm5vcm1NYXRyaXguZ2V0QXNBcnJheSgpKSApOwoJCQkgIGdsLnVuaWZvcm0zZnYoIG9iai5lbWlzc2lvbkxvYywgb2JqLmVtaXNzaW9uKTsKCQkJICBnbC51bmlmb3JtMWYoIG9iai5zaGluaW5lc3NMb2MsIG9iai5zaGluaW5lc3MpOwoJCQkgIGZvciAoaT0wOyBpIDwgc3Vic2NlbmUubGlnaHRzLmxlbmd0aDsgaSsrKSB7CgkJCSAgICBsaWdodCA9IHRoaXMuZ2V0T2JqKHN1YnNjZW5lLmxpZ2h0c1tpXSk7CgkJCSAgICBnbC51bmlmb3JtM2Z2KCBvYmouYW1iaWVudExvY1tpXSwgdGhpcy5jb21wb25lbnRQcm9kdWN0KGxpZ2h0LmFtYmllbnQsIG9iai5hbWJpZW50KSk7CgkJCSAgICBnbC51bmlmb3JtM2Z2KCBvYmouc3BlY3VsYXJMb2NbaV0sIHRoaXMuY29tcG9uZW50UHJvZHVjdChsaWdodC5zcGVjdWxhciwgb2JqLnNwZWN1bGFyKSk7CgkJCSAgICBnbC51bmlmb3JtM2Z2KCBvYmouZGlmZnVzZUxvY1tpXSwgbGlnaHQuZGlmZnVzZSk7CgkJCSAgICBnbC51bmlmb3JtM2Z2KCBvYmoubGlnaHREaXJMb2NbaV0sIGxpZ2h0LmxpZ2h0RGlyKTsKCQkJICAgIGdsLnVuaWZvcm0xaSggb2JqLnZpZXdwb2ludExvY1tpXSwgbGlnaHQudmlld3BvaW50KTsKCQkJICAgIGdsLnVuaWZvcm0xaSggb2JqLmZpbml0ZUxvY1tpXSwgbGlnaHQuZmluaXRlKTsKCQkJICB9CgkJCSAgZm9yIChpPXN1YnNjZW5lLmxpZ2h0cy5sZW5ndGg7IGkgPCBvYmoubmxpZ2h0czsgaSsrKSB7CgkJCSAgICBnbC51bmlmb3JtM2YoIG9iai5hbWJpZW50TG9jW2ldLCAwLDAsMCk7CgkJCSAgICBnbC51bmlmb3JtM2YoIG9iai5zcGVjdWxhckxvY1tpXSwgMCwwLDApOwoJCQkgICAgZ2wudW5pZm9ybTNmKCBvYmouZGlmZnVzZUxvY1tpXSwgMCwwLDApOwoJCQkgIH0KCQkJfQoKCQkJaWYgKHR5cGUgPT09ICJ0ZXh0IikgewoJCQkJZ2wudW5pZm9ybTJmKCBvYmoudGV4dFNjYWxlTG9jLCAwLjc1L3RoaXMudnAud2lkdGgsIDAuNzUvdGhpcy52cC5oZWlnaHQpOwoJCQl9CgoJCQlnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSggdGhpcy5wb3NMb2MgKTsKCgkJCXZhciBuYyA9IG9iai5jb2xvckNvdW50OwogICAgICBjb3VudCA9IG9iai52ZXJ0ZXhDb3VudDsKCQkJaWYgKGRlcHRoX3NvcnQpIHsKCQkJCQkJdmFyIG5mYWNlcyA9IG9iai5jZW50ZXJzLmxlbmd0aCwKCQkJCQkJICAgIGZyb3dzaXplLCB6LCB3OwoJCQkJCQlpZiAoc3ByaXRlc18zZCkgZnJvd3NpemUgPSAxOwoJCQkJCQllbHNlIGlmICh0eXBlID09PSAidHJpYW5nbGVzIikgZnJvd3NpemUgPSAzOwoJCQkJCQllbHNlIGZyb3dzaXplID0gNjsKICAgICAgICAgICAgdmFyIGRlcHRocyA9IG5ldyBGbG9hdDMyQXJyYXkobmZhY2VzKTsKCQkJCQkJZmFjZXMgPSBuZXcgQXJyYXkobmZhY2VzKTsKCQkJCQkJZm9yKGk9MDsgaTxuZmFjZXM7IGkrKykgewoJCQkJCQkJeiA9IHRoaXMucHJtdk1hdHJpeC5tMTMqb2JqLmNlbnRlcnNbMyppXSArCgkJCQkJCQkgICAgdGhpcy5wcm12TWF0cml4Lm0yMypvYmouY2VudGVyc1szKmkrMV0gKwoJCQkJCQkgICAgICB0aGlzLnBybXZNYXRyaXgubTMzKm9iai5jZW50ZXJzWzMqaSsyXSArCgkJCQkJICAgICAgICB0aGlzLnBybXZNYXRyaXgubTQzOwoJCQkJCQkJdyA9IHRoaXMucHJtdk1hdHJpeC5tMTQqb2JqLmNlbnRlcnNbMyppXSArCgkJCQkgIAkJCSAgdGhpcy5wcm12TWF0cml4Lm0yNCpvYmouY2VudGVyc1szKmkrMV0gKwoJCQkJCSAgCQkgIHRoaXMucHJtdk1hdHJpeC5tMzQqb2JqLmNlbnRlcnNbMyppKzJdICsKCQkJCQkJICAJICB0aGlzLnBybXZNYXRyaXgubTQ0OwoJCQkJCQkJZGVwdGhzW2ldID0gei93OwoJCQkJCQkJZmFjZXNbaV0gPSBpOwoJCQkJCQl9CgkJCQkJCXZhciBkZXB0aHNvcnQgPSBmdW5jdGlvbihpLGopIHsgcmV0dXJuIGRlcHRoc1tqXSAtIGRlcHRoc1tpXTsgfTsKCQkJCQkJZmFjZXMuc29ydChkZXB0aHNvcnQpOwoKCQkJCQkJaWYgKHR5cGUgIT09ICJzcGhlcmVzIikgewoJCQkJCQkgIHZhciBmID0gbmV3IFVpbnQxNkFycmF5KG9iai5mLmxlbmd0aCk7CgkJCQkJCQlmb3IgKGk9MDsgaTxuZmFjZXM7IGkrKykgewoJCQkJCSAgCSAgZm9yIChqPTA7IGo8ZnJvd3NpemU7IGorKykgewoJCQkJCQkJICAgIGZbZnJvd3NpemUqaSArIGpdID0gb2JqLmZbZnJvd3NpemUqZmFjZXNbaV0gKyBqXTsKCQkJCQkJCSAgfQoJCQkJCQkJfQoJCQkJCQkJZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgZiwgZ2wuRFlOQU1JQ19EUkFXKTsKCQkJCQkJfQoJCQkJCX0KCgkJCWlmICh0eXBlID09PSAic3BoZXJlcyIpIHsKCQkJCXN1YnNjZW5lID0gdGhpcy5nZXRPYmooc3Vic2NlbmVpZCk7CgkJCQl2YXIgc2NhbGUgPSBzdWJzY2VuZS5wYXIzZC5zY2FsZSwKCQkJCQkJc2NvdW50ID0gY291bnQ7CgkJCQlnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMucG9zTG9jLCAgMywgZ2wuRkxPQVQsIGZhbHNlLCB0aGlzLnNwaGVyZS5zcGhlcmVTdHJpZGUsICAwKTsKCQkJCWdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KG9iai5ub3JtTG9jICk7CgkJCQlnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKG9iai5ub3JtTG9jLCAgMywgZ2wuRkxPQVQsIGZhbHNlLCB0aGlzLnNwaGVyZS5zcGhlcmVTdHJpZGUsICAwKTsKCQkJCWdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSggdGhpcy5jb2xMb2MgKTsKCQkJCXZhciBzcGhlcmVOb3JtID0gbmV3IENhbnZhc01hdHJpeDQoKTsKCQkJCXNwaGVyZU5vcm0uc2NhbGUoc2NhbGVbMF0sIHNjYWxlWzFdLCBzY2FsZVsyXSk7CgkJCQlzcGhlcmVOb3JtLm11bHRSaWdodCh0aGlzLm5vcm1NYXRyaXgpOwoJCQkJZ2wudW5pZm9ybU1hdHJpeDRmdiggb2JqLm5vcm1NYXRMb2MsIGZhbHNlLCBuZXcgRmxvYXQzMkFycmF5KHNwaGVyZU5vcm0uZ2V0QXNBcnJheSgpKSApOwoKCQkJICBpZiAobmMgPT0gMSkgewoJCQkJICBnbC52ZXJ0ZXhBdHRyaWI0ZnYoIHRoaXMuY29sTG9jLCBuZXcgRmxvYXQzMkFycmF5KG9iai5vbmVjb2xvcikpOwoJCQkgIH0KCgkJCSAgZm9yIChpID0gMDsgaSA8IHNjb3VudDsgaSsrKSB7CgkJCSAgICBzcGhlcmVNViA9IG5ldyBDYW52YXNNYXRyaXg0KCk7CgoJCQkgIAlpZiAoZGVwdGhfc29ydCkgewoJCQkJICAgIGJhc2VvZnMgPSBmYWNlc1tpXSpvYmoudk9mZnNldHMuc3RyaWRlOwoJCQkJICB9IGVsc2UgewoJCQkJICAgIGJhc2VvZnMgPSBpKm9iai52T2Zmc2V0cy5zdHJpZGU7CgkJCQkgIH0KCiAgICAgICAgICBvZnMgPSBiYXNlb2ZzICsgb2JqLnZPZmZzZXRzLnJhZG9mczsKCQkJCSAgc3NjYWxlID0gb2JqLnZhbHVlc1tvZnNdOwoKCQkJCSAgc3BoZXJlTVYuc2NhbGUoc3NjYWxlL3NjYWxlWzBdLCBzc2NhbGUvc2NhbGVbMV0sIHNzY2FsZS9zY2FsZVsyXSk7CgkJCQkgIHNwaGVyZU1WLnRyYW5zbGF0ZShvYmoudmFsdWVzW2Jhc2VvZnNdLAoJCQkJICAgICAgICAgICAgICAgICAgICAgb2JqLnZhbHVlc1tiYXNlb2ZzKzFdLAoJCQkJICAgICAgICAgICAgICAgICAgICAgb2JqLnZhbHVlc1tiYXNlb2ZzKzJdKTsKCQkJCSAgc3BoZXJlTVYubXVsdFJpZ2h0KHRoaXMubXZNYXRyaXgpOwoJCQkJICBnbC51bmlmb3JtTWF0cml4NGZ2KCBvYmoubXZNYXRMb2MsIGZhbHNlLCBuZXcgRmxvYXQzMkFycmF5KHNwaGVyZU1WLmdldEFzQXJyYXkoKSkgKTsKCgkJCQkgIGlmIChuYyA+IDEpIHsKCQkJCSAgICBvZnMgPSBiYXNlb2ZzICsgb2JqLnZPZmZzZXRzLmNvZnM7CgkJCQkJICBnbC52ZXJ0ZXhBdHRyaWI0ZiggdGhpcy5jb2xMb2MsIG9iai52YWx1ZXNbb2ZzXSwKCQkJCQkgICAJCSAgICAgICAgICAgICAgICAgICAgICAgb2JqLnZhbHVlc1tvZnMrMV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai52YWx1ZXNbb2ZzKzJdLAoJCQkJCQkJICAgICAgICAgICAgICAgICAgICAgICAgIG9iai52YWx1ZXNbb2ZzKzNdICk7CgkJCQkgIH0KCQkJCSAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgdGhpcy5zcGhlcmUuc3BoZXJlQ291bnQsIGdsLlVOU0lHTkVEX1NIT1JULCAwKTsKCgkJCSAgfQoJCQkgIHJldHVybjsKCQkJfSBlbHNlIHsKCQkJCWlmIChvYmouY29sb3JDb3VudCA9PT0gMSkgewoJCQkJCWdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSggdGhpcy5jb2xMb2MgKTsKCQkJCSAgZ2wudmVydGV4QXR0cmliNGZ2KCB0aGlzLmNvbExvYywgbmV3IEZsb2F0MzJBcnJheShvYmoub25lY29sb3IpKTsKCQkJCX0gZWxzZSB7CgkJCQkJZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoIHRoaXMuY29sTG9jICk7CgkJCQkJZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmNvbExvYywgNCwgZ2wuRkxPQVQsIGZhbHNlLCA0Km9iai52T2Zmc2V0cy5zdHJpZGUsIDQqb2JqLnZPZmZzZXRzLmNvZnMpOwoJCQkJfQogICAgICB9CgoJCQlpZiAoaXNfbGl0ICYmIG9iai52T2Zmc2V0cy5ub2ZzID4gMCkgewoJCQkJZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoIG9iai5ub3JtTG9jICk7CgkJCQlnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKG9iai5ub3JtTG9jLCAzLCBnbC5GTE9BVCwgZmFsc2UsIDQqb2JqLnZPZmZzZXRzLnN0cmlkZSwgNCpvYmoudk9mZnNldHMubm9mcyk7CgkJCX0KCgkJCWlmIChoYXNfdGV4dHVyZSB8fCB0eXBlID09PSAidGV4dCIpIHsKCQkJCWdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KCBvYmoudGV4TG9jICk7CgkJCQlnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKG9iai50ZXhMb2MsIDIsIGdsLkZMT0FULCBmYWxzZSwgNCpvYmoudk9mZnNldHMuc3RyaWRlLCA0Km9iai52T2Zmc2V0cy50b2ZzKTsKCQkJCWdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTApOwoJCQkJZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgb2JqLnRleHR1cmUpOwoJCQkJZ2wudW5pZm9ybTFpKCBvYmouc2FtcGxlciwgMCk7CgkJCX0KCgkJCWlmIChmaXhlZF9xdWFkcykgewoJCQkJZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoIG9iai5vZnNMb2MgKTsKCQkJCWdsLnZlcnRleEF0dHJpYlBvaW50ZXIob2JqLm9mc0xvYywgMiwgZ2wuRkxPQVQsIGZhbHNlLCA0Km9iai52T2Zmc2V0cy5zdHJpZGUsIDQqb2JqLnZPZmZzZXRzLm9vZnMpOwoJCQl9CgoJCQl2YXIgbW9kZSA9IHRoaXMubW9kZTR0eXBlW3R5cGVdOwoKICAgICAgaWYgKHR5cGUgPT09ICJzcHJpdGVzIiB8fCB0eXBlID09PSAidGV4dCIgfHwgdHlwZSA9PT0gInF1YWRzIikgewogICAgICAgIGNvdW50ID0gY291bnQgKiA2LzQ7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gInN1cmZhY2UiKSB7CgkJCQljb3VudCA9IG9iai5mLmxlbmd0aDsKICAgICAgfQoKCQkJaWYgKGlzX2xpbmVzKSB7CgkJCQlnbC5saW5lV2lkdGgoIHRoaXMuZ2V0TWF0ZXJpYWwoaWQsICJsd2QiKSApOwoJCQl9CgoJCQlnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMucG9zTG9jLCAgMywgZ2wuRkxPQVQsIGZhbHNlLCA0Km9iai52T2Zmc2V0cy5zdHJpZGUsICA0Km9iai52T2Zmc2V0cy52b2ZzKTsKCgkJCWlmIChpc19pbmRleGVkKSB7CgkJCSAgZ2wuZHJhd0VsZW1lbnRzKGdsW21vZGVdLCBjb3VudCwgZ2wuVU5TSUdORURfU0hPUlQsIDApOwoJCQl9IGVsc2UgewoJCQkgIGdsLmRyYXdBcnJheXMoZ2xbbW9kZV0sIDAsIGNvdW50KTsKCQkJfQoJIH07CgoJICB0aGlzLmRyYXdTdWJzY2VuZSA9IGZ1bmN0aW9uKHN1YnNjZW5laWQpIHsKCQkgIHZhciBnbCA9IHRoaXMuZ2wsCgkJICAgICAgb2JqID0gdGhpcy5nZXRPYmooc3Vic2NlbmVpZCksCgkJICAgICAgb2JqZWN0cyA9IHRoaXMuc2NlbmUub2JqZWN0cywKCQkgICAgICBzdWJpZHMgPSBvYmoub2JqZWN0cywKCQkgICAgICBzdWJzY2VuZV9oYXNfZmFjZXMgPSBmYWxzZSwKCQkgICAgICBzdWJzY2VuZV9uZWVkc19zb3J0aW5nID0gZmFsc2UsCgkJICAgICAgZmxhZ3MsIGk7CiAgICAgIGlmIChvYmoucGFyM2Quc2tpcFJlZHJhdykKICAgICAgICByZXR1cm47CgkJICBmb3IgKGk9MDsgaSA8IHN1Ymlkcy5sZW5ndGg7IGkrKykgewoJCSAgICBmbGFncyA9IG9iamVjdHNbc3ViaWRzW2ldXS5mbGFnczsKCQkgICAgaWYgKHR5cGVvZiBmbGFncyAhPT0gInVuZGVmaW5lZCIpIHsKCQkgICAgICBzdWJzY2VuZV9oYXNfZmFjZXMgfD0gKGZsYWdzICYgdGhpcy5mX2lzX2xpdCkKCQkgICAgICAgICAgICAgICAgICAgICAgICYgIShmbGFncyAmIHRoaXMuZl9maXhlZF9xdWFkcyk7CgkJICAgICAgc3Vic2NlbmVfbmVlZHNfc29ydGluZyB8PSAoZmxhZ3MgJiB0aGlzLmZfZGVwdGhfc29ydCk7CgkJICAgIH0KCQkgIH0KCgkJICB2YXIgYmdpZCA9IG9iai5iYWNrZ3JvdW5kSWQsCgkJICAgICAgYmc7CgogICAgICB0aGlzLnNldFZpZXdwb3J0KHN1YnNjZW5laWQpOwogICAgICBpZiAodHlwZW9mIGJnaWQgIT09ICJ1bmRlZmluZWQiICYmIG9iamVjdHNbYmdpZF0uY29sb3JzLmxlbmd0aCkgewoJCQkgIGJnID0gb2JqZWN0c1tiZ2lkXS5jb2xvcnNbMF07CgkJCSAgZ2wuY2xlYXJDb2xvcihiZ1swXSwgYmdbMV0sIGJnWzJdLCBiZ1szXSk7CgkJCSAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IGdsLkRFUFRIX0JVRkZFUl9CSVQpOwogICAgICB9CgoJCQlpZiAoc3ViaWRzLmxlbmd0aCkgewoJCQkgIHRoaXMuc2V0cHJNYXRyaXgoc3Vic2NlbmVpZCk7CgkJCSAgdGhpcy5zZXRtdk1hdHJpeChzdWJzY2VuZWlkKTsKCgkJCQlpZiAoc3Vic2NlbmVfaGFzX2ZhY2VzKSB7CgkJCQkgIHRoaXMuc2V0bm9ybU1hdHJpeChzdWJzY2VuZWlkKTsKCQkJCSAgaWYgKChvYmouZmxhZ3MgJiB0aGlzLmZfc3ByaXRlc18zZCkgJiYKCQkJCSAgICAgIHR5cGVvZiBvYmouc3ByaXRlTm9ybW1hdCA9PT0gInVuZGVmaW5lZCIpIHsKCQkJCSAgICBvYmouc3ByaXRlTm9ybW1hdCA9IG5ldyBDYW52YXNNYXRyaXg0KHRoaXMubm9ybU1hdHJpeCk7CgkJCQkgIH0KCQkJCX0KCgkJCQlpZiAoc3Vic2NlbmVfbmVlZHNfc29ydGluZykKCQkJCSAgdGhpcy5zZXRwcm12TWF0cml4KCk7CgoJCQkJdmFyIGNsaXBpZHMgPSBvYmouY2xpcHBsYW5lczsKCQkJCWlmIChjbGlwaWRzLmxlbmd0aCA+IDApIHsKCQkJCSAgdGhpcy5pbnZNYXRyaXggPSBuZXcgQ2FudmFzTWF0cml4NCh0aGlzLm12TWF0cml4KTsKCQkJCSAgdGhpcy5pbnZNYXRyaXguaW52ZXJ0KCk7CgkJCQkgIGZvciAoaSA9IDA7IGkgPCBjbGlwaWRzLmxlbmd0aDsgaSsrKQoJCQkJICAgIHRoaXMuZHJhd09iaihjbGlwaWRzW2ldLCBzdWJzY2VuZWlkKTsKCQkJCX0KCQkJCXN1YmlkcyA9IG9iai5vcGFxdWU7CgkJCQlpZiAoc3ViaWRzLmxlbmd0aCA+IDApIHsKCQkJCSAgZ2wuZGVwdGhNYXNrKHRydWUpOwoJCQkJICBnbC5kaXNhYmxlKGdsLkJMRU5EKTsKCQkJCSAgZm9yIChpID0gMDsgc3ViaWRzICYmIGkgPCBzdWJpZHMubGVuZ3RoOyBpKyspIHsKCQkJCSAgICB0aGlzLmRyYXdPYmooc3ViaWRzW2ldLCBzdWJzY2VuZWlkKTsKCQkJCSAgfQoJCQkJfQoJCQkJc3ViaWRzID0gb2JqLnRyYW5zcGFyZW50OwoJCQkJaWYgKHN1Ymlkcy5sZW5ndGggPiAwKSB7CgkJCQkgIGdsLmRlcHRoTWFzayhmYWxzZSk7CgkJCQkgIGdsLmJsZW5kRnVuY1NlcGFyYXRlKGdsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSwKCQkJCSAgICAgICAgICAgICAgICAgICAgICAgZ2wuT05FLCBnbC5PTkUpOwoJCQkJICBnbC5lbmFibGUoZ2wuQkxFTkQpOwoJCQkJICBmb3IgKGkgPSAwOyBpIDwgc3ViaWRzLmxlbmd0aDsgaSsrKSB7CgkJCQkgICAgdGhpcy5kcmF3T2JqKHN1Ymlkc1tpXSwgc3Vic2NlbmVpZCk7CgkJCQkgIH0KCQkJCX0KCQkJCXN1YmlkcyA9IG9iai5zdWJzY2VuZXM7CgkJCQlmb3IgKGkgPSAwOyBpIDwgc3ViaWRzLmxlbmd0aDsgaSsrKSB7CgkJCQkgIHRoaXMuZHJhd1N1YnNjZW5lKHN1Ymlkc1tpXSk7CgkJCQl9CgkJCX0KCSAgfTsKCiAgICB0aGlzLnJlbE1vdXNlQ29vcmRzID0gZnVuY3Rpb24oZXZlbnQpIHsKCQkgIHZhciB0b3RhbE9mZnNldFggPSAwLAoJCSAgdG90YWxPZmZzZXRZID0gMCwKCQkgIGN1cnJlbnRFbGVtZW50ID0gdGhpcy5jYW52YXM7CgoJCSAgZG8gewoJCSAgICB0b3RhbE9mZnNldFggKz0gY3VycmVudEVsZW1lbnQub2Zmc2V0TGVmdDsKCQkgICAgdG90YWxPZmZzZXRZICs9IGN1cnJlbnRFbGVtZW50Lm9mZnNldFRvcDsKCQkgICAgY3VycmVudEVsZW1lbnQgPSBjdXJyZW50RWxlbWVudC5vZmZzZXRQYXJlbnQ7CgkJICB9CgkJICB3aGlsZShjdXJyZW50RWxlbWVudCk7CgoJCSAgdmFyIGNhbnZhc1ggPSBldmVudC5wYWdlWCAtIHRvdGFsT2Zmc2V0WCwKCQkgICAgICBjYW52YXNZID0gZXZlbnQucGFnZVkgLSB0b3RhbE9mZnNldFk7CgoJCSAgcmV0dXJuIHt4OmNhbnZhc1gsIHk6Y2FudmFzWX07CgkJfTsKCiAgICB0aGlzLnNldE1vdXNlSGFuZGxlcnMgPSBmdW5jdGlvbigpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzLCBhY3RpdmVTdWJzY2VuZSwgaGFuZGxlciwKICAgICAgICAgIGhhbmRsZXJzID0ge30sIGRyYWcgPSAwOwoKICAgIGhhbmRsZXJzLnJvdEJhc2UgPSAwOwoKCQl0aGlzLnNjcmVlblRvVmVjdG9yID0gZnVuY3Rpb24oeCwgeSkgewoJCSAgdmFyIHZpZXdwb3J0ID0gdGhpcy5nZXRPYmooYWN0aXZlU3Vic2NlbmUpLnBhcjNkLnZpZXdwb3J0LAoJCSAgICB3aWR0aCA9IHZpZXdwb3J0LndpZHRoKnRoaXMuY2FudmFzLndpZHRoLAoJCQkgIGhlaWdodCA9IHZpZXdwb3J0LmhlaWdodCp0aGlzLmNhbnZhcy5oZWlnaHQsCgkJCSAgcmFkaXVzID0gTWF0aC5tYXgod2lkdGgsIGhlaWdodCkvMi4wLAoJCQkgIGN4ID0gd2lkdGgvMi4wLAoJCQkgIGN5ID0gaGVpZ2h0LzIuMCwKCQkJICBweCA9ICh4LWN4KS9yYWRpdXMsCgkJCSAgcHkgPSAoeS1jeSkvcmFkaXVzLAoJCQkgIHBsZW4gPSBNYXRoLnNxcnQocHgqcHgrcHkqcHkpOwoJCQlpZiAocGxlbiA+IDEuZS02KSB7CgkJCSAgcHggPSBweC9wbGVuOwoJCQkgIHB5ID0gcHkvcGxlbjsKCQkJfQoJCQl2YXIgYW5nbGUgPSAoTWF0aC5TUVJUMiAtIHBsZW4pL01hdGguU1FSVDIqTWF0aC5QSS8yLAoJCQkgIHogPSBNYXRoLnNpbihhbmdsZSksCgkJCSAgemxlbiA9IE1hdGguc3FydCgxLjAgLSB6KnopOwoJCQlweCA9IHB4ICogemxlbjsKCQkJcHkgPSBweSAqIHpsZW47CgkJCXJldHVybiBbcHgsIHB5LCB6XTsKCQl9OwoKCQloYW5kbGVycy50cmFja2JhbGxkb3duID0gZnVuY3Rpb24oeCx5KSB7CgkJCXZhciBhY3RpdmVTdWIgPSB0aGlzLmdldE9iaihhY3RpdmVTdWJzY2VuZSksCgkJCSAgICBhY3RpdmVNb2RlbCA9IHRoaXMuZ2V0T2JqKHRoaXMudXNlaWQoYWN0aXZlU3ViLmlkLCAibW9kZWwiKSksCgkJCSAgaSwgbCA9IGFjdGl2ZU1vZGVsLnBhcjNkLmxpc3RlbmVyczsKCQkJaGFuZGxlcnMucm90QmFzZSA9IHRoaXMuc2NyZWVuVG9WZWN0b3IoeCwgeSk7CgkJCXRoaXMuc2F2ZU1hdCA9IFtdOwoJCQlmb3IgKGkgPSAwOyBpIDwgbC5sZW5ndGg7IGkrKykgewoJCQkgIGFjdGl2ZVN1YiA9IHRoaXMuZ2V0T2JqKGxbaV0pOwoJCQkgIGFjdGl2ZVN1Yi5zYXZlTWF0ID0gbmV3IENhbnZhc01hdHJpeDQoYWN0aXZlU3ViLnBhcjNkLnVzZXJNYXRyaXgpOwoJCQl9CgkJfTsKCgkJaGFuZGxlcnMudHJhY2tiYWxsbW92ZSA9IGZ1bmN0aW9uKHgseSkgewoJCQl2YXIgcm90Q3VycmVudCA9IHRoaXMuc2NyZWVuVG9WZWN0b3IoeCx5KSwKCQkJICAgIHJvdEJhc2UgPSBoYW5kbGVycy5yb3RCYXNlLAoJCQkJZG90ID0gcm90QmFzZVswXSpyb3RDdXJyZW50WzBdICsKCQkJCQkJICByb3RCYXNlWzFdKnJvdEN1cnJlbnRbMV0gKwoJCQkgIAkgICAJcm90QmFzZVsyXSpyb3RDdXJyZW50WzJdLAoJCQkJYW5nbGUgPSBNYXRoLmFjb3MoIGRvdC90aGlzLnZsZW4ocm90QmFzZSkvdGhpcy52bGVuKHJvdEN1cnJlbnQpICkqMTgwLjAvTWF0aC5QSSwKCQkJCWF4aXMgPSB0aGlzLnhwcm9kKHJvdEJhc2UsIHJvdEN1cnJlbnQpLAoJCQkJb2JqZWN0cyA9IHRoaXMuc2NlbmUub2JqZWN0cywKCQkJCWFjdGl2ZVN1YiA9IHRoaXMuZ2V0T2JqKGFjdGl2ZVN1YnNjZW5lKSwKCQkJCWFjdGl2ZU1vZGVsID0gdGhpcy5nZXRPYmoodGhpcy51c2VpZChhY3RpdmVTdWIuaWQsICJtb2RlbCIpKSwKCQkJCWwgPSBhY3RpdmVNb2RlbC5wYXIzZC5saXN0ZW5lcnMsCgkJCQlpOwoJCSAgZm9yIChpID0gMDsgaSA8IGwubGVuZ3RoOyBpKyspIHsKCQkgICAgYWN0aXZlU3ViID0gdGhpcy5nZXRPYmoobFtpXSk7CgkJCSAgYWN0aXZlU3ViLnBhcjNkLnVzZXJNYXRyaXgubG9hZChvYmplY3RzW2xbaV1dLnNhdmVNYXQpOwoJCQkJYWN0aXZlU3ViLnBhcjNkLnVzZXJNYXRyaXgucm90YXRlKGFuZ2xlLCBheGlzWzBdLCBheGlzWzFdLCBheGlzWzJdKTsKCQkJfQoJCQl0aGlzLmRyYXdTY2VuZSgpOwoJCX07CgkJaGFuZGxlcnMudHJhY2tiYWxsZW5kID0gMDsKCiAgICBoYW5kbGVycy5heGlzZG93biA9IGZ1bmN0aW9uKHgseSkgewoJCSAgaGFuZGxlcnMucm90QmFzZSA9IHRoaXMuc2NyZWVuVG9WZWN0b3IoeCwgdGhpcy5jYW52YXMuaGVpZ2h0LzIpOwoJCQl2YXIgYWN0aXZlU3ViID0gdGhpcy5nZXRPYmooYWN0aXZlU3Vic2NlbmUpLAoJCQkgICAgYWN0aXZlTW9kZWwgPSB0aGlzLmdldE9iaih0aGlzLnVzZWlkKGFjdGl2ZVN1Yi5pZCwgIm1vZGVsIikpLAoJCQkgIGksIGwgPSBhY3RpdmVNb2RlbC5wYXIzZC5saXN0ZW5lcnM7CgkJCWZvciAoaSA9IDA7IGkgPCBsLmxlbmd0aDsgaSsrKSB7CgkJCSAgYWN0aXZlU3ViID0gdGhpcy5nZXRPYmoobFtpXSk7CgkJCSAgYWN0aXZlU3ViLnNhdmVNYXQgPSBuZXcgQ2FudmFzTWF0cml4NChhY3RpdmVTdWIucGFyM2QudXNlck1hdHJpeCk7CgkJCX0KCQl9OwoKCQloYW5kbGVycy5heGlzbW92ZSA9IGZ1bmN0aW9uKHgseSkgewoJCSAgdmFyIHJvdEN1cnJlbnQgPSB0aGlzLnNjcmVlblRvVmVjdG9yKHgsIHRoaXMuY2FudmFzLmhlaWdodC8yKSwKCQkgICAgICByb3RCYXNlID0gaGFuZGxlcnMucm90QmFzZSwKCQkJCQlhbmdsZSA9IChyb3RDdXJyZW50WzBdIC0gcm90QmFzZVswXSkqMTgwL01hdGguUEksCgkJCSAgICByb3RNYXQgPSBuZXcgQ2FudmFzTWF0cml4NCgpOwoJCQlyb3RNYXQucm90YXRlKGFuZ2xlLCBoYW5kbGVycy5heGlzWzBdLCBoYW5kbGVycy5heGlzWzFdLCBoYW5kbGVycy5heGlzWzJdKTsKCQkJdmFyIGFjdGl2ZVN1YiA9IHRoaXMuZ2V0T2JqKGFjdGl2ZVN1YnNjZW5lKSwKCQkJICAgIGFjdGl2ZU1vZGVsID0gdGhpcy5nZXRPYmoodGhpcy51c2VpZChhY3RpdmVTdWIuaWQsICJtb2RlbCIpKSwKCQkJICBpLCBsID0gYWN0aXZlTW9kZWwucGFyM2QubGlzdGVuZXJzOwoJCQlmb3IgKGkgPSAwOyBpIDwgbC5sZW5ndGg7IGkrKykgewoJCQkgIGFjdGl2ZVN1YiA9IHRoaXMuZ2V0T2JqKGxbaV0pOwoJCQkgIGFjdGl2ZVN1Yi5wYXIzZC51c2VyTWF0cml4LmxvYWQoYWN0aXZlU3ViLnNhdmVNYXQpOwoJCQkgIGFjdGl2ZVN1Yi5wYXIzZC51c2VyTWF0cml4Lm11bHRMZWZ0KHJvdE1hdCk7CgkJCX0KCQkJdGhpcy5kcmF3U2NlbmUoKTsKCQl9OwogICAgaGFuZGxlcnMuYXhpc2VuZCA9IDA7CgogICAgaGFuZGxlcnMueTB6b29tID0gMDsKCQloYW5kbGVycy56b29tMCA9IDA7CgkJaGFuZGxlcnMuem9vbWRvd24gPSBmdW5jdGlvbih4LCB5KSB7CgkJICB2YXIgYWN0aXZlU3ViID0gdGhpcy5nZXRPYmooYWN0aXZlU3Vic2NlbmUpLAogICAgICAgIGFjdGl2ZVByb2plY3Rpb24gPSB0aGlzLmdldE9iaih0aGlzLnVzZWlkKGFjdGl2ZVN1Yi5pZCwgInByb2plY3Rpb24iKSksCgkJCSAgaSwgbCA9IGFjdGl2ZVByb2plY3Rpb24ucGFyM2QubGlzdGVuZXJzOwoJCSAgaGFuZGxlcnMueTB6b29tID0geTsKCQkgIGZvciAoaSA9IDA7IGkgPCBsLmxlbmd0aDsgaSsrKSB7CgkJCSAgYWN0aXZlU3ViID0gdGhpcy5nZXRPYmoobFtpXSk7CgkJCSAgYWN0aXZlU3ViLnpvb20wID0gTWF0aC5sb2coYWN0aXZlU3ViLnBhcjNkLnpvb20pOwoJCQl9CgkJfTsKICAgIGhhbmRsZXJzLnpvb21tb3ZlID0gZnVuY3Rpb24oeCwgeSkgewoJCQl2YXIgYWN0aXZlU3ViID0gdGhpcy5nZXRPYmooYWN0aXZlU3Vic2NlbmUpLAoJCQkgICAgYWN0aXZlUHJvamVjdGlvbiA9IHRoaXMuZ2V0T2JqKHRoaXMudXNlaWQoYWN0aXZlU3ViLmlkLCAicHJvamVjdGlvbiIpKSwKCQkJICBpLCBsID0gYWN0aXZlUHJvamVjdGlvbi5wYXIzZC5saXN0ZW5lcnM7CgkJCWZvciAoaSA9IDA7IGkgPCBsLmxlbmd0aDsgaSsrKSB7CgkJCSAgYWN0aXZlU3ViID0gdGhpcy5nZXRPYmoobFtpXSk7CgkJCSAgYWN0aXZlU3ViLnBhcjNkLnpvb20gPSBNYXRoLmV4cChhY3RpdmVTdWIuem9vbTAgKyAoeS1oYW5kbGVycy55MHpvb20pL3RoaXMuY2FudmFzLmhlaWdodCk7CgkJCX0KCQkJCXRoaXMuZHJhd1NjZW5lKCk7CgkJICB9OwogICAgaGFuZGxlcnMuem9vbWVuZCA9IDA7CgogICAgaGFuZGxlcnMueTBmb3YgPSAwOwoJCWhhbmRsZXJzLmZvdmRvd24gPSBmdW5jdGlvbih4LCB5KSB7CgkJCSAgaGFuZGxlcnMueTBmb3YgPSB5OwoJCQkJdmFyIGFjdGl2ZVN1YiA9IHRoaXMuZ2V0T2JqKGFjdGl2ZVN1YnNjZW5lKSwKCQkJICAgIGFjdGl2ZVByb2plY3Rpb24gPSB0aGlzLmdldE9iaih0aGlzLnVzZWlkKGFjdGl2ZVN1Yi5pZCwgInByb2plY3Rpb24iKSksCgkJCSAgaSwgbCA9IGFjdGl2ZVByb2plY3Rpb24ucGFyM2QubGlzdGVuZXJzOwoJCQkJZm9yIChpID0gMDsgaSA8IGwubGVuZ3RoOyBpKyspIHsKCQkJCSAgYWN0aXZlU3ViID0gdGhpcy5nZXRPYmoobFtpXSk7CgkJCQkgIGFjdGl2ZVN1Yi5mb3YwID0gYWN0aXZlU3ViLnBhcjNkLkZPVjsKCQkJCX0KCQkJfTsKICAgIGhhbmRsZXJzLmZvdm1vdmUgPSBmdW5jdGlvbih4LCB5KSB7CgkJCXZhciBhY3RpdmVTdWIgPSB0aGlzLmdldE9iaihhY3RpdmVTdWJzY2VuZSksCgkJCSAgICBhY3RpdmVQcm9qZWN0aW9uID0gdGhpcy5nZXRPYmoodGhpcy51c2VpZChhY3RpdmVTdWIuaWQsICJwcm9qZWN0aW9uIikpLAoJCQkgIGksIGwgPSBhY3RpdmVQcm9qZWN0aW9uLnBhcjNkLmxpc3RlbmVyczsKCQkJCWZvciAoaSA9IDA7IGkgPCBsLmxlbmd0aDsgaSsrKSB7CgkJCQkgIGFjdGl2ZVN1YiA9IHRoaXMuZ2V0T2JqKGxbaV0pOwoJCQkJICBhY3RpdmVTdWIucGFyM2QuRk9WID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMTc5LCBhY3RpdmVTdWIuZm92MCArCgkJCQkgICAgIDE4MCooeS1oYW5kbGVycy55MGZvdikvdGhpcy5jYW52YXMuaGVpZ2h0KSk7CgkJCQl9CgkJCQl0aGlzLmRyYXdTY2VuZSgpOwoJCQl9OwogICAgaGFuZGxlcnMuZm92ZW5kID0gMDsKCgkJICB0aGlzLmNhbnZhcy5vbm1vdXNlZG93biA9IGZ1bmN0aW9uICggZXYgKXsKCQkgICAgaWYgKCFldi53aGljaCkgLy8gVXNlIHczYyBkZWZucyBpbiBwcmVmZXJlbmNlIHRvIE1TCgkJICAgIHN3aXRjaCAoZXYuYnV0dG9uKSB7CgkJICAgICAgY2FzZSAwOiBldi53aGljaCA9IDE7IGJyZWFrOwoJCSAgICAgIGNhc2UgMToKCQkgICAgICBjYXNlIDQ6IGV2LndoaWNoID0gMjsgYnJlYWs7CgkJICAgICAgY2FzZSAyOiBldi53aGljaCA9IDM7CgkJICAgIH0KCQkgICAgZHJhZyA9IFsibGVmdCIsICJtaWRkbGUiLCAicmlnaHQiXVtldi53aGljaC0xXTsKCQkgICAgdmFyIGNvb3JkcyA9IHNlbGYucmVsTW91c2VDb29yZHMoZXYpOwoJCSAgICBjb29yZHMueSA9IHNlbGYuY2FudmFzLmhlaWdodC1jb29yZHMueTsKCQkgICAgYWN0aXZlU3Vic2NlbmUgPSBzZWxmLndoaWNoU3Vic2NlbmUoY29vcmRzKTsKCQkgICAgdmFyIHN1YiA9IHNlbGYuZ2V0T2JqKGFjdGl2ZVN1YnNjZW5lKSwgZjsKCQkgICAgaGFuZGxlciA9IHN1Yi5wYXIzZC5tb3VzZU1vZGVbZHJhZ107CgkJICAgIHN3aXRjaCAoaGFuZGxlcikgewoJCSAgICBjYXNlICJ4QXhpcyI6CgkJICAgICAgaGFuZGxlciA9ICJheGlzIjsKCQkgICAgICBoYW5kbGVycy5heGlzID0gWzEuMCwgMC4wLCAwLjBdOwoJCSAgICAgIGJyZWFrOwoJCSAgICBjYXNlICJ5QXhpcyI6CgkJICAgICAgaGFuZGxlciA9ICJheGlzIjsKCQkgICAgICBoYW5kbGVycy5heGlzID0gWzAuMCwgMS4wLCAwLjBdOwoJCSAgICAgIGJyZWFrOwoJCSAgICBjYXNlICJ6QXhpcyI6CgkJICAgICAgaGFuZGxlciA9ICJheGlzIjsKCQkgICAgICBoYW5kbGVycy5heGlzID0gWzAuMCwgMC4wLCAxLjBdOwoJCSAgICAgIGJyZWFrOwoJCSAgICB9CgkJICAgIGYgPSBoYW5kbGVyc1toYW5kbGVyICsgImRvd24iXTsKCQkgICAgaWYgKGYpIHsKCQkgICAgICBjb29yZHMgPSBzZWxmLnRyYW5zbGF0ZUNvb3JkcyhhY3RpdmVTdWJzY2VuZSwgY29vcmRzKTsKCQkgICAgICBmLmNhbGwoc2VsZiwgY29vcmRzLngsIGNvb3Jkcy55KTsKCQkgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpOwoJCSAgICB9CgkJICB9OwoKCQkgIHRoaXMuY2FudmFzLm9ubW91c2V1cCA9IGZ1bmN0aW9uICggZXYgKXsKCQkgICAgaWYgKCBkcmFnID09PSAwICkgcmV0dXJuOwoJCSAgICB2YXIgZiA9IGhhbmRsZXJzW2hhbmRsZXIgKyAidXAiXTsKCQkgICAgaWYgKGYpCgkJICAgICAgZigpOwoJCSAgICBkcmFnID0gMDsKCQkgIH07CgoJCSAgdGhpcy5jYW52YXMub25tb3VzZW91dCA9IHRoaXMuY2FudmFzLm9ubW91c2V1cDsKCgkJICB0aGlzLmNhbnZhcy5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uICggZXYgKSB7CgkJICAgIGlmICggZHJhZyA9PT0gMCApIHJldHVybjsKCQkgICAgdmFyIGYgPSBoYW5kbGVyc1toYW5kbGVyICsgIm1vdmUiXTsKCQkgICAgaWYgKGYpIHsKCQkgICAgICB2YXIgY29vcmRzID0gc2VsZi5yZWxNb3VzZUNvb3Jkcyhldik7CgkJICAgICAgY29vcmRzLnkgPSBzZWxmLmNhbnZhcy5oZWlnaHQgLSBjb29yZHMueTsKCQkgICAgICBjb29yZHMgPSBzZWxmLnRyYW5zbGF0ZUNvb3JkcyhhY3RpdmVTdWJzY2VuZSwgY29vcmRzKTsKCQkgICAgICBmLmNhbGwoc2VsZiwgY29vcmRzLngsIGNvb3Jkcy55KTsKCQkgICAgfQoJCSAgfTsKCgkJICBoYW5kbGVycy53aGVlbEhhbmRsZXIgPSBmdW5jdGlvbihldikgewoJCSAgICB2YXIgZGVsID0gMS4wMiwgaTsKCQkgICAgaWYgKGV2LnNoaWZ0S2V5KSBkZWwgPSAxLjAwMjsKCQkgICAgdmFyIGRzID0gKChldi5kZXRhaWwgfHwgZXYud2hlZWxEZWx0YSkgPiAwKSA/IGRlbCA6ICgxIC8gZGVsKTsKCQkgICAgaWYgKHR5cGVvZiBhY3RpdmVTdWJzY2VuZSA9PT0gInVuZGVmaW5lZCIpCgkJICAgICAgYWN0aXZlU3Vic2NlbmUgPSBzZWxmLnNjZW5lLnJvb3RTdWJzY2VuZTsKCQkJICB2YXIgYWN0aXZlU3ViID0gc2VsZi5nZXRPYmooYWN0aXZlU3Vic2NlbmUpLAoJCQkgICAgICBhY3RpdmVQcm9qZWN0aW9uID0gc2VsZi5nZXRPYmooc2VsZi51c2VpZChhY3RpdmVTdWIuaWQsICJwcm9qZWN0aW9uIikpLAoJCQkgICAgICBsID0gYWN0aXZlUHJvamVjdGlvbi5wYXIzZC5saXN0ZW5lcnM7CgoJCSAgICBmb3IgKGkgPSAwOyBpIDwgbC5sZW5ndGg7IGkrKykgewoJCSAgICAgIGFjdGl2ZVN1YiA9IHNlbGYuZ2V0T2JqKGxbaV0pOwoJCSAgICAgIGFjdGl2ZVN1Yi5wYXIzZC56b29tICo9IGRzOwoJCSAgICB9CgkJICAgIHNlbGYuZHJhd1NjZW5lKCk7CgkJICAgIGV2LnByZXZlbnREZWZhdWx0KCk7CgkJICB9OwoKCQkgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIkRPTU1vdXNlU2Nyb2xsIiwgaGFuZGxlcnMud2hlZWxIYW5kbGVyLCBmYWxzZSk7CgkJICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXdoZWVsIiwgaGFuZGxlcnMud2hlZWxIYW5kbGVyLCBmYWxzZSk7CgkJfTsKCgkJdGhpcy51c2VpZCA9IGZ1bmN0aW9uKHN1YnNjZW5laWQsIHR5cGUpIHsKCQkgIHZhciBzdWIgPSB0aGlzLmdldE9iaihzdWJzY2VuZWlkKTsKCQkgIGlmIChzdWIuZW1iZWRkaW5nc1t0eXBlXSA9PT0gImluaGVyaXQiKQoJCSAgICByZXR1cm4odGhpcy51c2VpZChzdWIucGFyZW50LCB0eXBlKSk7CgkJICBlbHNlCgkJICAgIHJldHVybiBzdWJzY2VuZWlkOwoJCX07CgoJCXRoaXMuaW5WaWV3cG9ydCA9IGZ1bmN0aW9uKGNvb3Jkcywgc3Vic2NlbmVpZCkgewoJCSAgdmFyIHZpZXdwb3J0ID0gdGhpcy5nZXRPYmooc3Vic2NlbmVpZCkucGFyM2Qudmlld3BvcnQsCgkJICAgIHgwID0gY29vcmRzLnggLSB2aWV3cG9ydC54KnRoaXMuY2FudmFzLndpZHRoLAoJCSAgICB5MCA9IGNvb3Jkcy55IC0gdmlld3BvcnQueSp0aGlzLmNhbnZhcy5oZWlnaHQ7CgkJICByZXR1cm4gMCA8PSB4MCAmJiB4MCA8PSB2aWV3cG9ydC53aWR0aCp0aGlzLmNhbnZhcy53aWR0aCAmJgoJCSAgICAgICAgIDAgPD0geTAgJiYgeTAgPD0gdmlld3BvcnQuaGVpZ2h0KnRoaXMuY2FudmFzLmhlaWdodDsKCQl9OwoKICAgIHRoaXMud2hpY2hTdWJzY2VuZSA9IGZ1bmN0aW9uKGNvb3JkcykgewogICAgICB2YXIgc2VsZiA9IHRoaXMsCiAgICAgICAgICByZWN1cnNlID0gZnVuY3Rpb24oc3Vic2NlbmVpZCkgewogICAgICAgICAgICB2YXIgc3Vic2NlbmVzID0gc2VsZi5nZXRDaGlsZFN1YnNjZW5lcyhzdWJzY2VuZWlkKSwgaSwgaWQ7CiAgICAgICAgICAgIGZvciAoaT0wOyBpIDwgc3Vic2NlbmVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgaWQgPSByZWN1cnNlKHN1YnNjZW5lc1tpXSk7CiAgICAgICAgICAgICAgaWYgKHR5cGVvZihpZCkgIT09ICJ1bmRlZmluZWQiKQogICAgICAgICAgICAgICAgcmV0dXJuKGlkKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2VsZi5pblZpZXdwb3J0KGNvb3Jkcywgc3Vic2NlbmVpZCkpCiAgICAgICAgICAgICAgcmV0dXJuKHN1YnNjZW5laWQpOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgICAgIH0sCiAgICAgICAgICByb290aWQgPSB0aGlzLnNjZW5lLnJvb3RTdWJzY2VuZSwKICAgICAgICAgIHJlc3VsdCA9IHJlY3Vyc2Uocm9vdGlkKTsKICAgICAgaWYgKHR5cGVvZihyZXN1bHQpID09PSAidW5kZWZpbmVkIikKICAgICAgICByZXN1bHQgPSByb290aWQ7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9OwoKICAgIHRoaXMudHJhbnNsYXRlQ29vcmRzID0gZnVuY3Rpb24oc3Vic2NlbmVpZCwgY29vcmRzKSB7CiAgICAgIHZhciB2aWV3cG9ydCA9IHRoaXMuZ2V0T2JqKHN1YnNjZW5laWQpLnBhcjNkLnZpZXdwb3J0OwogICAgICByZXR1cm4ge3g6IGNvb3Jkcy54IC0gdmlld3BvcnQueCp0aGlzLmNhbnZhcy53aWR0aCwKICAgICAgICAgICAgICB5OiBjb29yZHMueSAtIHZpZXdwb3J0LnkqdGhpcy5jYW52YXMuaGVpZ2h0fTsKICAgIH07CgogICAgdGhpcy5pbml0U3BoZXJlID0gZnVuY3Rpb24odmVydHMpIHsKICAgICAgdmFyIGdsID0gdGhpcy5nbCwgcmV1c2UgPSB2ZXJ0cy5yZXVzZSwgcmVzdWx0OwogICAgICBpZiAodHlwZW9mIHJldXNlICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIHZhciBwcmV2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocmV1c2UpLnJnbGluc3RhbmNlLnNwaGVyZTsKICAgICAgICByZXN1bHQgPSB7dmI6IHByZXYudmIsIGl0OiBwcmV2Lml0fTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXN1bHQgPSB7dmI6IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5mbGF0dGVuKHRoaXMudHJhbnNwb3NlKHZlcnRzLnZiKSkpLAogICAgICAgICAgICAgIGl0OiBuZXcgVWludDE2QXJyYXkodGhpcy5mbGF0dGVuKHRoaXMudHJhbnNwb3NlKHZlcnRzLml0KSkpfTsKICAgICAgfQogICAgICByZXN1bHQuc3BoZXJlU3RyaWRlID0gMTI7CiAgICAgIHJlc3VsdC5zcGhlcmVDb3VudCA9IHJlc3VsdC5pdC5sZW5ndGg7CgkgICAgcmVzdWx0LmJ1ZiA9IGdsLmNyZWF0ZUJ1ZmZlcigpOwoJICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCByZXN1bHQuYnVmKTsKCSAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgcmVzdWx0LnZiLCBnbC5TVEFUSUNfRFJBVyk7CgkgICAgcmVzdWx0LmlidWYgPSBnbC5jcmVhdGVCdWZmZXIoKTsKCSAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCByZXN1bHQuaWJ1Zik7CgkgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgcmVzdWx0Lml0LCBnbC5TVEFUSUNfRFJBVyk7CgogICAgICByZXR1cm4gcmVzdWx0OwogICAgfTsKCgkJdGhpcy5pbml0aWFsaXplID0gZnVuY3Rpb24oZWwsIHgpIHsKCQkgIHRoaXMudGV4dHVyZUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOwoJCSAgdGhpcy50ZXh0dXJlQ2FudmFzLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwoJCSAgdGhpcy5zY2VuZSA9IHg7CgkgICAgdGhpcy5ub3JtTWF0cml4ID0gbmV3IENhbnZhc01hdHJpeDQoKTsKCSAgICB0aGlzLnNhdmVNYXQgPSB7fTsKCSAgICB0aGlzLmRpc3RhbmNlID0gbnVsbDsKCSAgICB0aGlzLnBvc0xvYyA9IDA7CgkgICAgdGhpcy5jb2xMb2MgPSAxOwoJICAgIGlmIChlbCkgewoJICAgICAgZWwucmdsaW5zdGFuY2UgPSB0aGlzOwoJICAgICAgdGhpcy5pbml0Q2FudmFzKGVsKTsKCSAgICB9CgkJfTsKCgkJdGhpcy5pbml0Q2FudmFzID0gZnVuY3Rpb24oZWwpIHsKCQkgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CgkJICB0aGlzLnJlc2l6ZShlbCk7CgkJICB3aGlsZSAoZWwuZmlyc3RDaGlsZCkgewogICAgICAgIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpOwogICAgICB9CgkJICBlbC5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcyk7CgkJICB0aGlzLmluaXRHTDAoKTsKCQkgIGlmICghdGhpcy5nbCkKCQkgICAgcmV0dXJuOwoJICAgIHZhciBvYmpzID0gdGhpcy5zY2VuZS5vYmplY3RzLAoJICAgICAgICBzZWxmID0gdGhpczsKCSAgICB0aGlzLnNwaGVyZSA9IHRoaXMuaW5pdFNwaGVyZSh0aGlzLnNjZW5lLnNwaGVyZVZlcnRzKTsKCSAgICBPYmplY3Qua2V5cyhvYmpzKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7CgkgICAgICB2YXIgaWQgPSBwYXJzZUludChrZXksIDEwKSwKCSAgICAgICAgICBvYmogPSBzZWxmLmdldE9iaihpZCk7CgkgICAgICBpZiAodHlwZW9mIG9iai5yZXVzZSAhPT0gInVuZGVmaW5lZCIpCgkgICAgICAgIHNlbGYuY29weU9iaihpZCwgb2JqLnJldXNlKTsKCSAgICB9KTsKCSAgICBPYmplY3Qua2V5cyhvYmpzKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7CgkgICAgICBzZWxmLmluaXRTdWJzY2VuZShwYXJzZUludChrZXksIDEwKSk7CgkgICAgfSk7CgkgICAgT2JqZWN0LmtleXMob2JqcykuZm9yRWFjaChmdW5jdGlvbihrZXkpewoJCSAgICBzZWxmLmluaXRPYmoocGFyc2VJbnQoa2V5LCAxMCkpOwoJCSAgfSk7CgkJICB0aGlzLnNldE1vdXNlSGFuZGxlcnMoKTsKCQl9OwoKCQkvKiB0aGlzIGlzIG9ubHkgdXNlZCBieSAud3JpdGVXZWJHTDsgcmdsd2lkZ2V0IGhhcwoJCSAgIG5vIGRlYnVnIGVsZW1lbnQgYW5kIGRvZXMgdGhlIGRyYXdpbmcgaW4gcmdsd2lkZ2V0LmpzICovCgoJCXRoaXMuc3RhcnQgPSBmdW5jdGlvbigpIHsKCQkgIGlmICh0eXBlb2YgdGhpcy5wcmVmaXggIT09ICJ1bmRlZmluZWQiKSB7CgkJICAgIHRoaXMuZGVidWdlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXggKyAiZGVidWciKTsKCSAgICAgIHRoaXMuZGVidWcoIiIpOwoJCSAgfQoJCSAgdGhpcy5kcmFnID0gMDsKCQkgIHRoaXMuZHJhd1NjZW5lKCk7CgkJfTsKCgkJdGhpcy5kZWJ1ZyA9IGZ1bmN0aW9uKG1zZywgaW1nKSB7CgkJICBpZiAodHlwZW9mIHRoaXMuZGVidWdlbGVtZW50ICE9PSAidW5kZWZpbmVkIikgewoJCSAgICB0aGlzLmRlYnVnZWxlbWVudC5pbm5lckhUTUwgPSBtc2c7CgkJICAgIGlmICh0eXBlb2YgaW1nICE9PSAidW5kZWZpbmVkIikgewoJCSAgICAgIHRoaXMuZGVidWdlbGVtZW50Lmluc2VydEJlZm9yZShpbWcsIHRoaXMuZGVidWdlbGVtZW50LmZpcnN0Q2hpbGQpOwoJCSAgICB9CgkJICB9IGVsc2UKCQkgICAgYWxlcnQobXNnKTsKCQl9OwoKICAgIHRoaXMuZ2V0U25hcHNob3QgPSBmdW5jdGlvbigpIHsKICAgICAgdmFyIGltZzsKCSAgICBpZiAodHlwZW9mIHRoaXMuc2NlbmUuc25hcHNob3QgIT09ICJ1bmRlZmluZWQiKSB7CgkgICAgICBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKCSAgICAgIGltZy5zcmMgPSB0aGlzLnNjZW5lLnNuYXBzaG90OwoJICAgICAgaW1nLmFsdCA9ICJTbmFwc2hvdCI7CgkgICAgfQoJICAgIHJldHVybiBpbWc7CiAgICB9OwoKICAgIHRoaXMuaW5pdEdMMCA9IGZ1bmN0aW9uKCkgewoJICAgIGlmICghd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCl7CgkgICAgICB0aGlzLmRlYnVnKCJZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBXZWJHTC4gU2VlIDxhIGhyZWY9XCJodHRwOi8vZ2V0LndlYmdsLm9yZ1wiPmh0dHA6Ly9nZXQud2ViZ2wub3JnPC9hPiIsIHRoaXMuZ2V0U25hcHNob3QoKSk7CgkgICAgICByZXR1cm47CgkgICAgfQoJICAgIHRyeSB7CgkgICAgICB0aGlzLmluaXRHTCgpOwoJICAgIH0KCSAgICBjYXRjaChlKSB7fQoJICAgIGlmICggIXRoaXMuZ2wgKSB7CgkgICAgICB0aGlzLmRlYnVnKCJZb3VyIGJyb3dzZXIgYXBwZWFycyB0byBzdXBwb3J0IFdlYkdMLCBidXQgZGlkIG5vdCBjcmVhdGUgYSBXZWJHTCBjb250ZXh0LiAgU2VlIDxhIGhyZWY9XCJodHRwOi8vZ2V0LndlYmdsLm9yZ1wiPmh0dHA6Ly9nZXQud2ViZ2wub3JnPC9hPiIsCgkgICAgICAgICAgICB0aGlzLmdldFNuYXBzaG90KCkpOwoJICAgICAgcmV0dXJuOwoJICAgIH0KICAgIH07CgogICAgdGhpcy5pbml0R0wgPSBmdW5jdGlvbigpIHsKCSAgIHRoaXMuZ2wgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCJ3ZWJnbCIpIHx8CgkgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiKTsKCSB9OwoKICAgIHRoaXMucmVzaXplID0gZnVuY3Rpb24oZWwpIHsKICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBlbC53aWR0aDsKICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gZWwuaGVpZ2h0OwogICAgfTsKCiAgICB0aGlzLmRyYXdTY2VuZSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgZ2wgPSB0aGlzLmdsOwogICAgICBpZiAoIWdsKQogICAgICAgIHRoaXMuYWxlcnRPbmNlKCJObyBXZWJHTCBjb250ZXh0LiIpOwogICAgICBnbC5lbmFibGUoZ2wuREVQVEhfVEVTVCk7CgkgICAgZ2wuZGVwdGhGdW5jKGdsLkxFUVVBTCk7CgkgICAgZ2wuY2xlYXJEZXB0aCgxLjApOwoJICAgIGdsLmNsZWFyQ29sb3IoMSwxLDEsMSk7CiAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUKTsKCQkJdGhpcy5kcmF3U3Vic2NlbmUodGhpcy5zY2VuZS5yb290U3Vic2NlbmUpOwoJCQl0aGlzLmRyYXdpbmcgPSBmYWxzZTsKCQl9OwoKCQl0aGlzLnN1YnNldFNldHRlciA9IGZ1bmN0aW9uKGVsLCBjb250cm9sKSB7CgkJICBpZiAodHlwZW9mIGNvbnRyb2wuc3Vic2NlbmVzID09PSAidW5kZWZpbmVkIiB8fAoJCSAgICAgIGNvbnRyb2wuc3Vic2NlbmVzID09PSBudWxsKQogICAgICAgIGNvbnRyb2wuc3Vic2NlbmVzID0gdGhpcy5zY2VuZS5yb290U3Vic2NlbmU7CiAgICAgIHZhciB2YWx1ZSA9IE1hdGgucm91bmQoY29udHJvbC52YWx1ZSksCiAgICAgICAgICBzdWJzY2VuZXMgPSBbXS5jb25jYXQoY29udHJvbC5zdWJzY2VuZXMpLAogICAgICAgICAgaSwgaiwgZW50cmllcywgc3Vic2NlbmVpZCwKICAgICAgICAgIGlzbWlzc2luZyA9IGZ1bmN0aW9uKHgpIHsKICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2wuZnVsbHNldC5pbmRleE9mKHgpIDwgMDsKICAgICAgICAgIH0sCiAgICAgICAgICB0b2ludGVnZXIgPSBmdW5jdGlvbih4KSB7CiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh4LCAxMCk7CiAgICAgICAgICB9OwoKICAgICAgZm9yIChpPTA7IGkgPCBzdWJzY2VuZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBzdWJzY2VuZWlkID0gc3Vic2NlbmVzW2ldOwogICAgICAgIGlmICh0eXBlb2YgdGhpcy5nZXRPYmooc3Vic2NlbmVpZCkgPT09ICJ1bmRlZmluZWQiKQogICAgICAgICAgdGhpcy5hbGVydE9uY2UoInR5cGVvZiBvYmplY3QgaXMgdW5kZWZpbmVkIik7CiAgICAgICAgZW50cmllcyA9IHRoaXMuZ2V0T2JqKHN1YnNjZW5laWQpLm9iamVjdHM7CiAgICAgICAgZW50cmllcyA9IGVudHJpZXMuZmlsdGVyKGlzbWlzc2luZyk7CiAgICAgICAgaWYgKGNvbnRyb2wuYWNjdW11bGF0ZSkgewogICAgICAgICAgZm9yIChqPTA7IGo8PXZhbHVlOyBqKyspCiAgICAgICAgICAgIGVudHJpZXMgPSBlbnRyaWVzLmNvbmNhdChjb250cm9sLnN1YnNldHNbal0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlbnRyaWVzID0gZW50cmllcy5jb25jYXQoY29udHJvbC5zdWJzZXRzW3ZhbHVlXSk7CiAgICAgICAgfQogICAgICAgIGVudHJpZXMgPSBlbnRyaWVzLm1hcCh0b2ludGVnZXIpOwogICAgICAgIHRoaXMuc2V0U3Vic2NlbmVFbnRyaWVzKHRoaXMudW5pcXVlKGVudHJpZXMpLCBzdWJzY2VuZWlkKTsKICAgICAgfQoJCX07CgoJCXRoaXMucHJvcGVydHlTZXR0ZXIgPSBmdW5jdGlvbihlbCwgY29udHJvbCkgIHsKCQkgIHZhciB2YWx1ZSA9IGNvbnRyb2wudmFsdWUsCgkJICAgICAgdmFsdWVzID0gW10uY29uY2F0KGNvbnRyb2wudmFsdWVzKSwKCQkgICAgICBzdmFscyA9IFtdLmNvbmNhdChjb250cm9sLnBhcmFtKSwKCQkgICAgICBkaXJlY3QgPSB2YWx1ZXNbMF0gPT09IG51bGwsCgkJICAgICAgZW50cmllcyA9IFtdLmNvbmNhdChjb250cm9sLmVudHJpZXMpLAoJCSAgICAgIG5jb2wgPSBlbnRyaWVzLmxlbmd0aCwKCQkgICAgICBucm93ID0gdmFsdWVzLmxlbmd0aC9uY29sLAoJCSAgICAgIHByb3BlcnRpZXMgPSB0aGlzLnJlcGVhdFRvTGVuKGNvbnRyb2wucHJvcGVydGllcywgbmNvbCksCgkJICAgICAgb2JqaWRzID0gdGhpcy5yZXBlYXRUb0xlbihjb250cm9sLm9iamlkcywgbmNvbCksCgkJICAgICAgcHJvcGVydHkgPSBwcm9wZXJ0aWVzWzBdLCBvYmppZCA9IG9iamlkc1swXSwKCQkgICAgICBvYmogPSB0aGlzLmdldE9iaihvYmppZCksCgkJICAgICAgcHJvcHZhbHMsIGksIHYxLCB2MiwgcCwgZW50cnksIGdsLCBuZWVkc0JpbmRpbmcsCgkJICAgICAgbmV3cHJvcCwgbmV3aWQsCgoJCSAgICAgIGdldFByb3B2YWxzID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmIChwcm9wZXJ0eSA9PT0gInVzZXJNYXRyaXgiKQogICAgICAgICAgICAgIHJldHVybiBvYmoudXNlck1hdHJpeC5nZXRBc0FycmF5KCk7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICByZXR1cm4gb2JqW3Byb3BlcnR5XTsKCQkgICAgICB9OwoKICAgICAgaWYgKGRpcmVjdCAmJiB0eXBlb2YgdmFsdWUgPT09ICJ1bmRlZmluZWQiKQogICAgICAgIHJldHVybjsKCiAgICAgIGlmIChjb250cm9sLmludGVycCkgewogICAgICAgIHZhbHVlcyA9IHZhbHVlcy5zbGljZSgwLCBuY29sKS5jb25jYXQodmFsdWVzKS4KICAgICAgICAgICAgICAgICBjb25jYXQodmFsdWVzLnNsaWNlKG5jb2wqKG5yb3ctMSksIG5jb2wqbnJvdykpOwogICAgICAgIHN2YWxzID0gWy1JbmZpbml0eV0uY29uY2F0KHN2YWxzKS5jb25jYXQoSW5maW5pdHkpOwogICAgICAgIGZvciAoaSA9IDE7IGkgPCBzdmFscy5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWYgKHZhbHVlIDw9IHN2YWxzW2ldKSB7CiAgICAgICAgICAgIGlmIChzdmFsc1tpXSA9PT0gSW5maW5pdHkpCiAgICAgICAgICAgICAgcCA9IDE7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICBwID0gKHN2YWxzW2ldIC0gdmFsdWUpLyhzdmFsc1tpXSAtIHN2YWxzW2ktMV0pOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoIWRpcmVjdCkgewogICAgICAgIHZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSk7CiAgICAgIH0KCiAgICAgIHByb3B2YWxzID0gZ2V0UHJvcHZhbHMoKTsKCiAgICAgIGZvciAoaj0wOyBqPGVudHJpZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICBlbnRyeSA9IGVudHJpZXNbal07CiAgICAgICAgbmV3cHJvcCA9IHByb3BlcnRpZXNbal07CiAgICAgICAgbmV3aWQgPSBvYmppZHNbal07CgogICAgICAgIGlmIChuZXdwcm9wICE9IHByb3BlcnR5IHx8IG5ld2lkICE9IG9iamlkKSB7CiAgICAgICAgICBwcm9wZXJ0eSA9IG5ld3Byb3A7CiAgICAgICAgICBvYmppZCA9IG5ld2lkOwogICAgICAgICAgb2JqID0gdGhpcy5nZXRPYmoob2JqaWQpOwogICAgICAgICAgcHJvcHZhbHMgPSBnZXRQcm9wdmFscygpOwogICAgICAgIH0KICAgICAgICBpZiAoY29udHJvbC5pbnRlcnApIHsKICAgICAgICAgIHYxID0gdmFsdWVzW25jb2wqKGktMSkgKyBqXTsKICAgICAgICAgIHYyID0gdmFsdWVzW25jb2wqaSArIGpdOwogICAgICAgICAgdGhpcy5zZXRFbGVtZW50KHByb3B2YWxzLCBlbnRyeSwgcCp2MSArICgxLXApKnYyKTsKICAgICAgICB9IGVsc2UgaWYgKCFkaXJlY3QpIHsKICAgICAgICAgIHRoaXMuc2V0RWxlbWVudChwcm9wdmFscywgZW50cnksIHZhbHVlc1tuY29sKnZhbHVlICsgal0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNldEVsZW1lbnQocHJvcHZhbHMsIGVudHJ5LCB2YWx1ZVtqXSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIG5lZWRzQmluZGluZyA9IFtdOwogICAgICBmb3IgKGo9MDsgaiA8IGVudHJpZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICBpZiAocHJvcGVydGllc1tqXSA9PT0gInZhbHVlcyIgJiYKICAgICAgICAgICAgbmVlZHNCaW5kaW5nLmluZGV4T2Yob2JqaWRzW2pdKSA9PT0gLTEpIHsKICAgICAgICAgIG5lZWRzQmluZGluZy5wdXNoKG9iamlkc1tqXSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZvciAoaj0wOyBqIDwgbmVlZHNCaW5kaW5nLmxlbmd0aDsgaisrKSB7CiAgICAgICAgZ2wgPSB0aGlzLmdsOwogICAgICAgIG9iaiA9IHRoaXMuZ2V0T2JqKG5lZWRzQmluZGluZ1tqXSk7CiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG9iai5idWYpOwogICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBvYmoudmFsdWVzLCBnbC5TVEFUSUNfRFJBVyk7CiAgICAgIH0KICAgIH07CgogICAgdGhpcy52ZXJ0ZXhTZXR0ZXIgPSBmdW5jdGlvbihlbCwgY29udHJvbCkgIHsKICAgICAgdmFyIHN2YWxzID0gW10uY29uY2F0KGNvbnRyb2wucGFyYW0pLAogICAgICAgICAgaiwgaywgcCwgcHJvcHZhbHMsIHN0cmlkZSwgb2ZzLCBvYmosCiAgICAgICAgICBhdHRyaWIsCiAgICAgICAgICBvZnNzICAgID0ge3g6InZvZnMiLCB5OiJ2b2ZzIiwgejoidm9mcyIsCiAgICAgICAgICAgICAgICAgICAgIHJlZDoiY29mcyIsIGdyZWVuOiJjb2ZzIiwgYmx1ZToiY29mcyIsCiAgICAgICAgICAgICAgICAgICAgIGFscGhhOiJjb2ZzIiwgcmFkaWk6InJhZG9mcyIsCiAgICAgICAgICAgICAgICAgICAgIG54OiJub2ZzIiwgbnk6Im5vZnMiLCBuejoibm9mcyIsCiAgICAgICAgICAgICAgICAgICAgIG94OiJvb2ZzIiwgb3k6Im9vZnMiLCBvejoib29mcyIsCiAgICAgICAgICAgICAgICAgICAgIHRzOiJ0b2ZzIiwgdHQ6InRvZnMifSwKICAgICAgICAgIHBvcyAgICAgPSB7eDowLCB5OjEsIHo6MiwKICAgICAgICAgICAgICAgICAgICAgcmVkOjAsIGdyZWVuOjEsIGJsdWU6MiwKICAgICAgICAgICAgICAgICAgICAgYWxwaGE6MyxyYWRpaTowLAogICAgICAgICAgICAgICAgICAgICBueDowLCBueToxLCBuejoyLAogICAgICAgICAgICAgICAgICAgICBveDowLCBveToxLCBvejoyLAogICAgICAgICAgICAgICAgICAgICB0czowLCB0dDoxfSwKICAJICAgIHZhbHVlcyA9IGNvbnRyb2wudmFsdWVzLAoJCSAgICBkaXJlY3QgPSB2YWx1ZXMgPT09IG51bGwsCgkJICAgIG5jb2wsCiAgICAgICAgaW50ZXJwID0gY29udHJvbC5pbnRlcnAsCiAgICAgICAgdmVydGljZXMgPSBbXS5jb25jYXQoY29udHJvbC52ZXJ0aWNlcyksCiAgICAgICAgYXR0cmlidXRlcyA9IFtdLmNvbmNhdChjb250cm9sLmF0dHJpYnV0ZXMpLAogICAgICAgIHZhbHVlID0gY29udHJvbC52YWx1ZTsKCiAgICAgIG5jb2wgPSBNYXRoLm1heCh2ZXJ0aWNlcy5sZW5ndGgsIGF0dHJpYnV0ZXMubGVuZ3RoKTsKCiAgICAgIGlmICghbmNvbCkKICAgICAgICByZXR1cm47CgogICAgICB2ZXJ0aWNlcyA9IHRoaXMucmVwZWF0VG9MZW4odmVydGljZXMsIG5jb2wpOwogICAgICBhdHRyaWJ1dGVzID0gdGhpcy5yZXBlYXRUb0xlbihhdHRyaWJ1dGVzLCBuY29sKTsKCiAgICAgIGlmIChkaXJlY3QpCiAgICAgICAgaW50ZXJwID0gZmFsc2U7CgogICAgICAvKiBKU09OIGRvZXNuJ3QgcGFzcyBJbmZpbml0eSAqLwogICAgICBzdmFsc1swXSA9IC1JbmZpbml0eTsKICAgICAgc3ZhbHNbc3ZhbHMubGVuZ3RoIC0gMV0gPSBJbmZpbml0eTsKCiAgICAgIGZvciAoaiA9IDE7IGogPCBzdmFscy5sZW5ndGg7IGorKykgewogICAgICAgIGlmICh2YWx1ZSA8PSBzdmFsc1tqXSkgewogICAgICAgICAgaWYgKGludGVycCkgewogICAgICAgICAgICBpZiAoc3ZhbHNbal0gPT09IEluZmluaXR5KQogICAgICAgICAgICAgIHAgPSAxOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgcCA9IChzdmFsc1tqXSAtIHZhbHVlKS8oc3ZhbHNbal0gLSBzdmFsc1tqLTFdKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChzdmFsc1tqXSAtIHZhbHVlID4gdmFsdWUgLSBzdmFsc1tqLTFdKQogICAgICAgICAgICAgIGogPSBqIC0gMTsKICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgb2JqID0gdGhpcy5nZXRPYmooY29udHJvbC5vYmppZCk7CiAgICAgIHByb3B2YWxzID0gb2JqLnZhbHVlczsKICAgICAgZm9yIChrPTA7IGs8bmNvbDsgaysrKSB7CiAgICAgICAgYXR0cmliID0gYXR0cmlidXRlc1trXTsKICAgICAgICB2ZXJ0ZXggPSB2ZXJ0aWNlc1trXTsKICAgICAgICBvZnMgPSBvYmoudk9mZnNldHNbb2Zzc1thdHRyaWJdXTsKICAgICAgICBpZiAob2ZzIDwgMCkKICAgICAgICAgIHRoaXMuYWxlcnRPbmNlKCJBdHRyaWJ1dGUgJyIrYXR0cmliKyInIG5vdCBmb3VuZCBpbiBvYmplY3QgIitjb250cm9sLm9iamlkKTsKICAgICAgICBlbHNlIHsKICAgICAgICAgIHN0cmlkZSA9IG9iai52T2Zmc2V0cy5zdHJpZGU7CiAgICAgICAgICBvZnMgPSB2ZXJ0ZXgqc3RyaWRlICsgb2ZzICsgcG9zW2F0dHJpYl07CiAgICAgICAgICBpZiAoZGlyZWN0KSB7CiAgICAgICAgICAgIHByb3B2YWxzW29mc10gPSB2YWx1ZTsKICAgICAgICAgIH0gZWxzZSBpZiAoaW50ZXJwKSB7CiAgICAgICAgICAgIHByb3B2YWxzW29mc10gPSBwKnZhbHVlc1tqLTFdW2tdICsgKDEtcCkqdmFsdWVzW2pdW2tdOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcHJvcHZhbHNbb2ZzXSA9IHZhbHVlc1tqXVtrXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHR5cGVvZiBvYmouYnVmICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7CiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG9iai5idWYpOwogICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBwcm9wdmFscywgZ2wuU1RBVElDX0RSQVcpOwogICAgICB9CiAgICB9OwoKICAgIHRoaXMuYWdlU2V0dGVyID0gZnVuY3Rpb24oZWwsIGNvbnRyb2wpIHsKICAgICAgdmFyIG9iamlkcyA9IFtdLmNvbmNhdChjb250cm9sLm9iamlkcyksCiAgICAgICAgICBub2JqcyA9IG9iamlkcy5sZW5ndGgsCiAgICAgICAgICB0aW1lID0gY29udHJvbC52YWx1ZSwKICAgICAgICAgIGJpcnRocyA9IFtdLmNvbmNhdChjb250cm9sLmJpcnRocyksCiAgICAgICAgICBhZ2VzID0gW10uY29uY2F0KGNvbnRyb2wuYWdlcyksCiAgICAgICAgICBzdGVwcyA9IGJpcnRocy5sZW5ndGgsCiAgICAgICAgICBqID0gQXJyYXkoc3RlcHMpLAogICAgICAgICAgcCA9IEFycmF5KHN0ZXBzKSwKICAgICAgICAgIGksIGssIGFnZSwgajAsIHByb3B2YWxzLCBzdHJpZGUsIG9mcywgb2JqaWQsIG9iaiwKICAgICAgICAgIGF0dHJpYiwgZGltLAogICAgICAgICAgYXR0cmlicyA9IFsiY29sb3JzIiwgImFscGhhIiwgInJhZGlpIiwgInZlcnRpY2VzIiwKICAgICAgICAgICAgICAgICAgICAgIm5vcm1hbHMiLCAib3JpZ2lucyIsICJ0ZXhjb29yZHMiLAogICAgICAgICAgICAgICAgICAgICAieCIsICJ5IiwgInoiLAogICAgICAgICAgICAgICAgICAgICAicmVkIiwgImdyZWVuIiwgImJsdWUiXSwKICAgICAgICAgIG9mc3MgICAgPSBbImNvZnMiLCAiY29mcyIsICJyYWRvZnMiLCAidm9mcyIsCiAgICAgICAgICAgICAgICAgICAgICJub2ZzIiwgIm9vZnMiLCAidG9mcyIsCiAgICAgICAgICAgICAgICAgICAgICJ2b2ZzIiwgInZvZnMiLCAidm9mcyIsCiAgICAgICAgICAgICAgICAgICAgICJjb2ZzIiwgImNvZnMiLCAiY29mcyJdLAogICAgICAgICAgZGltcyAgICA9IFszLDEsMSwzLAogICAgICAgICAgICAgICAgICAgICAzLDIsMiwKICAgICAgICAgICAgICAgICAgICAgMSwxLDEsCiAgICAgICAgICAgICAgICAgICAgIDEsMSwxXSwKICAgICAgICAgIHBvcyAgICAgPSBbMCwzLDAsMCwKICAgICAgICAgICAgICAgICAgICAgMCwwLDAsCiAgICAgICAgICAgICAgICAgICAgIDAsMSwyLAogICAgICAgICAgICAgICAgICAgICAwLDEsMl07CiAgICAgIC8qIEluZmluaXR5IGRvZXNuJ3QgbWFrZSBpdCB0aHJvdWdoIEpTT04gKi8KICAgICAgYWdlc1swXSA9IC1JbmZpbml0eTsKICAgICAgYWdlc1thZ2VzLmxlbmd0aC0xXSA9IEluZmluaXR5OwogICAgICBmb3IgKGkgPSAwOyBpIDwgc3RlcHM7IGkrKykgewogICAgICAgIGlmIChiaXJ0aHNbaV0gIT09IG51bGwpIHsgIC8vIE5BIGluIFIgYmVjb21lcyBudWxsCiAgICAgICAgICBhZ2UgPSB0aW1lIC0gYmlydGhzW2ldOwogICAgICAgICAgZm9yIChqMCA9IDE7IGFnZSA+IGFnZXNbajBdOyBqMCsrKTsKICAgICAgICAgIGlmIChhZ2VzW2owXSA9PSBJbmZpbml0eSkKICAgICAgICAgICAgcFtpXSA9IDE7CiAgICAgICAgICBlbHNlIGlmIChhZ2VzW2owXSA+IGFnZXNbajAtMV0pCiAgICAgICAgICAgIHBbaV0gPSAoYWdlc1tqMF0gLSBhZ2UpLyhhZ2VzW2owXSAtIGFnZXNbajAtMV0pOwogICAgICAgICAgZWxzZQogICAgICAgICAgICBwW2ldID0gMDsKICAgICAgICAgIGpbaV0gPSBqMDsKICAgICAgICB9CiAgICAgIH0KICAgICAgZm9yIChsID0gMDsgbCA8IG5vYmpzOyBsKyspIHsKICAgICAgICBvYmppZCA9IG9iamlkc1tsXTsKICAgICAgICBvYmogPSB0aGlzLmdldE9iaihvYmppZCk7CiAgICAgICAgcHJvcHZhbHMgPSBvYmoudmFsdWVzOwogICAgICAgIHN0cmlkZSA9IG9iai52T2Zmc2V0cy5zdHJpZGU7CiAgICAgICAgZm9yIChrID0gMDsgayA8IGF0dHJpYnMubGVuZ3RoOyBrKyspIHsKICAgICAgICAgIGF0dHJpYiA9IGNvbnRyb2xbYXR0cmlic1trXV07CiAgICAgICAgICBpZiAodHlwZW9mIGF0dHJpYiAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgb2ZzID0gb2JqLnZPZmZzZXRzW29mc3Nba11dOwogICAgICAgICAgICBpZiAob2ZzID49IDApIHsKICAgICAgICAgICAgICBkaW0gPSBkaW1zW2tdOwogICAgICAgICAgICAgIG9mcyA9IG9mcyArIHBvc1trXTsKICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc3RlcHM7IGkrKykgewogICAgICAgICAgICAgICAgaWYgKGJpcnRoc1tpXSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICBmb3IgKGQ9MDsgZCA8IGRpbTsgZCsrKSB7CiAgICAgICAgICAgICAgICAgICAgcHJvcHZhbHNbaSpzdHJpZGUgKyBvZnMgKyBkXSA9IHBbaV0qYXR0cmliW2RpbSooaltpXS0xKSArIGRdICsgKDEtcFtpXSkqYXR0cmliW2RpbSpqW2ldICsgZF07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZQogICAgICAgICAgICAgIHRoaXMuYWxlcnRPbmNlKCJcJyIrYXR0cmlic1trXSsiXCcgcHJvcGVydHkgbm90IGZvdW5kIGluIG9iamVjdCAiK29iamlkKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgb2JqLnZhbHVlcyA9IHByb3B2YWxzOwogICAgICAgIGlmICh0eXBlb2Ygb2JqLmJ1ZiAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgIGdsID0gdGhpcy5nbDsKICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBvYmouYnVmKTsKICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBvYmoudmFsdWVzLCBnbC5TVEFUSUNfRFJBVyk7CiAgICAgICAgfQogICAgICB9CgkJfTsKCgkJdGhpcy5vbGRCcmlkZ2UgPSBmdW5jdGlvbihlbCwgY29udHJvbCkgewoJCSAgdmFyIGF0dHJuYW1lLCBnbG9iYWwgPSB3aW5kb3dbY29udHJvbC5wcmVmaXggKyAicmdsIl07CgkJICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIpCiAgICAgICAgZm9yIChhdHRybmFtZSBpbiBnbG9iYWwpCiAgICAgICAgICB0aGlzW2F0dHJuYW1lXSA9IGdsb2JhbFthdHRybmFtZV07CiAgICAgIHdpbmRvd1tjb250cm9sLnByZWZpeCArICJyZ2wiXSA9IHRoaXM7CgkJfTsKCgkJdGhpcy5QbGF5ZXIgPSBmdW5jdGlvbihlbCwgY29udHJvbCkgewoJCSAgdmFyCgkJICAgIHNlbGYgPSB0aGlzLAoJCSAgICBjb21wb25lbnRzID0gW10uY29uY2F0KGNvbnRyb2wuY29tcG9uZW50cyksCgoJCSAgICBUaWNrID0gZnVuY3Rpb24oKSB7IC8qICJ0aGlzIiB3aWxsIGJlIGEgdGltZXIgKi8KCQkgICAgICB2YXIgaSwKCQkgICAgICAgICAgbm9taW5hbCA9IHRoaXMudmFsdWUsCgkJICAgICAgICAgIHNsaWRlciA9IHRoaXMuU2xpZGVyLAoJCSAgICAgIAkgIGxhYmVscyA9IHRoaXMub3V0cHV0TGFiZWxzLAoJCSAgICAgICAgICBvdXRwdXQgPSB0aGlzLk91dHB1dCwKCQkgICAgICAgICAgc3RlcDsKCQkgICAgICBpZiAodHlwZW9mIHNsaWRlciAhPT0gInVuZGVmaW5lZCIgJiYgbm9taW5hbCAhPSBzbGlkZXIudmFsdWUpCgkJICAgICAgICBzbGlkZXIudmFsdWUgPSBub21pbmFsOwoJCSAgICAgIGlmICh0eXBlb2Ygb3V0cHV0ICE9PSAidW5kZWZpbmVkIikgewoJCSAgICAgICAgc3RlcCA9IE1hdGgucm91bmQoKG5vbWluYWwgLSBvdXRwdXQuc2xpZGVyTWluKS9vdXRwdXQuc2xpZGVyU3RlcCk7CgkJICAgICAgICBpZiAobGFiZWxzICE9PSBudWxsKSB7CgkJICAgICAgICAgIG91dHB1dC5pbm5lckhUTUwgPSBsYWJlbHNbc3RlcF07CgkJICAgICAgICB9IGVsc2UgewoJCSAgICAgICAgICBzdGVwID0gc3RlcCpvdXRwdXQuc2xpZGVyU3RlcCArIG91dHB1dC5zbGlkZXJNaW47CgkJICAgICAgICAgIG91dHB1dC5pbm5lckhUTUwgPSBzdGVwLnRvUHJlY2lzaW9uKG91dHB1dC5vdXRwdXRQcmVjaXNpb24pOwoJCSAgICAgICAgfQoJCSAgICAgIH0KCQkgICAgICBmb3IgKGk9MDsgaSA8IHRoaXMuYWN0aW9ucy5sZW5ndGg7IGkrKykgewoJCSAgICAgICAgdGhpcy5hY3Rpb25zW2ldLnZhbHVlID0gbm9taW5hbDsKCQkgICAgICB9CgkJICAgICAgc2VsZi5hcHBseUNvbnRyb2xzKGVsLCB0aGlzLmFjdGlvbnMsIGZhbHNlKTsKCQkgICAgICBzZWxmLmRyYXdTY2VuZSgpOwoJCSAgICB9LAoKICAgICAgICBPblNsaWRlcklucHV0ID0gZnVuY3Rpb24oKSB7IC8qICJ0aGlzIiB3aWxsIGJlIHRoZSBzbGlkZXIgKi8KICAgICAgICAgIHRoaXMucmdsdGltZXIudmFsdWUgPSBOdW1iZXIodGhpcy52YWx1ZSk7CgkJICAgICAgdGhpcy5yZ2x0aW1lci5UaWNrKCk7CiAgICAgICAgfSwKCgkJICAgIGFkZFNsaWRlciA9IGZ1bmN0aW9uKG1pbiwgbWF4LCBzdGVwLCB2YWx1ZSkgewoJCSAgICAgIHZhciBzbGlkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwoJCSAgICAgIHNsaWRlci50eXBlID0gInJhbmdlIjsKCQkgICAgICBzbGlkZXIubWluID0gbWluOwoJCSAgICAgIHNsaWRlci5tYXggPSBtYXg7CgkJICAgICAgc2xpZGVyLnN0ZXAgPSBzdGVwOwoJCSAgICAgIHNsaWRlci52YWx1ZSA9IHZhbHVlOwoJCSAgICAgIHNsaWRlci5vbmlucHV0ID0gT25TbGlkZXJJbnB1dDsKCQkgICAgICBzbGlkZXIuc2xpZGVyQWN0aW9ucyA9IGNvbnRyb2wuYWN0aW9uczsKCQkgICAgICBzbGlkZXIuc2xpZGVyU2NlbmUgPSB0aGlzOwoJCSAgICAgIHNsaWRlci5jbGFzc05hbWUgPSAicmdsLXNsaWRlciI7CgkJICAgICAgc2xpZGVyLmlkID0gZWwuaWQgKyAiLXNsaWRlciI7CgkJICAgICAgZWwucmdsdGltZXIuU2xpZGVyID0gc2xpZGVyOwoJCSAgICAgIHNsaWRlci5yZ2x0aW1lciA9IGVsLnJnbHRpbWVyOwoJCSAgICAgIGVsLmFwcGVuZENoaWxkKHNsaWRlcik7CgkJICAgIH0sCgoJCSAgICBhZGRMYWJlbCA9IGZ1bmN0aW9uKGxhYmVscywgbWluLCBzdGVwLCBwcmVjaXNpb24pIHsKCQkgICAgICB2YXIgb3V0cHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3V0cHV0Iik7CgkJICAgICAgb3V0cHV0LnNsaWRlck1pbiA9IG1pbjsKCQkgICAgICBvdXRwdXQuc2xpZGVyU3RlcCA9IHN0ZXA7CgkJICAgICAgb3V0cHV0Lm91dHB1dFByZWNpc2lvbiA9IHByZWNpc2lvbjsKCQkgICAgICBvdXRwdXQuY2xhc3NOYW1lID0gInJnbC1sYWJlbCI7CgkJICAgICAgb3V0cHV0LmlkID0gZWwuaWQgKyAiLWxhYmVsIjsKCQkgICAgICBlbC5yZ2x0aW1lci5PdXRwdXQgPSBvdXRwdXQ7CgkJICAgICAgZWwucmdsdGltZXIub3V0cHV0TGFiZWxzID0gbGFiZWxzOwoJCSAgICAgIGVsLmFwcGVuZENoaWxkKG91dHB1dCk7CgkJICAgIH0sCgoJCSAgICBhZGRCdXR0b24gPSBmdW5jdGlvbihsYWJlbCkgewoJCSAgICAgIHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLAoJCSAgICAgIAkJb25jbGlja3MgPSB7UmV2ZXJzZTogZnVuY3Rpb24oKSB7IHRoaXMucmdsdGltZXIucmV2ZXJzZSgpO30sCgkgCSAgICAgICAgICAgICAgIFBsYXk6IGZ1bmN0aW9uKCkgeyB0aGlzLnJnbHRpbWVyLnBsYXkoKTsKCSAJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnJnbHRpbWVyLmVuYWJsZWQgPyAiUGF1c2UiIDogIlBsYXkiOyB9LAoJCSAgICAgICAgICAgICAgIFNsb3dlcjogZnVuY3Rpb24oKSB7IHRoaXMucmdsdGltZXIuc2xvd2VyKCk7IH0sCgkJICAgICAgICAgICAgICAgRmFzdGVyOiBmdW5jdGlvbigpIHsgdGhpcy5yZ2x0aW1lci5mYXN0ZXIoKTsgfSwKCQkgICAgICAgICAgICAgICBSZXNldDogZnVuY3Rpb24oKSB7IHRoaXMucmdsdGltZXIucmVzZXQoKTsgfX07CgkJICAgICAgYnV0dG9uLnJnbHRpbWVyID0gZWwucmdsdGltZXI7CgkJICAgICAgYnV0dG9uLnR5cGUgPSAiYnV0dG9uIjsKCQkgICAgICBidXR0b24udmFsdWUgPSBsYWJlbDsKCQkgICAgICBpZiAobGFiZWwgPT09ICJQbGF5IikKCQkgICAgICAgIGJ1dHRvbi5yZ2x0aW1lci5QbGF5QnV0dG9uID0gYnV0dG9uOwoJCSAgICAgIGJ1dHRvbi5vbmNsaWNrID0gb25jbGlja3NbbGFiZWxdOwoJCSAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSAicmdsLWJ1dHRvbiI7CgkJICAgICAgYnV0dG9uLmlkID0gZWwuaWQgKyAiLSIgKyBsYWJlbDsKICAgICAgICAgIGVsLmFwcGVuZENoaWxkKGJ1dHRvbik7CgkJICAgIH07CgogICAgICAgIGlmICh0eXBlb2YgY29udHJvbC5yZWluaXQgIT09ICJudWxsIikgewogICAgICAgICAgY29udHJvbC5hY3Rpb25zLnJlaW5pdCA9IGNvbnRyb2wucmVpbml0OwogICAgICAgIH0KCQkgICAgZWwucmdsdGltZXIgPSBuZXcgcmdsdGltZXJDbGFzcyhUaWNrLCBjb250cm9sLnN0YXJ0LCBjb250cm9sLmludGVydmFsLCBjb250cm9sLnN0b3AsIGNvbnRyb2wudmFsdWUsIGNvbnRyb2wucmF0ZSwgY29udHJvbC5sb29wLCBjb250cm9sLmFjdGlvbnMpOwogICAgICAgIGZvciAodmFyIGk9MDsgaSA8IGNvbXBvbmVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHN3aXRjaChjb21wb25lbnRzW2ldKSB7CiAgICAgICAgICAgIGNhc2UgIlNsaWRlciI6IGFkZFNsaWRlcihjb250cm9sLnN0YXJ0LCBjb250cm9sLnN0b3AsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbC5zdGVwLCBjb250cm9sLnZhbHVlKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAiTGFiZWwiOiBhZGRMYWJlbChjb250cm9sLmxhYmVscywgY29udHJvbC5zdGFydCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sLnN0ZXAsIGNvbnRyb2wucHJlY2lzaW9uKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICBhZGRCdXR0b24oY29tcG9uZW50c1tpXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsLnJnbHRpbWVyLlRpY2soKTsKCQl9OwoKCQl0aGlzLmFwcGx5Q29udHJvbHMgPSBmdW5jdGlvbihlbCwgeCwgZHJhdykgewoJCSAgdmFyIHNlbGYgPSB0aGlzLCByZWluaXQgPSB4LnJlaW5pdCwgaSwgb2JqLCBjb250cm9sLCB0eXBlOwoJCSAgZm9yIChpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHsKCQkgICAgY29udHJvbCA9IHhbaV07CgkJICAgIHR5cGUgPSBjb250cm9sLnR5cGU7CgkJICAgIHNlbGZbdHlwZV0oZWwsIGNvbnRyb2wpOwoJCSAgfTsKCQkgIGlmICh0eXBlb2YgcmVpbml0ICE9PSAidW5kZWZpbmVkIiAmJiByZWluaXQgIT09IG51bGwpIHsKCQkgICAgcmVpbml0ID0gW10uY29uY2F0KHJlaW5pdCk7CgkJICAgIGZvciAoaSA9IDA7IGkgPCByZWluaXQubGVuZ3RoOyBpKyspCgkJICAgICAgc2VsZi5nZXRPYmoocmVpbml0W2ldKS5pbml0aWFsaXplZCA9IGZhbHNlOwoJCSAgfQoJCSAgaWYgKHR5cGVvZiBkcmF3ID09PSAidW5kZWZpbmVkIiB8fCBkcmF3KQoJCSAgICBzZWxmLmRyYXdTY2VuZSgpOwoJCX07CgoJCXRoaXMuc2NlbmVDaGFuZ2VIYW5kbGVyID0gZnVuY3Rpb24obWVzc2FnZSkgewoJCSAgdmFyIHNlbGYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZXNzYWdlLmVsZW1lbnRJZCkucmdsaW5zdGFuY2UsCgkJICAgICAgb2JqcyA9IG1lc3NhZ2Uub2JqZWN0cywgbWF0ID0gbWVzc2FnZS5tYXRlcmlhbCwKCQkgICAgICByb290ID0gbWVzc2FnZS5yb290U3Vic2NlbmUsCgkJICAgICAgaW5pdFN1YnMgPSBtZXNzYWdlLmluaXRTdWJzY2VuZXMsCgkJICAgICAgcmVkcmF3ID0gbWVzc2FnZS5yZWRyYXdTY2VuZSwKCQkgICAgICBza2lwUmVkcmF3ID0gbWVzc2FnZS5za2lwUmVkcmF3LAoJCSAgICAgIGRlbGV0ZXMsIHN1YnMsIGFsbHN1YnMgPSBbXSwgb2JqLCBpLGo7CgkJICBpZiAodHlwZW9mIG1lc3NhZ2UuZGVsZXRlICE9PSAidW5kZWZpbmVkIikgewoJCSAgICBkZWxldGVzID0gW10uY29uY2F0KG1lc3NhZ2UuZGVsZXRlKTsKCQkgICAgaWYgKHR5cGVvZiBtZXNzYWdlLmRlbGZyb21TdWJzY2VuZXMgIT09ICJ1bmRlZmluZWQiKQoJCSAgICAgIHN1YnMgPSBbXS5jb25jYXQobWVzc2FnZS5kZWxmcm9tU3Vic2NlbmVzKTsKCQkgICAgZWxzZQoJCSAgICAgIHN1YnMgPSBbXTsKCQkgICAgZm9yIChpID0gMDsgaSA8IGRlbGV0ZXMubGVuZ3RoOyBpKyspIHsKCQkgICAgICBmb3IgKGogPSAwOyBqIDwgc3Vicy5sZW5ndGg7IGorKykgewoJCSAgICAgICAgc2VsZi5kZWxGcm9tU3Vic2NlbmUoZGVsZXRlc1tpXSwgc3Vic1tqXSk7CgkJICAgICAgfQoJCSAgICAgIGRlbGV0ZSBzZWxmLnNjZW5lLm9iamVjdHNbZGVsZXRlc1tpXV07CgkJICAgIH0KCQkgIH0KCQkgIGlmICh0eXBlb2Ygb2JqcyAhPT0gInVuZGVmaW5lZCIpIHsKCQkgICAgT2JqZWN0LmtleXMob2JqcykuZm9yRWFjaChmdW5jdGlvbihrZXkpewoJCSAgICAgIGtleSA9IHBhcnNlSW50KGtleSwgMTApOwoJCSAgICAgIHNlbGYuc2NlbmUub2JqZWN0c1trZXldID0gb2Jqc1trZXldOwoJCSAgICAgIHNlbGYuaW5pdE9iaihrZXkpOwoJCSAgICAgIHZhciBvYmogPSBzZWxmLmdldE9iaihrZXkpLAoJCSAgICAgICAgICBzdWJzID0gW10uY29uY2F0KG9iai5pblN1YnNjZW5lcyksIGs7CgkJICAgICAgYWxsc3VicyA9IGFsbHN1YnMuY29uY2F0KHN1YnMpOwoJCSAgICAgIGZvciAoayA9IDA7IGsgPCBzdWJzLmxlbmd0aDsgaysrKQoJCSAgICAgICAgc2VsZi5hZGRUb1N1YnNjZW5lKGtleSwgc3Vic1trXSk7CgkJICAgIH0pOwoJCSAgfQoJCSAgaWYgKHR5cGVvZiBtYXQgIT09ICJ1bmRlZmluZWQiKSB7CgkJICAgIHNlbGYuc2NlbmUubWF0ZXJpYWwgPSBtYXQ7CgkJICB9CgkJICBpZiAodHlwZW9mIHJvb3QgIT09ICJ1bmRlZmluZWQiKSB7CgkJICAgIHNlbGYuc2NlbmUucm9vdFN1YnNjZW5lID0gcm9vdDsKCQkgIH0KCQkgIGlmICh0eXBlb2YgaW5pdFN1YnMgIT09ICJ1bmRlZmluZWQiKQoJCSAgICBhbGxzdWJzID0gYWxsc3Vicy5jb25jYXQoaW5pdFN1YnMpOwoJCSAgYWxsc3VicyA9IHNlbGYudW5pcXVlKGFsbHN1YnMpOwoJCSAgZm9yIChpID0gMDsgaSA8IGFsbHN1YnMubGVuZ3RoOyBpKyspIHsKCQkgICAgc2VsZi5pbml0U3Vic2NlbmUoYWxsc3Vic1tpXSk7CgkJICB9CgkJICBpZiAodHlwZW9mIHNraXBSZWRyYXcgIT09ICJ1bmRlZmluZWQiKSB7CgkJICAgIHJvb3QgPSBzZWxmLmdldE9iaihzZWxmLnNjZW5lLnJvb3RTdWJzY2VuZSk7CgkJICAgIHJvb3QucGFyM2Quc2tpcFJlZHJhdyA9IHNraXBSZWRyYXc7CgkJICB9CgkJICBpZiAocmVkcmF3KQoJICAgICAgc2VsZi5kcmF3U2NlbmUoKTsKCQl9Owp9KS5jYWxsKHJnbHdpZGdldENsYXNzLnByb3RvdHlwZSk7CgpyZ2x0aW1lckNsYXNzID0gZnVuY3Rpb24oVGljaywgc3RhcnRUaW1lLCBpbnRlcnZhbCwgc3RvcFRpbWUsIHZhbHVlLCByYXRlLCBsb29wLCBhY3Rpb25zKSB7CiAgdGhpcy5lbmFibGVkID0gZmFsc2U7CiAgdGhpcy50aW1lcklkID0gMDsKICB0aGlzLnN0YXJ0VGltZSA9IHN0YXJ0VGltZTsgICAgICAgICAvKiBub21pbmFsIHN0YXJ0IHRpbWUgaW4gc2Vjb25kcyAqLwogIHRoaXMudmFsdWUgPSB2YWx1ZTsgICAgICAgICAgICAgICAgIC8qIGN1cnJlbnQgbm9taW5hbCB0aW1lICovCiAgdGhpcy5pbnRlcnZhbCA9IGludGVydmFsOyAgICAgICAgICAgLyogc2Vjb25kcyBiZXR3ZWVuIHVwZGF0ZXMgKi8KICB0aGlzLnN0b3BUaW1lID0gc3RvcFRpbWU7ICAgICAgICAgICAvKiBub21pbmFsIHN0b3AgdGltZSAqLwogIHRoaXMucmF0ZSA9IHJhdGU7ICAgICAgICAgICAgICAgICAgIC8qIG5vbWluYWwgdW5pdHMgcGVyIHNlY29uZCAqLwogIHRoaXMubG9vcCA9IGxvb3A7ICAgICAgICAgICAgICAgICAgIC8qICJub25lIiwgImN5Y2xlIiwgb3IgIm9zY2lsbGF0ZSIgKi8KICB0aGlzLnJlYWxTdGFydCA9IHVuZGVmaW5lZDsgICAgICAgICAvKiByZWFsIHdvcmxkIHN0YXJ0IHRpbWUgKi8KICB0aGlzLm11bHRpcGxpZXIgPSAxOyAgICAgICAgICAgICAgICAvKiBtdWx0aXBsaWVyIGZvciBmYXN0LWZvcndhcmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciByZXZlcnNlICovCiAgdGhpcy5hY3Rpb25zID0gYWN0aW9uczsKICB0aGlzLlRpY2sgPSBUaWNrOwp9OwoKKGZ1bmN0aW9uKCkgewoKICB0aGlzLnBsYXkgPSBmdW5jdGlvbigpIHsKICAgIGlmICh0aGlzLmVuYWJsZWQpIHsKICAgICAgdGhpcy5lbmFibGVkID0gZmFsc2U7CiAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMudGltZXJJZCk7CiAgICAgIHRoaXMudGltZXJJZCA9IDA7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHZhciB0aWNrID0gZnVuY3Rpb24oc2VsZikgewogICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTsKICAgICAgc2VsZi52YWx1ZSA9IHNlbGYubXVsdGlwbGllcipzZWxmLnJhdGUqKG5vdyAtIHNlbGYucmVhbFN0YXJ0KS8xMDAwICsgc2VsZi5zdGFydFRpbWU7CiAgICAgIGlmIChzZWxmLnZhbHVlID4gc2VsZi5zdG9wVGltZSB8fCBzZWxmLnZhbHVlIDwgc2VsZi5zdGFydFRpbWUpIHsKICAgICAgICBpZiAoIXNlbGYubG9vcCkgewogICAgICAgICAgc2VsZi5yZXNldCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgY3ljbGUgPSBzZWxmLnN0b3BUaW1lIC0gc2VsZi5zdGFydFRpbWUsCiAgICAgICAgICAgICAgbmV3dmFsID0gKHNlbGYudmFsdWUgLSBzZWxmLnN0YXJ0VGltZSkgJSBjeWNsZSArIHNlbGYuc3RhcnRUaW1lOwogICAgICAgICAgaWYgKG5ld3ZhbCA8IHNlbGYuc3RhcnRUaW1lKSB7CiAgICAgICAgICAgIG5ld3ZhbCArPSBjeWNsZTsKICAgICAgICAgIH0KICAgICAgICAgIHNlbGYucmVhbFN0YXJ0ICs9IChzZWxmLnZhbHVlIC0gbmV3dmFsKSoxMDAwL3NlbGYubXVsdGlwbGllci9zZWxmLnJhdGU7CiAgICAgICAgICBzZWxmLnZhbHVlID0gbmV3dmFsOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodHlwZW9mIHNlbGYuVGljayAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICBzZWxmLlRpY2soc2VsZi52YWx1ZSk7CiAgICAgIH0KCiAgICB9OwogICAgdGhpcy5yZWFsU3RhcnQgPSBuZXcgRGF0ZSgpIC0gMTAwMCoodGhpcy52YWx1ZSAtIHRoaXMuc3RhcnRUaW1lKS90aGlzLnJhdGUvdGhpcy5tdWx0aXBsaWVyOwogICAgdGhpcy50aW1lcklkID0gd2luZG93LnNldEludGVydmFsKHRpY2ssIDEwMDAqdGhpcy5pbnRlcnZhbCwgdGhpcyk7CiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlOwogIH07CgogIHRoaXMucmVzZXQgPSBmdW5jdGlvbigpIHsKICAgIHRoaXMudmFsdWUgPSB0aGlzLnN0YXJ0VGltZTsKICAgIHRoaXMubmV3bXVsdGlwbGllcigxKTsKICAgIGlmICh0eXBlb2YgdGhpcy5UaWNrICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIHRoaXMuVGljayh0aGlzLnZhbHVlKTsKICAgIH0KICAgIGlmICh0aGlzLmVuYWJsZWQpCiAgICAgIHRoaXMucGxheSgpOyAgLyogcmVhbGx5IHBhdXNlLi4uICovCiAgICBpZiAodHlwZW9mIHRoaXMuUGxheUJ1dHRvbiAhPT0gInVuZGVmaW5lZCIpCiAgICAgIHRoaXMuUGxheUJ1dHRvbi52YWx1ZSA9ICJQbGF5IjsKICB9OwoKICB0aGlzLmZhc3RlciA9IGZ1bmN0aW9uKCkgewogICAgdGhpcy5uZXdtdWx0aXBsaWVyKE1hdGguU1FSVDIqdGhpcy5tdWx0aXBsaWVyKTsKICB9OwoKICB0aGlzLnNsb3dlciA9IGZ1bmN0aW9uKCkgewogICAgdGhpcy5uZXdtdWx0aXBsaWVyKHRoaXMubXVsdGlwbGllci9NYXRoLlNRUlQyKTsKICB9OwoKICB0aGlzLnJldmVyc2UgPSBmdW5jdGlvbigpIHsKICAgIHRoaXMubmV3bXVsdGlwbGllcigtdGhpcy5tdWx0aXBsaWVyKTsKICB9OwoKICB0aGlzLm5ld211bHRpcGxpZXIgPSBmdW5jdGlvbihuZXdtdWx0KSB7CiAgICBpZiAobmV3bXVsdCAhPSB0aGlzLm11bHRpcGxpZXIpIHsKICAgICAgdGhpcy5yZWFsU3RhcnQgKz0gMTAwMCoodGhpcy52YWx1ZSAtIHRoaXMuc3RhcnRUaW1lKS90aGlzLnJhdGUqKDEvdGhpcy5tdWx0aXBsaWVyIC0gMS9uZXdtdWx0KTsKICAgICAgdGhpcy5tdWx0aXBsaWVyID0gbmV3bXVsdDsKICAgIH0KICB9OwoKfSkuY2FsbChyZ2x0aW1lckNsYXNzLnByb3RvdHlwZSk7Cg=="></script>
<script src="data:application/x-javascript;base64,LyoKICogQ29weXJpZ2h0IChDKSAyMDA5IEFwcGxlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC4KICoKICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0CiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucwogKiBhcmUgbWV0OgogKiAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodAogKiAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuCiAqIDIuIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0CiAqICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUKICogICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi4KICoKICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBBUFBMRSBJTkMuIGBgQVMgSVMnJyBBTkQgQU5ZCiAqIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFCiAqIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUgogKiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiAgSU4gTk8gRVZFTlQgU0hBTEwgQVBQTEUgSU5DLiBPUgogKiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwKICogRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLAogKiBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IKICogUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWQogKiBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQKICogKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFCiAqIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuIAogKi8KLyoKICAgIENhbnZhc01hdHJpeDQgY2xhc3MKICAgIAogICAgVGhpcyBjbGFzcyBpbXBsZW1lbnRzIGEgNHg0IG1hdHJpeC4gSXQgaGFzIGZ1bmN0aW9ucyB3aGljaAogICAgZHVwbGljYXRlIHRoZSBmdW5jdGlvbmFsaXR5IG9mIHRoZSBPcGVuR0wgbWF0cml4IHN0YWNrIGFuZAogICAgZ2x1dCBmdW5jdGlvbnMuCiAgICAKICAgIElETDoKICAgIAogICAgWwogICAgICAgIENvbnN0cnVjdG9yKGluIENhbnZhc01hdHJpeDQgbWF0cml4KSwgICAgICAgICAgIC8vIGNvcHkgcGFzc2VkIG1hdHJpeCBpbnRvIG5ldyBDYW52YXNNYXRyaXg0CiAgICAgICAgQ29uc3RydWN0b3IoaW4gc2VxdWVuY2U8ZmxvYXQ+IGFycmF5KSAgICAgICAgICAgLy8gY3JlYXRlIG5ldyBDYW52YXNNYXRyaXg0IHdpdGggMTYgZmxvYXRzIChyb3cgbWFqb3IpCiAgICAgICAgQ29uc3RydWN0b3IoKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIG5ldyBDYW52YXNNYXRyaXg0IHdpdGggaWRlbnRpdHkgbWF0cml4CiAgICBdCiAgICBpbnRlcmZhY2UgQ2FudmFzTWF0cml4NCB7CiAgICAgICAgYXR0cmlidXRlIGZsb2F0IG0xMTsKICAgICAgICBhdHRyaWJ1dGUgZmxvYXQgbTEyOwogICAgICAgIGF0dHJpYnV0ZSBmbG9hdCBtMTM7CiAgICAgICAgYXR0cmlidXRlIGZsb2F0IG0xNDsKICAgICAgICBhdHRyaWJ1dGUgZmxvYXQgbTIxOwogICAgICAgIGF0dHJpYnV0ZSBmbG9hdCBtMjI7CiAgICAgICAgYXR0cmlidXRlIGZsb2F0IG0yMzsKICAgICAgICBhdHRyaWJ1dGUgZmxvYXQgbTI0OwogICAgICAgIGF0dHJpYnV0ZSBmbG9hdCBtMzE7CiAgICAgICAgYXR0cmlidXRlIGZsb2F0IG0zMjsKICAgICAgICBhdHRyaWJ1dGUgZmxvYXQgbTMzOwogICAgICAgIGF0dHJpYnV0ZSBmbG9hdCBtMzQ7CiAgICAgICAgYXR0cmlidXRlIGZsb2F0IG00MTsKICAgICAgICBhdHRyaWJ1dGUgZmxvYXQgbTQyOwogICAgICAgIGF0dHJpYnV0ZSBmbG9hdCBtNDM7CiAgICAgICAgYXR0cmlidXRlIGZsb2F0IG00NDsKCiAgICAgICAgdm9pZCBsb2FkKGluIENhbnZhc01hdHJpeDQgbWF0cml4KTsgICAgICAgICAgICAgICAgIC8vIGNvcHkgdGhlIHZhbHVlcyBmcm9tIHRoZSBwYXNzZWQgbWF0cml4CiAgICAgICAgdm9pZCBsb2FkKGluIHNlcXVlbmNlPGZsb2F0PiBhcnJheSk7ICAgICAgICAgICAgICAgIC8vIGNvcHkgMTYgZmxvYXRzIGludG8gdGhlIG1hdHJpeAogICAgICAgIHNlcXVlbmNlPGZsb2F0PiBnZXRBc0FycmF5KCk7ICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gdGhlIG1hdHJpeCBhcyBhbiBhcnJheSBvZiAxNiBmbG9hdHMKICAgICAgICBXZWJHTEZsb2F0QXJyYXkgZ2V0QXNDYW52YXNGbG9hdEFycmF5KCk7ICAgICAgICAgICAvLyByZXR1cm4gdGhlIG1hdHJpeCBhcyBhIFdlYkdMRmxvYXRBcnJheSB3aXRoIDE2IHZhbHVlcwogICAgICAgIHZvaWQgbWFrZUlkZW50aXR5KCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXBsYWNlIHRoZSBtYXRyaXggd2l0aCBpZGVudGl0eQogICAgICAgIHZvaWQgdHJhbnNwb3NlKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXBsYWNlIHRoZSBtYXRyaXggd2l0aCBpdHMgdHJhbnNwb3NlCiAgICAgICAgdm9pZCBpbnZlcnQoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlcGxhY2UgdGhlIG1hdHJpeCB3aXRoIGl0cyBpbnZlcnNlCiAgICAgICAgCiAgICAgICAgdm9pZCB0cmFuc2xhdGUoaW4gZmxvYXQgeCwgaW4gZmxvYXQgeSwgaW4gZmxvYXQgeik7IC8vIG11bHRpcGx5IHRoZSBtYXRyaXggYnkgcGFzc2VkIHRyYW5zbGF0aW9uIHZhbHVlcyBvbiB0aGUgcmlnaHQKICAgICAgICB2b2lkIHNjYWxlKGluIGZsb2F0IHgsIGluIGZsb2F0IHksIGluIGZsb2F0IHopOyAgICAgLy8gbXVsdGlwbHkgdGhlIG1hdHJpeCBieSBwYXNzZWQgc2NhbGUgdmFsdWVzIG9uIHRoZSByaWdodAogICAgICAgIHZvaWQgcm90YXRlKGluIGZsb2F0IGFuZ2xlLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtdWx0aXBseSB0aGUgbWF0cml4IGJ5IHBhc3NlZCByb3RhdGlvbiB2YWx1ZXMgb24gdGhlIHJpZ2h0CiAgICAgICAgICAgICAgICAgICAgaW4gZmxvYXQgeCwgaW4gZmxvYXQgeSwgaW4gZmxvYXQgeik7ICAgIC8vIChhbmdsZSBpcyBpbiBkZWdyZWVzKQogICAgICAgIHZvaWQgbXVsdFJpZ2h0KGluIENhbnZhc01hdHJpeCBtYXRyaXgpOyAgICAgICAgICAgICAvLyBtdWx0aXBseSB0aGUgbWF0cml4IGJ5IHRoZSBwYXNzZWQgbWF0cml4IG9uIHRoZSByaWdodAogICAgICAgIHZvaWQgbXVsdExlZnQoaW4gQ2FudmFzTWF0cml4IG1hdHJpeCk7ICAgICAgICAgICAgICAvLyBtdWx0aXBseSB0aGUgbWF0cml4IGJ5IHRoZSBwYXNzZWQgbWF0cml4IG9uIHRoZSBsZWZ0CiAgICAgICAgdm9pZCBvcnRobyhpbiBmbG9hdCBsZWZ0LCBpbiBmbG9hdCByaWdodCwgICAgICAgICAgIC8vIG11bHRpcGx5IHRoZSBtYXRyaXggYnkgdGhlIHBhc3NlZCBvcnRobyB2YWx1ZXMgb24gdGhlIHJpZ2h0CiAgICAgICAgICAgICAgICAgICBpbiBmbG9hdCBib3R0b20sIGluIGZsb2F0IHRvcCwgCiAgICAgICAgICAgICAgICAgICBpbiBmbG9hdCBuZWFyLCBpbiBmbG9hdCBmYXIpOwogICAgICAgIHZvaWQgZnJ1c3R1bShpbiBmbG9hdCBsZWZ0LCBpbiBmbG9hdCByaWdodCwgICAgICAgICAvLyBtdWx0aXBseSB0aGUgbWF0cml4IGJ5IHRoZSBwYXNzZWQgZnJ1c3R1bSB2YWx1ZXMgb24gdGhlIHJpZ2h0CiAgICAgICAgICAgICAgICAgICAgIGluIGZsb2F0IGJvdHRvbSwgaW4gZmxvYXQgdG9wLCAKICAgICAgICAgICAgICAgICAgICAgaW4gZmxvYXQgbmVhciwgaW4gZmxvYXQgZmFyKTsKICAgICAgICB2b2lkIHBlcnNwZWN0aXZlKGluIGZsb2F0IGZvdnksIGluIGZsb2F0IGFzcGVjdCwgICAgLy8gbXVsdGlwbHkgdGhlIG1hdHJpeCBieSB0aGUgcGFzc2VkIHBlcnNwZWN0aXZlIHZhbHVlcyBvbiB0aGUgcmlnaHQKICAgICAgICAgICAgICAgICAgICAgICAgIGluIGZsb2F0IHpOZWFyLCBpbiBmbG9hdCB6RmFyKTsKICAgICAgICB2b2lkIGxvb2thdChpbiBmbG9hdCBleWV4LCBpbiBmbG9hdCBleWV5LCBpbiBmbG9hdCBleWV6LCAgICAvLyBtdWx0aXBseSB0aGUgbWF0cml4IGJ5IHRoZSBwYXNzZWQgbG9va2F0IAogICAgICAgICAgICAgICAgICAgIGluIGZsb2F0IGN0cngsIGluIGZsb2F0IGN0cnksIGluIGZsb2F0IGN0cnosICAgIC8vIHZhbHVlcyBvbiB0aGUgcmlnaHQKICAgICAgICAgICAgICAgICAgICBpbiBmbG9hdCB1cHgsIGluIGZsb2F0IHVweSwgaW4gZmxvYXQgdXB6KTsKICAgIH0KKi8KCkNhbnZhc01hdHJpeDQgPSBmdW5jdGlvbihtKQp7CiAgICBpZiAodHlwZW9mIG0gPT0gJ29iamVjdCcpIHsKICAgICAgICBpZiAoImxlbmd0aCIgaW4gbSAmJiBtLmxlbmd0aCA+PSAxNikgewogICAgICAgICAgICB0aGlzLmxvYWQobVswXSwgbVsxXSwgbVsyXSwgbVszXSwgbVs0XSwgbVs1XSwgbVs2XSwgbVs3XSwgbVs4XSwgbVs5XSwgbVsxMF0sIG1bMTFdLCBtWzEyXSwgbVsxM10sIG1bMTRdLCBtWzE1XSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAobSBpbnN0YW5jZW9mIENhbnZhc01hdHJpeDQpIHsKICAgICAgICAgICAgdGhpcy5sb2FkKG0pOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQogICAgdGhpcy5tYWtlSWRlbnRpdHkoKTsKfQoKQ2FudmFzTWF0cml4NC5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uKCkKewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSAmJiB0eXBlb2YgYXJndW1lbnRzWzBdID09ICdvYmplY3QnKSB7CiAgICAgICAgdmFyIG1hdHJpeCA9IGFyZ3VtZW50c1swXTsKICAgICAgICAKICAgICAgICBpZiAoImxlbmd0aCIgaW4gbWF0cml4ICYmIG1hdHJpeC5sZW5ndGggPT0gMTYpIHsKICAgICAgICAgICAgdGhpcy5tMTEgPSBtYXRyaXhbMF07CiAgICAgICAgICAgIHRoaXMubTEyID0gbWF0cml4WzFdOwogICAgICAgICAgICB0aGlzLm0xMyA9IG1hdHJpeFsyXTsKICAgICAgICAgICAgdGhpcy5tMTQgPSBtYXRyaXhbM107CgogICAgICAgICAgICB0aGlzLm0yMSA9IG1hdHJpeFs0XTsKICAgICAgICAgICAgdGhpcy5tMjIgPSBtYXRyaXhbNV07CiAgICAgICAgICAgIHRoaXMubTIzID0gbWF0cml4WzZdOwogICAgICAgICAgICB0aGlzLm0yNCA9IG1hdHJpeFs3XTsKCiAgICAgICAgICAgIHRoaXMubTMxID0gbWF0cml4WzhdOwogICAgICAgICAgICB0aGlzLm0zMiA9IG1hdHJpeFs5XTsKICAgICAgICAgICAgdGhpcy5tMzMgPSBtYXRyaXhbMTBdOwogICAgICAgICAgICB0aGlzLm0zNCA9IG1hdHJpeFsxMV07CgogICAgICAgICAgICB0aGlzLm00MSA9IG1hdHJpeFsxMl07CiAgICAgICAgICAgIHRoaXMubTQyID0gbWF0cml4WzEzXTsKICAgICAgICAgICAgdGhpcy5tNDMgPSBtYXRyaXhbMTRdOwogICAgICAgICAgICB0aGlzLm00NCA9IG1hdHJpeFsxNV07CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgIGlmIChhcmd1bWVudHNbMF0gaW5zdGFuY2VvZiBDYW52YXNNYXRyaXg0KSB7CiAgICAgICAgCiAgICAgICAgICAgIHRoaXMubTExID0gbWF0cml4Lm0xMTsKICAgICAgICAgICAgdGhpcy5tMTIgPSBtYXRyaXgubTEyOwogICAgICAgICAgICB0aGlzLm0xMyA9IG1hdHJpeC5tMTM7CiAgICAgICAgICAgIHRoaXMubTE0ID0gbWF0cml4Lm0xNDsKCiAgICAgICAgICAgIHRoaXMubTIxID0gbWF0cml4Lm0yMTsKICAgICAgICAgICAgdGhpcy5tMjIgPSBtYXRyaXgubTIyOwogICAgICAgICAgICB0aGlzLm0yMyA9IG1hdHJpeC5tMjM7CiAgICAgICAgICAgIHRoaXMubTI0ID0gbWF0cml4Lm0yNDsKCiAgICAgICAgICAgIHRoaXMubTMxID0gbWF0cml4Lm0zMTsKICAgICAgICAgICAgdGhpcy5tMzIgPSBtYXRyaXgubTMyOwogICAgICAgICAgICB0aGlzLm0zMyA9IG1hdHJpeC5tMzM7CiAgICAgICAgICAgIHRoaXMubTM0ID0gbWF0cml4Lm0zNDsKCiAgICAgICAgICAgIHRoaXMubTQxID0gbWF0cml4Lm00MTsKICAgICAgICAgICAgdGhpcy5tNDIgPSBtYXRyaXgubTQyOwogICAgICAgICAgICB0aGlzLm00MyA9IG1hdHJpeC5tNDM7CiAgICAgICAgICAgIHRoaXMubTQ0ID0gbWF0cml4Lm00NDsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KICAgIAogICAgdGhpcy5tYWtlSWRlbnRpdHkoKTsKfQoKQ2FudmFzTWF0cml4NC5wcm90b3R5cGUuZ2V0QXNBcnJheSA9IGZ1bmN0aW9uKCkKewogICAgcmV0dXJuIFsKICAgICAgICB0aGlzLm0xMSwgdGhpcy5tMTIsIHRoaXMubTEzLCB0aGlzLm0xNCwgCiAgICAgICAgdGhpcy5tMjEsIHRoaXMubTIyLCB0aGlzLm0yMywgdGhpcy5tMjQsIAogICAgICAgIHRoaXMubTMxLCB0aGlzLm0zMiwgdGhpcy5tMzMsIHRoaXMubTM0LCAKICAgICAgICB0aGlzLm00MSwgdGhpcy5tNDIsIHRoaXMubTQzLCB0aGlzLm00NAogICAgXTsKfQoKQ2FudmFzTWF0cml4NC5wcm90b3R5cGUuZ2V0QXNXZWJHTEZsb2F0QXJyYXkgPSBmdW5jdGlvbigpCnsKICAgIHJldHVybiBuZXcgV2ViR0xGbG9hdEFycmF5KHRoaXMuZ2V0QXNBcnJheSgpKTsKfQoKQ2FudmFzTWF0cml4NC5wcm90b3R5cGUubWFrZUlkZW50aXR5ID0gZnVuY3Rpb24oKQp7CiAgICB0aGlzLm0xMSA9IDE7CiAgICB0aGlzLm0xMiA9IDA7CiAgICB0aGlzLm0xMyA9IDA7CiAgICB0aGlzLm0xNCA9IDA7CiAgICAKICAgIHRoaXMubTIxID0gMDsKICAgIHRoaXMubTIyID0gMTsKICAgIHRoaXMubTIzID0gMDsKICAgIHRoaXMubTI0ID0gMDsKICAgIAogICAgdGhpcy5tMzEgPSAwOwogICAgdGhpcy5tMzIgPSAwOwogICAgdGhpcy5tMzMgPSAxOwogICAgdGhpcy5tMzQgPSAwOwogICAgCiAgICB0aGlzLm00MSA9IDA7CiAgICB0aGlzLm00MiA9IDA7CiAgICB0aGlzLm00MyA9IDA7CiAgICB0aGlzLm00NCA9IDE7Cn0KCkNhbnZhc01hdHJpeDQucHJvdG90eXBlLnRyYW5zcG9zZSA9IGZ1bmN0aW9uKCkKewogICAgdmFyIHRtcCA9IHRoaXMubTEyOwogICAgdGhpcy5tMTIgPSB0aGlzLm0yMTsKICAgIHRoaXMubTIxID0gdG1wOwogICAgCiAgICB0bXAgPSB0aGlzLm0xMzsKICAgIHRoaXMubTEzID0gdGhpcy5tMzE7CiAgICB0aGlzLm0zMSA9IHRtcDsKICAgIAogICAgdG1wID0gdGhpcy5tMTQ7CiAgICB0aGlzLm0xNCA9IHRoaXMubTQxOwogICAgdGhpcy5tNDEgPSB0bXA7CiAgICAKICAgIHRtcCA9IHRoaXMubTIzOwogICAgdGhpcy5tMjMgPSB0aGlzLm0zMjsKICAgIHRoaXMubTMyID0gdG1wOwogICAgCiAgICB0bXAgPSB0aGlzLm0yNDsKICAgIHRoaXMubTI0ID0gdGhpcy5tNDI7CiAgICB0aGlzLm00MiA9IHRtcDsKICAgIAogICAgdG1wID0gdGhpcy5tMzQ7CiAgICB0aGlzLm0zNCA9IHRoaXMubTQzOwogICAgdGhpcy5tNDMgPSB0bXA7Cn0KCkNhbnZhc01hdHJpeDQucHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uKCkKewogICAgLy8gQ2FsY3VsYXRlIHRoZSA0eDQgZGV0ZXJtaW5hbnQKICAgIC8vIElmIHRoZSBkZXRlcm1pbmFudCBpcyB6ZXJvLCAKICAgIC8vIHRoZW4gdGhlIGludmVyc2UgbWF0cml4IGlzIG5vdCB1bmlxdWUuCiAgICB2YXIgZGV0ID0gdGhpcy5fZGV0ZXJtaW5hbnQ0eDQoKTsKCiAgICBpZiAoTWF0aC5hYnMoZGV0KSA8IDFlLTgpCiAgICAgICAgcmV0dXJuIG51bGw7CgogICAgdGhpcy5fbWFrZUFkam9pbnQoKTsKCiAgICAvLyBTY2FsZSB0aGUgYWRqb2ludCBtYXRyaXggdG8gZ2V0IHRoZSBpbnZlcnNlCiAgICB0aGlzLm0xMSAvPSBkZXQ7CiAgICB0aGlzLm0xMiAvPSBkZXQ7CiAgICB0aGlzLm0xMyAvPSBkZXQ7CiAgICB0aGlzLm0xNCAvPSBkZXQ7CiAgICAKICAgIHRoaXMubTIxIC89IGRldDsKICAgIHRoaXMubTIyIC89IGRldDsKICAgIHRoaXMubTIzIC89IGRldDsKICAgIHRoaXMubTI0IC89IGRldDsKICAgIAogICAgdGhpcy5tMzEgLz0gZGV0OwogICAgdGhpcy5tMzIgLz0gZGV0OwogICAgdGhpcy5tMzMgLz0gZGV0OwogICAgdGhpcy5tMzQgLz0gZGV0OwogICAgCiAgICB0aGlzLm00MSAvPSBkZXQ7CiAgICB0aGlzLm00MiAvPSBkZXQ7CiAgICB0aGlzLm00MyAvPSBkZXQ7CiAgICB0aGlzLm00NCAvPSBkZXQ7Cn0KCkNhbnZhc01hdHJpeDQucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uKHgseSx6KQp7CiAgICBpZiAoeCA9PSB1bmRlZmluZWQpCiAgICAgICAgeCA9IDA7CiAgICAgICAgaWYgKHkgPT0gdW5kZWZpbmVkKQogICAgICAgICAgICB5ID0gMDsKICAgIGlmICh6ID09IHVuZGVmaW5lZCkKICAgICAgICB6ID0gMDsKICAgIAogICAgdmFyIG1hdHJpeCA9IG5ldyBDYW52YXNNYXRyaXg0KCk7CiAgICBtYXRyaXgubTQxID0geDsKICAgIG1hdHJpeC5tNDIgPSB5OwogICAgbWF0cml4Lm00MyA9IHo7CgogICAgdGhpcy5tdWx0UmlnaHQobWF0cml4KTsKfQoKQ2FudmFzTWF0cml4NC5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbih4LHkseikKewogICAgaWYgKHggPT0gdW5kZWZpbmVkKQogICAgICAgIHggPSAxOwogICAgaWYgKHogPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaWYgKHkgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHkgPSB4OwogICAgICAgICAgICB6ID0geDsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgICAgICB6ID0gMTsKICAgIH0KICAgIGVsc2UgaWYgKHkgPT0gdW5kZWZpbmVkKQogICAgICAgIHkgPSB4OwogICAgCiAgICB2YXIgbWF0cml4ID0gbmV3IENhbnZhc01hdHJpeDQoKTsKICAgIG1hdHJpeC5tMTEgPSB4OwogICAgbWF0cml4Lm0yMiA9IHk7CiAgICBtYXRyaXgubTMzID0gejsKICAgIAogICAgdGhpcy5tdWx0UmlnaHQobWF0cml4KTsKfQoKQ2FudmFzTWF0cml4NC5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24oYW5nbGUseCx5LHopCnsKICAgIC8vIGFuZ2xlcyBhcmUgaW4gZGVncmVlcy4gU3dpdGNoIHRvIHJhZGlhbnMKICAgIGFuZ2xlID0gYW5nbGUgLyAxODAgKiBNYXRoLlBJOwogICAgCiAgICBhbmdsZSAvPSAyOwogICAgdmFyIHNpbkEgPSBNYXRoLnNpbihhbmdsZSk7CiAgICB2YXIgY29zQSA9IE1hdGguY29zKGFuZ2xlKTsKICAgIHZhciBzaW5BMiA9IHNpbkEgKiBzaW5BOwogICAgCiAgICAvLyBub3JtYWxpemUKICAgIHZhciBsZW5ndGggPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTsKICAgIGlmIChsZW5ndGggPT0gMCkgewogICAgICAgIC8vIGJhZCB2ZWN0b3IsIGp1c3QgdXNlIHNvbWV0aGluZyByZWFzb25hYmxlCiAgICAgICAgeCA9IDA7CiAgICAgICAgeSA9IDA7CiAgICAgICAgeiA9IDE7CiAgICB9IGVsc2UgaWYgKGxlbmd0aCAhPSAxKSB7CiAgICAgICAgeCAvPSBsZW5ndGg7CiAgICAgICAgeSAvPSBsZW5ndGg7CiAgICAgICAgeiAvPSBsZW5ndGg7CiAgICB9CiAgICAKICAgIHZhciBtYXQgPSBuZXcgQ2FudmFzTWF0cml4NCgpOwoKICAgIC8vIG9wdGltaXplIGNhc2Ugd2hlcmUgYXhpcyBpcyBhbG9uZyBtYWpvciBheGlzCiAgICBpZiAoeCA9PSAxICYmIHkgPT0gMCAmJiB6ID09IDApIHsKICAgICAgICBtYXQubTExID0gMTsKICAgICAgICBtYXQubTEyID0gMDsKICAgICAgICBtYXQubTEzID0gMDsKICAgICAgICBtYXQubTIxID0gMDsKICAgICAgICBtYXQubTIyID0gMSAtIDIgKiBzaW5BMjsKICAgICAgICBtYXQubTIzID0gMiAqIHNpbkEgKiBjb3NBOwogICAgICAgIG1hdC5tMzEgPSAwOwogICAgICAgIG1hdC5tMzIgPSAtMiAqIHNpbkEgKiBjb3NBOwogICAgICAgIG1hdC5tMzMgPSAxIC0gMiAqIHNpbkEyOwogICAgICAgIG1hdC5tMTQgPSBtYXQubTI0ID0gbWF0Lm0zNCA9IDA7CiAgICAgICAgbWF0Lm00MSA9IG1hdC5tNDIgPSBtYXQubTQzID0gMDsKICAgICAgICBtYXQubTQ0ID0gMTsKICAgIH0gZWxzZSBpZiAoeCA9PSAwICYmIHkgPT0gMSAmJiB6ID09IDApIHsKICAgICAgICBtYXQubTExID0gMSAtIDIgKiBzaW5BMjsKICAgICAgICBtYXQubTEyID0gMDsKICAgICAgICBtYXQubTEzID0gLTIgKiBzaW5BICogY29zQTsKICAgICAgICBtYXQubTIxID0gMDsKICAgICAgICBtYXQubTIyID0gMTsKICAgICAgICBtYXQubTIzID0gMDsKICAgICAgICBtYXQubTMxID0gMiAqIHNpbkEgKiBjb3NBOwogICAgICAgIG1hdC5tMzIgPSAwOwogICAgICAgIG1hdC5tMzMgPSAxIC0gMiAqIHNpbkEyOwogICAgICAgIG1hdC5tMTQgPSBtYXQubTI0ID0gbWF0Lm0zNCA9IDA7CiAgICAgICAgbWF0Lm00MSA9IG1hdC5tNDIgPSBtYXQubTQzID0gMDsKICAgICAgICBtYXQubTQ0ID0gMTsKICAgIH0gZWxzZSBpZiAoeCA9PSAwICYmIHkgPT0gMCAmJiB6ID09IDEpIHsKICAgICAgICBtYXQubTExID0gMSAtIDIgKiBzaW5BMjsKICAgICAgICBtYXQubTEyID0gMiAqIHNpbkEgKiBjb3NBOwogICAgICAgIG1hdC5tMTMgPSAwOwogICAgICAgIG1hdC5tMjEgPSAtMiAqIHNpbkEgKiBjb3NBOwogICAgICAgIG1hdC5tMjIgPSAxIC0gMiAqIHNpbkEyOwogICAgICAgIG1hdC5tMjMgPSAwOwogICAgICAgIG1hdC5tMzEgPSAwOwogICAgICAgIG1hdC5tMzIgPSAwOwogICAgICAgIG1hdC5tMzMgPSAxOwogICAgICAgIG1hdC5tMTQgPSBtYXQubTI0ID0gbWF0Lm0zNCA9IDA7CiAgICAgICAgbWF0Lm00MSA9IG1hdC5tNDIgPSBtYXQubTQzID0gMDsKICAgICAgICBtYXQubTQ0ID0gMTsKICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHgyID0geCp4OwogICAgICAgIHZhciB5MiA9IHkqeTsKICAgICAgICB2YXIgejIgPSB6Kno7CiAgICAKICAgICAgICBtYXQubTExID0gMSAtIDIgKiAoeTIgKyB6MikgKiBzaW5BMjsKICAgICAgICBtYXQubTEyID0gMiAqICh4ICogeSAqIHNpbkEyICsgeiAqIHNpbkEgKiBjb3NBKTsKICAgICAgICBtYXQubTEzID0gMiAqICh4ICogeiAqIHNpbkEyIC0geSAqIHNpbkEgKiBjb3NBKTsKICAgICAgICBtYXQubTIxID0gMiAqICh5ICogeCAqIHNpbkEyIC0geiAqIHNpbkEgKiBjb3NBKTsKICAgICAgICBtYXQubTIyID0gMSAtIDIgKiAoejIgKyB4MikgKiBzaW5BMjsKICAgICAgICBtYXQubTIzID0gMiAqICh5ICogeiAqIHNpbkEyICsgeCAqIHNpbkEgKiBjb3NBKTsKICAgICAgICBtYXQubTMxID0gMiAqICh6ICogeCAqIHNpbkEyICsgeSAqIHNpbkEgKiBjb3NBKTsKICAgICAgICBtYXQubTMyID0gMiAqICh6ICogeSAqIHNpbkEyIC0geCAqIHNpbkEgKiBjb3NBKTsKICAgICAgICBtYXQubTMzID0gMSAtIDIgKiAoeDIgKyB5MikgKiBzaW5BMjsKICAgICAgICBtYXQubTE0ID0gbWF0Lm0yNCA9IG1hdC5tMzQgPSAwOwogICAgICAgIG1hdC5tNDEgPSBtYXQubTQyID0gbWF0Lm00MyA9IDA7CiAgICAgICAgbWF0Lm00NCA9IDE7CiAgICB9CiAgICB0aGlzLm11bHRSaWdodChtYXQpOwp9CgpDYW52YXNNYXRyaXg0LnByb3RvdHlwZS5tdWx0UmlnaHQgPSBmdW5jdGlvbihtYXQpCnsKICAgIHZhciBtMTEgPSAodGhpcy5tMTEgKiBtYXQubTExICsgdGhpcy5tMTIgKiBtYXQubTIxCiAgICAgICAgICAgICAgICsgdGhpcy5tMTMgKiBtYXQubTMxICsgdGhpcy5tMTQgKiBtYXQubTQxKTsKICAgIHZhciBtMTIgPSAodGhpcy5tMTEgKiBtYXQubTEyICsgdGhpcy5tMTIgKiBtYXQubTIyCiAgICAgICAgICAgICAgICsgdGhpcy5tMTMgKiBtYXQubTMyICsgdGhpcy5tMTQgKiBtYXQubTQyKTsKICAgIHZhciBtMTMgPSAodGhpcy5tMTEgKiBtYXQubTEzICsgdGhpcy5tMTIgKiBtYXQubTIzCiAgICAgICAgICAgICAgICsgdGhpcy5tMTMgKiBtYXQubTMzICsgdGhpcy5tMTQgKiBtYXQubTQzKTsKICAgIHZhciBtMTQgPSAodGhpcy5tMTEgKiBtYXQubTE0ICsgdGhpcy5tMTIgKiBtYXQubTI0CiAgICAgICAgICAgICAgICsgdGhpcy5tMTMgKiBtYXQubTM0ICsgdGhpcy5tMTQgKiBtYXQubTQ0KTsKCiAgICB2YXIgbTIxID0gKHRoaXMubTIxICogbWF0Lm0xMSArIHRoaXMubTIyICogbWF0Lm0yMQogICAgICAgICAgICAgICArIHRoaXMubTIzICogbWF0Lm0zMSArIHRoaXMubTI0ICogbWF0Lm00MSk7CiAgICB2YXIgbTIyID0gKHRoaXMubTIxICogbWF0Lm0xMiArIHRoaXMubTIyICogbWF0Lm0yMgogICAgICAgICAgICAgICArIHRoaXMubTIzICogbWF0Lm0zMiArIHRoaXMubTI0ICogbWF0Lm00Mik7CiAgICB2YXIgbTIzID0gKHRoaXMubTIxICogbWF0Lm0xMyArIHRoaXMubTIyICogbWF0Lm0yMwogICAgICAgICAgICAgICArIHRoaXMubTIzICogbWF0Lm0zMyArIHRoaXMubTI0ICogbWF0Lm00Myk7CiAgICB2YXIgbTI0ID0gKHRoaXMubTIxICogbWF0Lm0xNCArIHRoaXMubTIyICogbWF0Lm0yNAogICAgICAgICAgICAgICArIHRoaXMubTIzICogbWF0Lm0zNCArIHRoaXMubTI0ICogbWF0Lm00NCk7CgogICAgdmFyIG0zMSA9ICh0aGlzLm0zMSAqIG1hdC5tMTEgKyB0aGlzLm0zMiAqIG1hdC5tMjEKICAgICAgICAgICAgICAgKyB0aGlzLm0zMyAqIG1hdC5tMzEgKyB0aGlzLm0zNCAqIG1hdC5tNDEpOwogICAgdmFyIG0zMiA9ICh0aGlzLm0zMSAqIG1hdC5tMTIgKyB0aGlzLm0zMiAqIG1hdC5tMjIKICAgICAgICAgICAgICAgKyB0aGlzLm0zMyAqIG1hdC5tMzIgKyB0aGlzLm0zNCAqIG1hdC5tNDIpOwogICAgdmFyIG0zMyA9ICh0aGlzLm0zMSAqIG1hdC5tMTMgKyB0aGlzLm0zMiAqIG1hdC5tMjMKICAgICAgICAgICAgICAgKyB0aGlzLm0zMyAqIG1hdC5tMzMgKyB0aGlzLm0zNCAqIG1hdC5tNDMpOwogICAgdmFyIG0zNCA9ICh0aGlzLm0zMSAqIG1hdC5tMTQgKyB0aGlzLm0zMiAqIG1hdC5tMjQKICAgICAgICAgICAgICAgKyB0aGlzLm0zMyAqIG1hdC5tMzQgKyB0aGlzLm0zNCAqIG1hdC5tNDQpOwoKICAgIHZhciBtNDEgPSAodGhpcy5tNDEgKiBtYXQubTExICsgdGhpcy5tNDIgKiBtYXQubTIxCiAgICAgICAgICAgICAgICsgdGhpcy5tNDMgKiBtYXQubTMxICsgdGhpcy5tNDQgKiBtYXQubTQxKTsKICAgIHZhciBtNDIgPSAodGhpcy5tNDEgKiBtYXQubTEyICsgdGhpcy5tNDIgKiBtYXQubTIyCiAgICAgICAgICAgICAgICsgdGhpcy5tNDMgKiBtYXQubTMyICsgdGhpcy5tNDQgKiBtYXQubTQyKTsKICAgIHZhciBtNDMgPSAodGhpcy5tNDEgKiBtYXQubTEzICsgdGhpcy5tNDIgKiBtYXQubTIzCiAgICAgICAgICAgICAgICsgdGhpcy5tNDMgKiBtYXQubTMzICsgdGhpcy5tNDQgKiBtYXQubTQzKTsKICAgIHZhciBtNDQgPSAodGhpcy5tNDEgKiBtYXQubTE0ICsgdGhpcy5tNDIgKiBtYXQubTI0CiAgICAgICAgICAgICAgICsgdGhpcy5tNDMgKiBtYXQubTM0ICsgdGhpcy5tNDQgKiBtYXQubTQ0KTsKICAgIAogICAgdGhpcy5tMTEgPSBtMTE7CiAgICB0aGlzLm0xMiA9IG0xMjsKICAgIHRoaXMubTEzID0gbTEzOwogICAgdGhpcy5tMTQgPSBtMTQ7CiAgICAKICAgIHRoaXMubTIxID0gbTIxOwogICAgdGhpcy5tMjIgPSBtMjI7CiAgICB0aGlzLm0yMyA9IG0yMzsKICAgIHRoaXMubTI0ID0gbTI0OwogICAgCiAgICB0aGlzLm0zMSA9IG0zMTsKICAgIHRoaXMubTMyID0gbTMyOwogICAgdGhpcy5tMzMgPSBtMzM7CiAgICB0aGlzLm0zNCA9IG0zNDsKICAgIAogICAgdGhpcy5tNDEgPSBtNDE7CiAgICB0aGlzLm00MiA9IG00MjsKICAgIHRoaXMubTQzID0gbTQzOwogICAgdGhpcy5tNDQgPSBtNDQ7Cn0KCkNhbnZhc01hdHJpeDQucHJvdG90eXBlLm11bHRMZWZ0ID0gZnVuY3Rpb24obWF0KQp7CiAgICB2YXIgbTExID0gKG1hdC5tMTEgKiB0aGlzLm0xMSArIG1hdC5tMTIgKiB0aGlzLm0yMQogICAgICAgICAgICAgICArIG1hdC5tMTMgKiB0aGlzLm0zMSArIG1hdC5tMTQgKiB0aGlzLm00MSk7CiAgICB2YXIgbTEyID0gKG1hdC5tMTEgKiB0aGlzLm0xMiArIG1hdC5tMTIgKiB0aGlzLm0yMgogICAgICAgICAgICAgICArIG1hdC5tMTMgKiB0aGlzLm0zMiArIG1hdC5tMTQgKiB0aGlzLm00Mik7CiAgICB2YXIgbTEzID0gKG1hdC5tMTEgKiB0aGlzLm0xMyArIG1hdC5tMTIgKiB0aGlzLm0yMwogICAgICAgICAgICAgICArIG1hdC5tMTMgKiB0aGlzLm0zMyArIG1hdC5tMTQgKiB0aGlzLm00Myk7CiAgICB2YXIgbTE0ID0gKG1hdC5tMTEgKiB0aGlzLm0xNCArIG1hdC5tMTIgKiB0aGlzLm0yNAogICAgICAgICAgICAgICArIG1hdC5tMTMgKiB0aGlzLm0zNCArIG1hdC5tMTQgKiB0aGlzLm00NCk7CgogICAgdmFyIG0yMSA9IChtYXQubTIxICogdGhpcy5tMTEgKyBtYXQubTIyICogdGhpcy5tMjEKICAgICAgICAgICAgICAgKyBtYXQubTIzICogdGhpcy5tMzEgKyBtYXQubTI0ICogdGhpcy5tNDEpOwogICAgdmFyIG0yMiA9IChtYXQubTIxICogdGhpcy5tMTIgKyBtYXQubTIyICogdGhpcy5tMjIKICAgICAgICAgICAgICAgKyBtYXQubTIzICogdGhpcy5tMzIgKyBtYXQubTI0ICogdGhpcy5tNDIpOwogICAgdmFyIG0yMyA9IChtYXQubTIxICogdGhpcy5tMTMgKyBtYXQubTIyICogdGhpcy5tMjMKICAgICAgICAgICAgICAgKyBtYXQubTIzICogdGhpcy5tMzMgKyBtYXQubTI0ICogdGhpcy5tNDMpOwogICAgdmFyIG0yNCA9IChtYXQubTIxICogdGhpcy5tMTQgKyBtYXQubTIyICogdGhpcy5tMjQKICAgICAgICAgICAgICAgKyBtYXQubTIzICogdGhpcy5tMzQgKyBtYXQubTI0ICogdGhpcy5tNDQpOwoKICAgIHZhciBtMzEgPSAobWF0Lm0zMSAqIHRoaXMubTExICsgbWF0Lm0zMiAqIHRoaXMubTIxCiAgICAgICAgICAgICAgICsgbWF0Lm0zMyAqIHRoaXMubTMxICsgbWF0Lm0zNCAqIHRoaXMubTQxKTsKICAgIHZhciBtMzIgPSAobWF0Lm0zMSAqIHRoaXMubTEyICsgbWF0Lm0zMiAqIHRoaXMubTIyCiAgICAgICAgICAgICAgICsgbWF0Lm0zMyAqIHRoaXMubTMyICsgbWF0Lm0zNCAqIHRoaXMubTQyKTsKICAgIHZhciBtMzMgPSAobWF0Lm0zMSAqIHRoaXMubTEzICsgbWF0Lm0zMiAqIHRoaXMubTIzCiAgICAgICAgICAgICAgICsgbWF0Lm0zMyAqIHRoaXMubTMzICsgbWF0Lm0zNCAqIHRoaXMubTQzKTsKICAgIHZhciBtMzQgPSAobWF0Lm0zMSAqIHRoaXMubTE0ICsgbWF0Lm0zMiAqIHRoaXMubTI0CiAgICAgICAgICAgICAgICsgbWF0Lm0zMyAqIHRoaXMubTM0ICsgbWF0Lm0zNCAqIHRoaXMubTQ0KTsKCiAgICB2YXIgbTQxID0gKG1hdC5tNDEgKiB0aGlzLm0xMSArIG1hdC5tNDIgKiB0aGlzLm0yMQogICAgICAgICAgICAgICArIG1hdC5tNDMgKiB0aGlzLm0zMSArIG1hdC5tNDQgKiB0aGlzLm00MSk7CiAgICB2YXIgbTQyID0gKG1hdC5tNDEgKiB0aGlzLm0xMiArIG1hdC5tNDIgKiB0aGlzLm0yMgogICAgICAgICAgICAgICArIG1hdC5tNDMgKiB0aGlzLm0zMiArIG1hdC5tNDQgKiB0aGlzLm00Mik7CiAgICB2YXIgbTQzID0gKG1hdC5tNDEgKiB0aGlzLm0xMyArIG1hdC5tNDIgKiB0aGlzLm0yMwogICAgICAgICAgICAgICArIG1hdC5tNDMgKiB0aGlzLm0zMyArIG1hdC5tNDQgKiB0aGlzLm00Myk7CiAgICB2YXIgbTQ0ID0gKG1hdC5tNDEgKiB0aGlzLm0xNCArIG1hdC5tNDIgKiB0aGlzLm0yNAogICAgICAgICAgICAgICArIG1hdC5tNDMgKiB0aGlzLm0zNCArIG1hdC5tNDQgKiB0aGlzLm00NCk7CiAgICAKICAgIHRoaXMubTExID0gbTExOwogICAgdGhpcy5tMTIgPSBtMTI7CiAgICB0aGlzLm0xMyA9IG0xMzsKICAgIHRoaXMubTE0ID0gbTE0OwoKICAgIHRoaXMubTIxID0gbTIxOwogICAgdGhpcy5tMjIgPSBtMjI7CiAgICB0aGlzLm0yMyA9IG0yMzsKICAgIHRoaXMubTI0ID0gbTI0OwoKICAgIHRoaXMubTMxID0gbTMxOwogICAgdGhpcy5tMzIgPSBtMzI7CiAgICB0aGlzLm0zMyA9IG0zMzsKICAgIHRoaXMubTM0ID0gbTM0OwoKICAgIHRoaXMubTQxID0gbTQxOwogICAgdGhpcy5tNDIgPSBtNDI7CiAgICB0aGlzLm00MyA9IG00MzsKICAgIHRoaXMubTQ0ID0gbTQ0Owp9CgpDYW52YXNNYXRyaXg0LnByb3RvdHlwZS5vcnRobyA9IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKQp7CiAgICB2YXIgdHggPSAobGVmdCArIHJpZ2h0KSAvIChsZWZ0IC0gcmlnaHQpOwogICAgdmFyIHR5ID0gKHRvcCArIGJvdHRvbSkgLyAodG9wIC0gYm90dG9tKTsKICAgIHZhciB0eiA9IChmYXIgKyBuZWFyKSAvIChmYXIgLSBuZWFyKTsKICAgIAogICAgdmFyIG1hdHJpeCA9IG5ldyBDYW52YXNNYXRyaXg0KCk7CiAgICBtYXRyaXgubTExID0gMiAvIChsZWZ0IC0gcmlnaHQpOwogICAgbWF0cml4Lm0xMiA9IDA7CiAgICBtYXRyaXgubTEzID0gMDsKICAgIG1hdHJpeC5tMTQgPSAwOwogICAgbWF0cml4Lm0yMSA9IDA7CiAgICBtYXRyaXgubTIyID0gMiAvICh0b3AgLSBib3R0b20pOwogICAgbWF0cml4Lm0yMyA9IDA7CiAgICBtYXRyaXgubTI0ID0gMDsKICAgIG1hdHJpeC5tMzEgPSAwOwogICAgbWF0cml4Lm0zMiA9IDA7CiAgICBtYXRyaXgubTMzID0gLTIgLyAoZmFyIC0gbmVhcik7CiAgICBtYXRyaXgubTM0ID0gMDsKICAgIG1hdHJpeC5tNDEgPSB0eDsKICAgIG1hdHJpeC5tNDIgPSB0eTsKICAgIG1hdHJpeC5tNDMgPSB0ejsKICAgIG1hdHJpeC5tNDQgPSAxOwogICAgCiAgICB0aGlzLm11bHRSaWdodChtYXRyaXgpOwp9CgpDYW52YXNNYXRyaXg0LnByb3RvdHlwZS5mcnVzdHVtID0gZnVuY3Rpb24obGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpCnsKICAgIHZhciBtYXRyaXggPSBuZXcgQ2FudmFzTWF0cml4NCgpOwogICAgdmFyIEEgPSAocmlnaHQgKyBsZWZ0KSAvIChyaWdodCAtIGxlZnQpOwogICAgdmFyIEIgPSAodG9wICsgYm90dG9tKSAvICh0b3AgLSBib3R0b20pOwogICAgdmFyIEMgPSAtKGZhciArIG5lYXIpIC8gKGZhciAtIG5lYXIpOwogICAgdmFyIEQgPSAtKDIgKiBmYXIgKiBuZWFyKSAvIChmYXIgLSBuZWFyKTsKICAgIAogICAgbWF0cml4Lm0xMSA9ICgyICogbmVhcikgLyAocmlnaHQgLSBsZWZ0KTsKICAgIG1hdHJpeC5tMTIgPSAwOwogICAgbWF0cml4Lm0xMyA9IDA7CiAgICBtYXRyaXgubTE0ID0gMDsKICAgIAogICAgbWF0cml4Lm0yMSA9IDA7CiAgICBtYXRyaXgubTIyID0gMiAqIG5lYXIgLyAodG9wIC0gYm90dG9tKTsKICAgIG1hdHJpeC5tMjMgPSAwOwogICAgbWF0cml4Lm0yNCA9IDA7CiAgICAKICAgIG1hdHJpeC5tMzEgPSBBOwogICAgbWF0cml4Lm0zMiA9IEI7CiAgICBtYXRyaXgubTMzID0gQzsKICAgIG1hdHJpeC5tMzQgPSAtMTsKICAgIAogICAgbWF0cml4Lm00MSA9IDA7CiAgICBtYXRyaXgubTQyID0gMDsKICAgIG1hdHJpeC5tNDMgPSBEOwogICAgbWF0cml4Lm00NCA9IDA7CiAgICAKICAgIHRoaXMubXVsdFJpZ2h0KG1hdHJpeCk7Cn0KCkNhbnZhc01hdHJpeDQucHJvdG90eXBlLnBlcnNwZWN0aXZlID0gZnVuY3Rpb24oZm92eSwgYXNwZWN0LCB6TmVhciwgekZhcikKewogICAgdmFyIHRvcCA9IE1hdGgudGFuKGZvdnkgKiBNYXRoLlBJIC8gMzYwKSAqIHpOZWFyOwogICAgdmFyIGJvdHRvbSA9IC10b3A7CiAgICB2YXIgbGVmdCA9IGFzcGVjdCAqIGJvdHRvbTsKICAgIHZhciByaWdodCA9IGFzcGVjdCAqIHRvcDsKICAgIHRoaXMuZnJ1c3R1bShsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIHpOZWFyLCB6RmFyKTsKfQoKQ2FudmFzTWF0cml4NC5wcm90b3R5cGUubG9va2F0ID0gZnVuY3Rpb24oZXlleCwgZXlleSwgZXlleiwgY2VudGVyeCwgY2VudGVyeSwgY2VudGVyeiwgdXB4LCB1cHksIHVweikKewogICAgdmFyIG1hdHJpeCA9IG5ldyBDYW52YXNNYXRyaXg0KCk7CiAgICAKICAgIC8vIE1ha2Ugcm90YXRpb24gbWF0cml4CgogICAgLy8gWiB2ZWN0b3IKICAgIHZhciB6eCA9IGV5ZXggLSBjZW50ZXJ4OwogICAgdmFyIHp5ID0gZXlleSAtIGNlbnRlcnk7CiAgICB2YXIgenogPSBleWV6IC0gY2VudGVyejsKICAgIHZhciBtYWcgPSBNYXRoLnNxcnQoenggKiB6eCArIHp5ICogenkgKyB6eiAqIHp6KTsKICAgIGlmIChtYWcpIHsKICAgICAgICB6eCAvPSBtYWc7CiAgICAgICAgenkgLz0gbWFnOwogICAgICAgIHp6IC89IG1hZzsKICAgIH0KCiAgICAvLyBZIHZlY3RvcgogICAgdmFyIHl4ID0gdXB4OwogICAgdmFyIHl5ID0gdXB5OwogICAgdmFyIHl6ID0gdXB6OwoKICAgIC8vIFggdmVjdG9yID0gWSBjcm9zcyBaCiAgICB4eCA9ICB5eSAqIHp6IC0geXogKiB6eTsKICAgIHh5ID0gLXl4ICogenogKyB5eiAqIHp4OwogICAgeHogPSAgeXggKiB6eSAtIHl5ICogeng7CgogICAgLy8gUmVjb21wdXRlIFkgPSBaIGNyb3NzIFgKICAgIHl4ID0genkgKiB4eiAtIHp6ICogeHk7CiAgICB5eSA9IC16eCAqIHh6ICsgenogKiB4eDsKICAgIHl4ID0genggKiB4eSAtIHp5ICogeHg7CgogICAgLy8gY3Jvc3MgcHJvZHVjdCBnaXZlcyBhcmVhIG9mIHBhcmFsbGVsb2dyYW0sIHdoaWNoIGlzIDwgMS4wIGZvcgogICAgLy8gbm9uLXBlcnBlbmRpY3VsYXIgdW5pdC1sZW5ndGggdmVjdG9yczsgc28gbm9ybWFsaXplIHgsIHkgaGVyZQoKICAgIG1hZyA9IE1hdGguc3FydCh4eCAqIHh4ICsgeHkgKiB4eSArIHh6ICogeHopOwogICAgaWYgKG1hZykgewogICAgICAgIHh4IC89IG1hZzsKICAgICAgICB4eSAvPSBtYWc7CiAgICAgICAgeHogLz0gbWFnOwogICAgfQoKICAgIG1hZyA9IE1hdGguc3FydCh5eCAqIHl4ICsgeXkgKiB5eSArIHl6ICogeXopOwogICAgaWYgKG1hZykgewogICAgICAgIHl4IC89IG1hZzsKICAgICAgICB5eSAvPSBtYWc7CiAgICAgICAgeXogLz0gbWFnOwogICAgfQoKICAgIG1hdHJpeC5tMTEgPSB4eDsKICAgIG1hdHJpeC5tMTIgPSB4eTsKICAgIG1hdHJpeC5tMTMgPSB4ejsKICAgIG1hdHJpeC5tMTQgPSAwOwogICAgCiAgICBtYXRyaXgubTIxID0geXg7CiAgICBtYXRyaXgubTIyID0geXk7CiAgICBtYXRyaXgubTIzID0geXo7CiAgICBtYXRyaXgubTI0ID0gMDsKICAgIAogICAgbWF0cml4Lm0zMSA9IHp4OwogICAgbWF0cml4Lm0zMiA9IHp5OwogICAgbWF0cml4Lm0zMyA9IHp6OwogICAgbWF0cml4Lm0zNCA9IDA7CiAgICAKICAgIG1hdHJpeC5tNDEgPSAwOwogICAgbWF0cml4Lm00MiA9IDA7CiAgICBtYXRyaXgubTQzID0gMDsKICAgIG1hdHJpeC5tNDQgPSAxOwogICAgbWF0cml4LnRyYW5zbGF0ZSgtZXlleCwgLWV5ZXksIC1leWV6KTsKICAgIAogICAgdGhpcy5tdWx0UmlnaHQobWF0cml4KTsKfQoKLy8gU3VwcG9ydCBmdW5jdGlvbnMKQ2FudmFzTWF0cml4NC5wcm90b3R5cGUuX2RldGVybWluYW50MngyID0gZnVuY3Rpb24oYSwgYiwgYywgZCkKewogICAgcmV0dXJuIGEgKiBkIC0gYiAqIGM7Cn0KCkNhbnZhc01hdHJpeDQucHJvdG90eXBlLl9kZXRlcm1pbmFudDN4MyA9IGZ1bmN0aW9uKGExLCBhMiwgYTMsIGIxLCBiMiwgYjMsIGMxLCBjMiwgYzMpCnsKICAgIHJldHVybiBhMSAqIHRoaXMuX2RldGVybWluYW50MngyKGIyLCBiMywgYzIsIGMzKQogICAgICAgICAtIGIxICogdGhpcy5fZGV0ZXJtaW5hbnQyeDIoYTIsIGEzLCBjMiwgYzMpCiAgICAgICAgICsgYzEgKiB0aGlzLl9kZXRlcm1pbmFudDJ4MihhMiwgYTMsIGIyLCBiMyk7Cn0KCkNhbnZhc01hdHJpeDQucHJvdG90eXBlLl9kZXRlcm1pbmFudDR4NCA9IGZ1bmN0aW9uKCkKewogICAgdmFyIGExID0gdGhpcy5tMTE7CiAgICB2YXIgYjEgPSB0aGlzLm0xMjsgCiAgICB2YXIgYzEgPSB0aGlzLm0xMzsKICAgIHZhciBkMSA9IHRoaXMubTE0OwoKICAgIHZhciBhMiA9IHRoaXMubTIxOwogICAgdmFyIGIyID0gdGhpcy5tMjI7IAogICAgdmFyIGMyID0gdGhpcy5tMjM7CiAgICB2YXIgZDIgPSB0aGlzLm0yNDsKCiAgICB2YXIgYTMgPSB0aGlzLm0zMTsKICAgIHZhciBiMyA9IHRoaXMubTMyOyAKICAgIHZhciBjMyA9IHRoaXMubTMzOwogICAgdmFyIGQzID0gdGhpcy5tMzQ7CgogICAgdmFyIGE0ID0gdGhpcy5tNDE7CiAgICB2YXIgYjQgPSB0aGlzLm00MjsgCiAgICB2YXIgYzQgPSB0aGlzLm00MzsKICAgIHZhciBkNCA9IHRoaXMubTQ0OwoKICAgIHJldHVybiBhMSAqIHRoaXMuX2RldGVybWluYW50M3gzKGIyLCBiMywgYjQsIGMyLCBjMywgYzQsIGQyLCBkMywgZDQpCiAgICAgICAgIC0gYjEgKiB0aGlzLl9kZXRlcm1pbmFudDN4MyhhMiwgYTMsIGE0LCBjMiwgYzMsIGM0LCBkMiwgZDMsIGQ0KQogICAgICAgICArIGMxICogdGhpcy5fZGV0ZXJtaW5hbnQzeDMoYTIsIGEzLCBhNCwgYjIsIGIzLCBiNCwgZDIsIGQzLCBkNCkKICAgICAgICAgLSBkMSAqIHRoaXMuX2RldGVybWluYW50M3gzKGEyLCBhMywgYTQsIGIyLCBiMywgYjQsIGMyLCBjMywgYzQpOwp9CgpDYW52YXNNYXRyaXg0LnByb3RvdHlwZS5fbWFrZUFkam9pbnQgPSBmdW5jdGlvbigpCnsKICAgIHZhciBhMSA9IHRoaXMubTExOwogICAgdmFyIGIxID0gdGhpcy5tMTI7IAogICAgdmFyIGMxID0gdGhpcy5tMTM7CiAgICB2YXIgZDEgPSB0aGlzLm0xNDsKCiAgICB2YXIgYTIgPSB0aGlzLm0yMTsKICAgIHZhciBiMiA9IHRoaXMubTIyOyAKICAgIHZhciBjMiA9IHRoaXMubTIzOwogICAgdmFyIGQyID0gdGhpcy5tMjQ7CgogICAgdmFyIGEzID0gdGhpcy5tMzE7CiAgICB2YXIgYjMgPSB0aGlzLm0zMjsgCiAgICB2YXIgYzMgPSB0aGlzLm0zMzsKICAgIHZhciBkMyA9IHRoaXMubTM0OwoKICAgIHZhciBhNCA9IHRoaXMubTQxOwogICAgdmFyIGI0ID0gdGhpcy5tNDI7IAogICAgdmFyIGM0ID0gdGhpcy5tNDM7CiAgICB2YXIgZDQgPSB0aGlzLm00NDsKCiAgICAvLyBSb3cgY29sdW1uIGxhYmVsaW5nIHJldmVyc2VkIHNpbmNlIHdlIHRyYW5zcG9zZSByb3dzICYgY29sdW1ucwogICAgdGhpcy5tMTEgID0gICB0aGlzLl9kZXRlcm1pbmFudDN4MyhiMiwgYjMsIGI0LCBjMiwgYzMsIGM0LCBkMiwgZDMsIGQ0KTsKICAgIHRoaXMubTIxICA9IC0gdGhpcy5fZGV0ZXJtaW5hbnQzeDMoYTIsIGEzLCBhNCwgYzIsIGMzLCBjNCwgZDIsIGQzLCBkNCk7CiAgICB0aGlzLm0zMSAgPSAgIHRoaXMuX2RldGVybWluYW50M3gzKGEyLCBhMywgYTQsIGIyLCBiMywgYjQsIGQyLCBkMywgZDQpOwogICAgdGhpcy5tNDEgID0gLSB0aGlzLl9kZXRlcm1pbmFudDN4MyhhMiwgYTMsIGE0LCBiMiwgYjMsIGI0LCBjMiwgYzMsIGM0KTsKICAgICAgICAKICAgIHRoaXMubTEyICA9IC0gdGhpcy5fZGV0ZXJtaW5hbnQzeDMoYjEsIGIzLCBiNCwgYzEsIGMzLCBjNCwgZDEsIGQzLCBkNCk7CiAgICB0aGlzLm0yMiAgPSAgIHRoaXMuX2RldGVybWluYW50M3gzKGExLCBhMywgYTQsIGMxLCBjMywgYzQsIGQxLCBkMywgZDQpOwogICAgdGhpcy5tMzIgID0gLSB0aGlzLl9kZXRlcm1pbmFudDN4MyhhMSwgYTMsIGE0LCBiMSwgYjMsIGI0LCBkMSwgZDMsIGQ0KTsKICAgIHRoaXMubTQyICA9ICAgdGhpcy5fZGV0ZXJtaW5hbnQzeDMoYTEsIGEzLCBhNCwgYjEsIGIzLCBiNCwgYzEsIGMzLCBjNCk7CiAgICAgICAgCiAgICB0aGlzLm0xMyAgPSAgIHRoaXMuX2RldGVybWluYW50M3gzKGIxLCBiMiwgYjQsIGMxLCBjMiwgYzQsIGQxLCBkMiwgZDQpOwogICAgdGhpcy5tMjMgID0gLSB0aGlzLl9kZXRlcm1pbmFudDN4MyhhMSwgYTIsIGE0LCBjMSwgYzIsIGM0LCBkMSwgZDIsIGQ0KTsKICAgIHRoaXMubTMzICA9ICAgdGhpcy5fZGV0ZXJtaW5hbnQzeDMoYTEsIGEyLCBhNCwgYjEsIGIyLCBiNCwgZDEsIGQyLCBkNCk7CiAgICB0aGlzLm00MyAgPSAtIHRoaXMuX2RldGVybWluYW50M3gzKGExLCBhMiwgYTQsIGIxLCBiMiwgYjQsIGMxLCBjMiwgYzQpOwogICAgICAgIAogICAgdGhpcy5tMTQgID0gLSB0aGlzLl9kZXRlcm1pbmFudDN4MyhiMSwgYjIsIGIzLCBjMSwgYzIsIGMzLCBkMSwgZDIsIGQzKTsKICAgIHRoaXMubTI0ICA9ICAgdGhpcy5fZGV0ZXJtaW5hbnQzeDMoYTEsIGEyLCBhMywgYzEsIGMyLCBjMywgZDEsIGQyLCBkMyk7CiAgICB0aGlzLm0zNCAgPSAtIHRoaXMuX2RldGVybWluYW50M3gzKGExLCBhMiwgYTMsIGIxLCBiMiwgYjMsIGQxLCBkMiwgZDMpOwogICAgdGhpcy5tNDQgID0gICB0aGlzLl9kZXRlcm1pbmFudDN4MyhhMSwgYTIsIGEzLCBiMSwgYjIsIGIzLCBjMSwgYzIsIGMzKTsKfQo="></script>
<script src="data:application/x-javascript;base64,LyogZWwgaXMgdGhlIGRpdiwgaG9sZGluZyB0aGUgcmdsIG9iamVjdCBhcyBlbC5yZ2xpbnN0YW5jZSwKICAgICB3aGljaCBob2xkcyB4IGFzIGVsLnJnbGluc3RhbmNlLnNjZW5lCiAgIHggaXMgdGhlIEpTT04gZW5jb2RlZCByZ2x3aWRnZXQuCiovCgoKSFRNTFdpZGdldHMud2lkZ2V0KHsKCiAgbmFtZTogJ3JnbFdlYkdMJywKCiAgdHlwZTogJ291dHB1dCcsCgogIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVsLCB3aWR0aCwgaGVpZ2h0KSB7CiAgICBlbC53aWR0aCA9IHdpZHRoOwogICAgZWwuaGVpZ2h0ID0gaGVpZ2h0OwogICAgcmV0dXJuIHt9OwoKICB9LAoKICByZW5kZXJWYWx1ZTogZnVuY3Rpb24oZWwsIHgpIHsKICAgIHZhciByZ2wgPSBuZXcgcmdsd2lkZ2V0Q2xhc3MoKSwgaSwgcGVsLCBwbGF5ZXIsCiAgICAgIGRyYXcgPSB0cnVlOwogICAgcmdsLmluaXRpYWxpemUoZWwsIHgpOwoKICAgIC8qIFdlIG1pZ2h0IGhhdmUgYmVlbiBjYWxsZWQgYWZ0ZXIgKHNvbWUgb2YpIHRoZSBwbGF5ZXJzIHdlcmUgcmVuZGVyZWQuCiAgICAgICBXZSBuZWVkIHRvIG1ha2Ugc3VyZSB3ZSByZXNwb25kIHRvIHRoZWlyIGluaXRpYWwgdmFsdWVzLiAqLwoKICAgIGlmICh0eXBlb2YgeC5wbGF5ZXJzICE9PSAidW5kZWZpbmVkIikgewogICAgICB4LnBsYXllcnMgPSBbXS5jb25jYXQoeC5wbGF5ZXJzKTsKICAgICAgZm9yIChpID0gMDsgaSA8IHgucGxheWVycy5sZW5ndGg7IGkrKykgewogICAgICAgIHBlbCA9IHdpbmRvd1t4LnBsYXllcnNbaV1dOwogICAgICAgIGlmICh0eXBlb2YgcGVsICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgcGxheWVyID0gcGVsLnJnbFBsYXllcjsKICAgICAgICAgIGlmICh0eXBlb2YgcGxheWVyICE9PSAidW5kZWZpbmVkIiAmJiAhcGxheWVyLmluaXRpYWxpemVkKSB7CiAgICAgICAgICAgIHJnbC5QbGF5ZXIocGVsLCBwbGF5ZXIsIGZhbHNlKTsKICAgICAgICAgICAgcGxheWVyLmluaXRpYWxpemVkID0gdHJ1ZTsKICAgICAgICAgIH0gZWxzZQogICAgICAgICAgICBkcmF3ID0gZmFsc2U7ICAvLyBUaGUgcGxheWVyIHdpbGwgZG8gdGhlIGRyYXdpbmcKICAgICAgICB9IGVsc2UKICAgICAgICAgIHJnbC5hbGVydE9uY2UoIkNvbnRyb2xsZXIgJyIgKyB4LnBsYXllcnNbaV0gKyAiJyBub3QgZm91bmQuIik7CiAgICAgIH0KICAgIH0KICAgIHJnbC5kcmFnID0gMDsKICAgIGlmIChkcmF3KQogICAgICByZ2wuZHJhd1NjZW5lKCk7CiAgfSwKCiAgcmVzaXplOiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewogICAgZWwud2lkdGggPSB3aWR0aDsKICAgIGVsLmhlaWdodCA9IGhlaWdodDsKICAgIGVsLnJnbGluc3RhbmNlLnJlc2l6ZShlbCk7CiAgICBlbC5yZ2xpbnN0YW5jZS5kcmF3U2NlbmUoKTsKICB9Cgp9KTsK"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Lorenz Equations</h1>
<h4 class="author"><em>Stephen Gaito</em></h4>
<h4 class="date"><em>2016-08-15</em></h4>



<div id="model-equations" class="section level2">
<h2>Model equations</h2>
<p>We investigate the <a href="https://en.wikipedia.org/wiki/Lorenz_system">Lorenz Equations</a> using the RGL graphics tool. A good <a href="http://www.sthda.com/english/wiki/a-complete-guide-to-3d-visualization-device-system-in-r-r-software-and-data-visualization#install-the-rgl-package">A complete guide to 3D visualization device system in R - R software and data visualization</a> provides an excellent tutorial.</p>
<p><span class="math display">\[
\begin{align*}
\frac{dx}{dt} &amp; = &amp; \sigma ( y - x ) \\
\frac{dy}{dt} &amp; = &amp; x ( \rho - z ) - y \\
\frac{dz}{dt} &amp; = &amp; x y - \beta z
\end{align*}
\]</span></p>
<p>Where interesting values for sigma, rho and beta are:</p>
<p><span class="math display">\[
\begin{align*}
\sigma &amp; = &amp; 10 \\
\rho   &amp; = &amp; 28 \\
\beta  &amp; = &amp; \frac{8}{3}
\end{align*}
\]</span></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">results &lt;-<span class="st"> </span><span class="kw">integrateLorenz</span>()
<span class="kw">rgl.linestrips</span>(results[,<span class="dv">1</span>], results[,<span class="dv">2</span>], results[,<span class="dv">3</span>], <span class="dt">color =</span> <span class="st">&quot;blue&quot;</span>)
subid &lt;-<span class="st"> </span><span class="kw">currentSubscene3d</span>()
<span class="kw">rglwidget</span>(<span class="dt">elementId =</span> <span class="st">&quot;lorenzEq&quot;</span>)</code></pre></div>
<div id="lorenzEq" style="width:288px;height:288px;" class="rglWebGL html-widget"></div>
<script type="application/json" data-for="lorenzEq">{"x":{"material":{"color":"#0000FF","alpha":1,"lit":true,"ambient":"#000000","specular":"#FFFFFF","emission":"#000000","shininess":50,"smooth":true,"front":"filled","back":"filled","size":3,"lwd":1,"fog":true,"point_antialias":false,"line_antialias":false,"texture":null,"textype":"rgb","texmipmap":false,"texminfilter":"linear","texmagfilter":"linear","texenvmap":false,"depth_mask":true,"depth_test":"less"},"rootSubscene":1,"objects":{"7":{"id":7,"type":"linestrip","material":{"lit":false},"vertices":[[-9.78335952758789,-11.7267036437988,35.1950302124023],[0.61927056312561,1.99132978916168,20.593822479248],[-10.3754529953003,-14.3783569335938,23.8877601623535],[-3.38662028312683,4.17879581451416,30.8926601409912],[-0.596672534942627,-1.06439280509949,12.2709579467773],[9.13814449310303,9.12703704833984,27.8987522125244],[7.53873491287231,8.31480979919434,24.7238159179688],[8.57281970977783,6.03764533996582,30.1063385009766],[7.50852012634277,11.0240030288696,19.67311668396],[11.9898500442505,1.4250363111496,40.5219421386719],[-1.01067984104156,-1.44522130489349,15.0146913528442],[10.8371772766113,11.1675567626953,29.6639633178711],[3.75280404090881,4.33284711837769,20.2541065216064],[1.28274512290955,2.44665670394897,7.93911695480347],[-8.31327056884766,-8.45437049865723,26.6178531646729],[-8.53921222686768,-8.13484668731689,27.588134765625],[-8.82989883422852,-9.48331356048584,26.5564575195312],[-7.17052936553955,-6.80156898498535,25.947078704834],[-10.8293685913086,-10.1542625427246,30.7646961212158],[-4.03134155273438,-5.1896858215332,19.2231578826904],[-2.63299179077148,-5.06291818618774,7.77892732620239],[8.22294902801514,7.73672914505005,27.3228149414062],[9.36818885803223,9.83802604675293,27.4994621276855],[6.66381502151489,7.05167961120605,24.2401809692383],[10.7684879302979,7.78693389892578,33.0732879638672],[1.79516613483429,2.46032071113586,16.4284076690674],[-12.8226022720337,-13.287239074707,32.2782669067383],[1.05542206764221,3.652188539505,23.5436496734619],[-4.06842851638794,-7.30414915084839,11.3786754608154],[6.75615501403809,3.00510478019714,29.597204208374],[1.36618483066559,2.29027509689331,12.6087913513184],[-10.3604068756104,-8.73331928253174,31.2216320037842],[-4.90381717681885,-6.81987619400024,18.7235240936279],[-12.2108507156372,-20.0952110290527,20.6248321533203],[4.31787919998169,4.50477123260498,21.8182754516602],[9.73735046386719,16.404275894165,17.3436546325684],[-2.70969009399414,-0.765855014324188,24.1274223327637],[7.87742137908936,11.8403463363647,19.6074237823486],[14.7726583480835,5.56937551498413,43.1927604675293],[-4.32049322128296,-6.42768287658691,16.9906387329102],[12.5398397445679,20.3918781280518,21.4229755401611],[-4.28293657302856,-4.54032802581787,21.6359214782715],[-9.53453922271729,-16.2036800384521,16.8365440368652],[2.94214797019958,1.13651728630066,24.073112487793],[-7.55919075012207,-11.9238557815552,17.9309043884277],[15.8065319061279,22.8754024505615,29.3875865936279],[-6.76807641983032,-8.03764247894287,22.9125633239746],[-9.22484111785889,-4.39412593841553,33.0544891357422],[0.700366139411926,1.27540802955627,15.1247434616089],[-10.3472776412964,-10.9875183105469,28.6472434997559],[-4.68040943145752,-5.24835681915283,21.4980583190918],[-13.4661245346069,-18.8568286895752,27.1814403533936],[0.238035336136818,-1.88521492481232,23.0003185272217],[8.63624000549316,12.3175115585327,21.5865097045898],[5.31480169296265,-2.50941014289856,32.2387351989746],[4.35939836502075,6.80935621261597,16.9788589477539],[-12.3978805541992,-20.387378692627,20.8560771942139],[4.60700178146362,4.94396734237671,21.8676204681396],[12.5902795791626,18.6714324951172,24.5041618347168],[-0.699029386043549,1.63925170898438,23.6187763214111],[-8.04940605163574,-11.0285577774048,22.1379547119141],[-5.17466020584106,0.161215454339981,29.9226989746094],[5.83643817901611,7.93071699142456,23.2783813476562],[10.184928894043,5.4992618560791,33.9717330932617],[-1.00999128818512,-1.80538761615753,16.2510738372803],[11.5284976959229,12.4345731735229,29.9312362670898],[1.67118573188782,1.13124477863312,20.4481601715088],[-10.2260990142822,-13.950535774231,24.1055221557617],[-2.45244693756104,2.99586486816406,28.465991973877],[-5.27567005157471,-8.46220207214355,16.1731052398682],[16.4722766876221,15.8445835113525,38.9827537536621],[-2.9933876991272,-3.96963691711426,17.9337863922119],[13.0570793151855,19.0499382019043,25.5415077209473],[-0.728296339511871,1.10158252716064,22.6603717803955],[-7.76264667510986,-9.61873054504395,24.2966995239258],[-6.77349281311035,-4.06825160980225,28.4692573547363],[-6.96159029006958,-11.2465600967407,16.6145668029785],[13.1986074447632,2.8328218460083,41.876163482666],[-2.68500375747681,-4.07013130187988,15.5723190307617],[13.7399816513062,11.271951675415,36.4977684020996],[8.69298458099365,17.1424560546875,9.28859043121338],[-10.6426887512207,-10.3997592926025,30.0328121185303],[-4.51778793334961,-5.63094282150269,20.088981628418],[-12.2982196807861,-19.4695320129395,22.1001091003418],[2.55522084236145,1.88031148910522,21.6782360076904],[-9.12350845336914,-14.4958162307739,18.8890953063965],[7.17240953445435,-3.80311226844788,35.9550857543945],[-2.65235495567322,-4.35634994506836,13.7307071685791],[11.1271286010742,6.17993068695068,35.2944679260254],[-2.58436322212219,-4.20833110809326,19.324577331543],[8.85945510864258,15.3970775604248,15.4138135910034],[-3.55333828926086,-1.94562172889709,24.2309989929199],[4.85938405990601,8.4646635055542,12.9268741607666],[-6.52489948272705,-0.953836977481842,31.1872100830078],[4.93300771713257,7.28960418701172,19.2222919464111],[15.3986082077026,19.5782375335693,32.2099609375],[-2.10587096214294,-2.18666982650757,19.2602634429932],[11.8673791885376,16.4504833221436,25.5104217529297],[-9.66568660736084,-18.4333934783936,11.8002433776855],[9.38496971130371,9.2327823638916,28.3098678588867],[7.25567197799683,8.32752990722656,23.8931732177734],[8.51802921295166,5.00136995315552,31.0651340484619],[4.36854839324951,6.96336507797241,15.3833065032959],[-14.4431896209717,-8.67429256439209,40.2489242553711],[-1.38738405704498,-2.53612470626831,18.4114398956299],[12.4220609664917,15.7662487030029,28.2020530700684],[5.17423439025879,-6.46924781799316,34.9505233764648],[-8.82223701477051,-12.8822154998779,20.9754848480225],[-8.90132904052734,2.51776647567749,37.7767562866211],[2.12790417671204,3.41249346733093,14.0671968460083],[-11.6725120544434,-8.25764846801758,34.6028633117676],[1.12693572044373,2.16496229171753,18.2927875518799],[-11.9606256484985,-14.8049116134644,28.1359710693359],[-0.40999960899353,3.73678159713745,26.2822532653809],[-3.14633393287659,-5.53924560546875,11.949613571167],[8.35867691040039,3.78407454490662,31.9330272674561],[0.114829070866108,0.0839972645044327,14.0405197143555],[-8.50041961669922,-8.26230812072754,29.7833690643311],[-7.82519578933716,-10.0232191085815,22.7895278930664],[-6.03263854980469,-1.78185033798218,29.4917373657227],[2.93340110778809,4.90091705322266,14.1612901687622],[-11.6290283203125,-6.04175758361816,36.4330902099609],[3.39889407157898,6.22012042999268,24.2903232574463],[13.4225778579712,15.6959037780762,31.1268177032471],[18.0598411560059,22.9884510040283,36.305721282959],[-8.62149810791016,-8.57911491394043,27.222713470459],[-8.34594345092773,-8.56902313232422,26.5299510955811],[-8.3835506439209,-7.89546155929565,27.5092887878418],[-9.13348579406738,-9.76292514801025,26.9834022521973],[-6.80559301376343,-6.80649900436401,24.9985656738281],[-11.0268983840942,-9.17094612121582,32.2748680114746],[-2.73285937309265,-3.67315673828125,17.5326080322266],[13.8930320739746,17.8901672363281,29.8042011260986],[0.476948022842407,3.86818861961365,25.0411148071289],[-2.29216170310974,-4.13396978378296,10.7438821792603],[8.71610355377197,5.93711566925049,30.525390625],[6.65977621078491,10.0298700332642,18.3621253967285],[16.3398323059082,21.0257453918457,33.3292655944824],[-5.34002685546875,-6.78842449188232,20.5563812255859],[-14.7904586791992,-12.4672746658325,37.886661529541],[-2.05233216285706,-4.15244722366333,22.1422386169434],[1.23187017440796,2.30516529083252,8.91762256622314],[-8.57273483276367,-8.25155448913574,27.5411033630371],[-8.70366287231445,-9.28328514099121,26.4946975708008],[-7.43323850631714,-6.98802995681763,26.3501720428467],[-10.4940137863159,-10.1642122268677,29.9379825592041],[-4.93024587631226,-6.20034408569336,20.3409690856934],[-15.0027084350586,-18.0033760070801,32.880744934082],[-0.0571931563317776,-1.29143846035004,20.654109954834],[9.14142608642578,11.8046503067017,24.2445869445801],[3.86956334114075,1.28704679012299,25.8817729949951],[-5.55498886108398,-9.18725204467773,15.1996259689331],[11.045916557312,1.39954900741577,38.8129501342773],[2.14265418052673,3.50203466415405,16.8564739227295],[-13.9104089736938,-15.0976057052612,33.1240692138672],[17.7800731658936,9.53615379333496,47.0365447998047],[-8.62682247161865,-9.20559692382812,26.3973693847656],[-7.52928972244263,-6.98324823379517,26.5946578979492],[-10.4425315856934,-10.425838470459,29.5052433013916],[-4.94425964355469,-6.02057695388794,20.7883396148682],[-14.8734340667725,-17.2666244506836,33.3428649902344],[-0.733292818069458,-2.53257584571838,21.7941951751709],[9.54817962646484,14.5958251953125,20.4626445770264],[-17.5043182373047,-21.1954078674316,36.5606994628906],[7.51539993286133,8.94140625,23.662088394165],[7.53643465042114,3.99212837219238,30.1081409454346],[3.9700710773468,6.55055379867554,14.2061309814453],[-10.8767137527466,-3.37954354286194,37.0644798278809],[0.197335973381996,-9.51482963562012,31.6831836700439],[-9.8512077331543,-10.1735715866089,28.3175201416016],[-5.9897894859314,-6.80285024642944,22.6954898834229],[-12.0567665100098,-7.90599632263184,35.7402801513672],[2.64889240264893,4.57292890548706,21.2863826751709],[1.43727195262909,2.71685099601746,8.38289737701416],[-8.47410678863525,-8.22965049743652,27.3195304870605],[-8.77318286895752,-9.12630081176758,26.8898620605469],[-7.65465259552002,-7.56209754943848,26.1254425048828],[-9.74887180328369,-8.84583377838135,29.6540832519531],[-6.82640790939331,-8.76273250579834,21.7772960662842],[-8.50949859619141,-2.25625252723694,33.575080871582],[4.2070426940918,6.26453113555908,19.8644695281982],[12.9731035232544,20.0264568328857,23.7079467773438],[-2.60480880737305,-2.19341778755188,21.1521816253662],[9.32267475128174,15.0021934509277,18.6350231170654],[-3.74855780601501,3.53513240814209,30.8338565826416],[-2.92547631263733,-4.91966867446899,13.8722333908081],[11.1284885406494,5.47884321212769,35.8878211975098],[-3.45618748664856,-5.55884075164795,21.9065971374512],[-12.1649017333984,-18.6526832580566,22.9995746612549],[1.19413125514984,-0.763055741786957,23.1782913208008],[6.23579931259155,9.90070152282715,28.8718357086182],[7.79128742218018,8.14241695404053,25.667142868042],[8.91610050201416,7.43303203582764,29.3259906768799],[8.43122959136963,10.925009727478,23.1937561035156],[4.86417627334595,1.27490746974945,27.8557758331299],[-4.47325086593628,-7.36165523529053,14.9807481765747],[12.7166442871094,4.8526930809021,39.534595489502],[2.71892070770264,4.38580513000488,19.404993057251],[-7.45417928695679,-13.3961124420166,13.0138053894043],[4.62701892852783,3.11342978477478,24.9969024658203],[3.92489743232727,7.02097368240356,11.3938512802124],[-6.94671726226807,-3.0930814743042,29.8764514923096],[-1.33991324901581,-2.23111581802368,12.7627267837524],[10.4391422271729,8.9027214050293,31.2232627868652],[4.75639390945435,6.57299280166626,18.7211952209473],[10.5783815383911,18.3670291900635,16.9039478302002],[-4.86923265457153,-4.82971000671387,22.8715419769287],[-12.8540077209473,-17.9728183746338,26.4546775817871],[0.487085461616516,-4.24919939041138,27.0389995574951],[0.290659695863724,0.533944308757782,10.7869071960449],[-7.77292966842651,-7.42147445678711,26.8396644592285],[-9.88667297363281,-9.88655471801758,28.7612762451172],[-6.18458652496338,-7.31540203094482,22.3759365081787],[-11.1251430511475,-5.92744159698486,35.5019264221191],[2.93572878837585,4.71687650680542,20.0982265472412],[-1.32450437545776,-2.52943515777588,7.92425155639648],[8.33093738555908,8.44772720336914,26.6713981628418],[8.54781818389893,8.20037174224854,27.5260982513428],[8.76609325408936,9.34181213378906,26.5802555084229],[7.36074352264404,7.00024557113647,26.1521148681641],[10.5182209014893,9.92782306671143,30.2668991088867],[4.90365552902222,6.31440162658691,19.9779796600342],[14.9305286407471,18.9830894470215,31.5331077575684],[-0.777338147163391,0.00086902518523857,20.1188449859619],[8.0025806427002,9.12594032287598,26.0687465667725],[7.77482080459595,6.70930814743042,27.5395641326904],[10.3535451889038,11.7493228912354,27.6215400695801],[3.88207340240479,3.66330933570862,22.1199569702148],[3.0841851234436,5.73194313049316,9.5022668838501],[-7.67152690887451,-5.67402362823486,28.5541877746582],[-9.6985445022583,-13.2675333023071,23.3950157165527],[-2.92673921585083,2.2374804019928,28.386079788208],[-6.23818063735962,-9.06662750244141,19.741418838501],[-12.7828931808472,-4.42730379104614,39.9723320007324],[-1.99809229373932,-3.32363986968994,17.8400573730469],[13.4509191513062,16.9522037506104,29.6847057342529],[-4.06249713897705,6.94578742980957,33.873722076416],[9.51503849029541,13.464298248291,22.4219341278076],[4.62320566177368,-3.58499574661255,32.1066780090332],[2.00407004356384,3.40583896636963,13.5306081771851],[-11.112678527832,-7.67162799835205,33.9340324401855],[-0.0732499733567238,0.244292467832565,16.8272819519043],[-8.22987651824951,-8.87709045410156,29.1109085083008],[-7.88205528259277,-9.34970474243164,24.0963191986084],[-6.9692907333374,-4.11206340789795,28.8264808654785],[-6.55309104919434,-10.6127243041992,16.2569675445557],[13.2932891845703,3.36612772941589,41.7061538696289],[-1.93913841247559,-2.87169599533081,15.4732103347778],[12.7404861450195,11.4304752349854,34.0051918029785],[-1.5146632194519,-3.42588400840759,21.7419319152832],[7.20139074325562,12.4741868972778,14.3755655288696],[-3.92673993110657,-0.0706018730998039,27.5073795318604],[6.43806505203247,9.10499382019043,20.6299858093262],[9.98174858093262,1.8067102432251,36.5953063964844],[4.14916563034058,7.1114821434021,25.0853538513184],[12.3304100036621,10.9678134918213,33.4851989746094],[-0.647879183292389,-1.80720388889313,19.7796211242676],[10.6365776062012,14.0754852294922,25.2180576324463],[1.68894350528717,-2.42750954627991,26.640209197998],[6.74867820739746,10.1948947906494,18.7698307037354],[16.5992183685303,13.7452793121338,41.1238021850586],[-3.94818902015686,-5.5049352645874,17.9483337402344],[7.22977066040039,13.3763809204102,11.5646705627441],[-5.91813468933105,-5.2519907951355,25.0048961639404],[-12.6807546615601,-14.840087890625,30.0999145507812],[-0.065408743917942,4.98466205596924,27.3414916992188],[4.48648166656494,7.87636613845825,12.3513059616089],[-6.64800214767456,-1.74259746074677,30.6621227264404],[3.48564720153809,5.62991237640381,15.6237163543701],[-14.6869764328003,-11.4078493118286,38.5697784423828],[-2.12463736534119,-4.03435945510864,21.4731178283691],[3.50522041320801,6.49652433395386,9.78499698638916],[-7.28878498077393,-5.08759737014771,28.3966236114502],[-9.40464782714844,-13.5764389038086,21.8211555480957],[-7.30592489242554,3.65083813667297,36.0517616271973],[2.34855651855469,3.84759378433228,13.6595010757446],[-11.1789836883545,-6.9741792678833,34.7081871032715],[1.43597185611725,2.53680157661438,17.7984180450439],[-12.6694269180298,-15.1798229217529,29.6684265136719],[-0.984876453876495,5.72472095489502,29.2529888153076],[7.20689153671265,11.8916263580322,16.1015739440918],[-7.19819974899292,2.26063418388367,34.9150886535645],[-2.56185436248779,-4.19429349899292,15.3044805526733],[13.3859825134277,10.2139348983765,36.6365928649902],[5.18172883987427,-8.65422248840332,36.3275413513184],[-9.78320693969727,-11.0266952514648,27.0291786193848],[-5.03913021087646,-4.869704246521,23.2837772369385],[-13.0208520889282,-17.4837131500244,27.6775398254395],[1.98837995529175,-5.96608018875122,30.6522216796875],[-7.48562860488892,-12.0886497497559,17.004581451416],[11.5645093917847,0.183516710996628,40.5558128356934],[-2.59932470321655,-4.04249858856201,15.0013847351074],[12.9658794403076,9.36382007598877,36.4468994140625],[-1.90616345405579,-6.86151838302612,27.2893466949463],[-12.1704988479614,-14.8126096725464,28.7005710601807],[-0.220800936222076,3.95851969718933,26.2858428955078],[-1.88805663585663,-3.37775492668152,11.0712947845459],[9.25947856903076,6.79693841934204,30.7963237762451],[6.47570848464966,9.47792053222656,18.9050006866455],[15.7527551651001,10.6810035705566,41.6029472351074],[-2.17959022521973,-2.98257279396057,16.8129444122314],[13.5637369155884,14.611967086792,32.743579864502],[7.97878503799438,-6.75146102905273,38.9534606933594],[-9.57730865478516,-11.7918157577515,25.3558521270752],[-3.92617034912109,-2.36776065826416,24.4598484039307],[2.12221527099609,3.83293581008911,10.6575489044189],[-8.84832954406738,-6.32448863983154,30.4014644622803],[-7.10457754135132,-10.4262390136719,19.3477096557617],[-13.4711170196533,-4.05957841873169,41.5873069763184],[1.28664755821228,1.80856537818909,15.5725975036621],[-11.6080007553101,-11.8317098617554,30.8292942047119],[-1.71085095405579,-1.48306679725647,19.6260604858398],[11.0457353591919,14.8199949264526,25.3587322235107],[2.18242406845093,-4.27505207061768,29.3677234649658],[0.527519881725311,0.947920441627502,11.7126064300537],[-8.75027751922607,-8.72866630554199,27.4448471069336],[-8.14098167419434,-8.55958080291748,26.0052223205566],[-8.36179447174072,-7.31498670578003,28.17751121521],[-9.46247863769531,-11.0752391815186,26.0696353912354],[-4.959876537323,-4.14970874786377,24.2458629608154],[-10.3565826416016,-16.3055000305176,20.2710800170898],[2.3383936882019,-3.44377136230469,28.7623500823975],[4.01283121109009,6.72438383102417,14.1645059585571],[-10.6213188171387,-3.02858328819275,36.8509178161621],[0.400747865438461,-9.65241241455078,31.9603881835938],[-9.70894908905029,-9.98758411407471,28.1866779327393],[-6.29581737518311,-7.09778690338135,23.1045932769775],[-11.1134099960327,-6.84456634521484,34.6810302734375],[1.43422055244446,2.52582693099976,17.7036075592041],[-12.6791524887085,-15.0460653305054,29.8611373901367],[-0.547806799411774,5.43185901641846,28.4387187957764],[6.31321859359741,10.6984548568726,14.5985450744629],[-5.89998149871826,1.13658511638641,31.9972381591797],[-5.44904375076294,-7.66373920440674,23.9589061737061],[-10.8297328948975,-7.01470232009888,33.9314765930176],[0.0331575237214565,0.357894510030746,16.4741306304932],[-8.27161979675293,-8.48507308959961,27.5906829833984],[-8.57928371429443,-9.03737926483154,26.5022678375244],[-7.76083135604858,-7.29375648498535,26.7549343109131],[-10.0249004364014,-10.0040187835693,28.9650630950928],[-5.90806293487549,-7.07347631454468,21.9384498596191],[-12.1509618759155,-7.04473447799683,36.6748962402344],[2.96044206619263,6.55778503417969,25.6524295806885],[12.8655223846436,14.7906856536865,30.6667823791504],[0.140445411205292,-5.43300247192383,27.9441604614258],[-6.77275371551514,-11.4339361190796,15.0202331542969],[5.41098165512085,-1.52509927749634,31.5582523345947],[5.54387426376343,7.69993114471436,22.0593395233154],[11.4738569259644,5.77313899993896,36.3366355895996],[-3.48516583442688,-6.14719676971436,23.9247169494629],[-13.5580310821533,-16.0177536010742,31.1230869293213],[18.6544780731201,19.1543254852295,41.7164497375488],[-8.54074192047119,-8.81908893585205,26.6977443695068],[-8.05749416351318,-7.76057291030884,26.876708984375],[-9.42057037353516,-9.36887836456299,28.2296314239502],[-7.11050510406494,-8.09553909301758,23.8445739746094],[-8.91589641571045,-5.2702522277832,31.6115455627441],[-3.60044121742249,-5.68971061706543,15.185076713562],[13.8082723617554,8.66879749298096,38.8748664855957],[2.8687801361084,5.34442329406738,23.2224559783936],[10.9231052398682,17.3251571655273,20.5875549316406],[-1.49964880943298,1.58508050441742,25.1771717071533],[-7.2714056968689,-9.6637487411499,22.5336055755615],[-6.79032373428345,-1.86527121067047,30.8015766143799],[3.27305889129639,5.31162929534912,15.4437732696533],[-14.1811208724976,-10.3198766708374,38.3390884399414],[-2.57790446281433,-5.46148490905762,24.1615562438965],[-11.1250600814819,-17.1619319915771,21.6883335113525],[1.51001584529877,-3.19697546958923,27.2851791381836],[5.1561131477356,8.52824974060059,15.0270576477051],[-11.4928073883057,-2.3229992389679,38.9912147521973],[-2.5424792766571,-4.08155918121338,17.8399124145508],[13.5187282562256,18.7084941864014,27.5632076263428],[-0.0720096230506897,2.27109789848328,23.3624076843262],[-8.50152492523193,-12.7974081039429,20.0294990539551],[-16.2839508056641,-9.16513061523438,43.9282836914062],[5.99028253555298,8.45747947692871,19.2939624786377],[15.0449199676514,9.76358795166016,40.7246475219727],[0.0941441506147385,0.561433136463165,17.3128623962402],[-8.50133609771729,-9.30033683776855,26.5114650726318],[-7.49255466461182,-6.98357439041138,26.5034656524658],[-10.4646673202515,-10.332498550415,29.6700954437256],[-4.94083261489868,-6.091872215271,20.6210041046143],[-14.9377040863037,-17.4787292480469,33.2861518859863],[-0.526034355163574,-2.11075925827026,21.3226013183594],[9.94818592071533,14.2704610824585,22.6024990081787],[7.3495397567749,-4.15001964569092,36.4487800598145],[-4.26286125183105,-6.93906545639038,14.7465972900391],[12.2068157196045,4.47290372848511,38.8071784973145],[3.43839478492737,5.486243724823,21.6027240753174],[11.3946599960327,18.2590522766113,20.720832824707],[-1.93824946880341,-0.321879059076309,23.0259437561035],[8.23907470703125,11.2199010848999,22.4061851501465],[4.82222270965576,-0.0734328776597977,29.2358512878418],[-5.97901773452759,-8.18780708312988,21.995735168457],[-10.1711149215698,-3.9820773601532,35.2423782348633],[3.79977583885193,5.8267388343811,21.2606506347656],[13.2024984359741,19.2616672515869,25.7154293060303],[-0.916393160820007,0.60970151424408,22.1383399963379],[-5.23825407028198,-10.9161653518677,30.0498352050781],[-6.92917156219482,-7.32267904281616,24.5521678924561],[-10.2170705795288,-7.45396375656128,32.2001762390137],[-3.65778541564941,-5.38756370544434,16.754280090332],[14.9072179794312,19.2990741729736,31.0839290618896],[-1.11359703540802,-0.515171647071838,19.970193862915],[9.15534687042236,11.5132064819336,24.7679824829102],[4.26619434356689,2.28612089157104,25.35862159729],[-1.49206626415253,-2.68359756469727,10.8203935623169],[9.34202861785889,7.72461175918579,29.9846172332764],[7.46824836730957,10.0727081298828,21.4867000579834],[6.70738458633423,0.247165694832802,32.1329345703125],[-5.14961767196655,-7.77048254013062,25.2181282043457],[-10.7717247009277,-8.21648025512695,32.6607894897461],[-2.54143142700195,-3.55721783638,16.8104228973389],[14.1387119293213,15.4828042984009,33.3094329833984],[-2.60184240341187,7.51863956451416,32.5753898620605],[10.3835372924805,13.7466259002686,24.8525333404541],[1.94333112239838,-1.92245423793793,26.4313659667969],[6.95683288574219,9.71374607086182,21.1227245330811],[7.91630506515503,0.543570518493652,33.9416275024414],[19.2033729553223,23.3875312805176,39.2866973876953],[-8.89678287506104,-6.46206092834473,30.3532276153564],[-7.22931003570557,-10.5096817016602,19.6738109588623],[-11.5648612976074,-1.36551356315613,39.7808990478516],[-0.426673591136932,-0.861745774745941,15.3954477310181],[9.42810535430908,10.2410373687744,27.2804832458496],[6.15865850448608,6.32155179977417,23.9983329772949],[12.2194995880127,10.1151924133301,34.0676383972168],[-0.902213573455811,-2.04951453208923,19.3804836273193],[11.2481775283813,14.8455171585083,25.9539623260498],[1.63204300403595,-4.05413675308228,28.4044303894043],[1.62297558784485,2.85889840126038,11.813286781311],[-9.85923671722412,-7.59438276290894,31.2835636138916],[-5.46578788757324,-7.91827249526978,18.3562908172607],[-14.2498111724854,-21.5083694458008,25.9940319061279],[4.45100164413452,5.17360353469849,20.8757858276367],[11.9573783874512,18.8776874542236,21.8210296630859],[-1.96318852901459,-0.70265007019043,22.3613548278809],[8.88878440856934,12.5265760421753,22.091178894043],[4.4135890007019,-2.33929228782654,30.7439823150635],[5.32637405395508,7.96821546554565,18.6432571411133],[15.405161857605,20.7033653259277,30.8734722137451],[-3.52915954589844,-4.22410154342651,19.6516609191895],[3.56264781951904,6.7318263053894,8.89094829559326],[-7.48905897140503,-6.12198638916016,27.6059188842773],[-10.6821842193604,-12.89342212677,26.9988269805908],[-2.34705924987793,-1.03602397441864,22.7635765075684],[8.7750415802002,13.1068096160889,20.4691162109375],[14.6063032150269,4.28316307067871,43.7069664001465],[-5.71406888961792,-8.38945388793945,18.2522716522217],[-14.6713981628418,-21.7156810760498,27.1533451080322],[4.71809339523315,5.6142725944519,20.8624038696289],[14.0478191375732,19.0722370147705,28.7410583496094],[-0.354611098766327,1.16493618488312,21.7408294677734],[-8.30699348449707,-10.5451860427856,23.9648571014404],[-5.42824554443359,-2.67432546615601,27.3226222991943],[-1.61606621742249,-2.82802987098694,11.4660472869873],[9.65607261657715,7.55546617507935,30.8734970092773],[6.21378803253174,8.87045669555664,19.2456150054932],[14.7112855911255,8.26345348358154,41.1426010131836],[-0.0604771636426449,0.265595287084579,16.8438243865967],[-8.24301528930664,-8.68240261077881,28.7723731994629],[-8.17719459533691,-9.50778388977051,24.7134799957275],[-6.8493185043335,-4.71867322921753,27.8727283477783],[-9.52853870391846,-14.037525177002,21.4167251586914],[-14.6926050186157,-3.83257722854614,44.1714820861816],[6.66887760162354,9.53104496002197,19.591724395752],[12.4053354263306,3.28602457046509,40.0428619384766],[1.41899955272675,2.4377293586731,16.7200298309326],[-12.5981426239014,-13.5584621429443,31.400505065918],[0.682685792446136,3.05348300933838,23.1621036529541],[-7.30878591537476,-12.2196626663208,15.7860069274902],[5.35384559631348,-2.17854261398315,32.024787902832],[4.91091203689575,7.38731908798218,18.4593715667725],[11.8105545043945,19.909948348999,19.2861423492432],[-4.94980478286743,-5.25459098815918,22.3392448425293],[-13.8576564788818,-17.4257469177246,30.275707244873],[-0.227706715464592,-4.95140838623047,26.9158210754395],[-4.64936017990112,-8.18120002746582,12.3347854614258],[6.39009141921997,1.66251492500305,30.2707138061523],[-3.51796221733093,-5.71327924728394,15.3790321350098],[14.2099552154541,9.75394535064697,38.8748435974121],[2.59024500846863,4.77415561676025,22.3185863494873],[5.50915908813477,10.0475635528564,11.262412071228],[-5.59714460372925,-3.34258699417114,26.8546714782715],[-5.55332326889038,-9.51413917541504,13.7725353240967],[6.29201793670654,-0.175520524382591,31.8058528900146],[-3.67349243164062,-9.25210189819336,28.730396270752],[-9.46414089202881,-9.03707313537598,28.7433776855469],[-7.2933464050293,-8.70731449127197,23.3784141540527],[-7.91702222824097,-3.91343021392822,30.9429931640625],[-2.20368695259094,-3.59782385826111,13.6789112091064],[11.2457466125488,7.43314695358276,34.4369506835938],[-0.873575508594513,-1.70418393611908,17.437219619751],[11.3254957199097,13.2293462753296,28.4122257232666],[1.45411884784698,0.170497760176659,22.0081520080566],[-8.22750949859619,-10.5240154266357,23.7658500671387],[-5.43941926956177,-2.45495438575745,27.6071586608887],[-0.376436114311218,-0.637038052082062,11.5053195953369],[8.18818950653076,8.05578804016113,26.9844493865967],[9.06048011779785,9.05442523956299,27.7196178436279],[7.66205644607544,8.30831050872803,25.0757312774658],[8.61712455749512,6.48570871353149,29.7161674499512],[8.27385139465332,11.5539379119873,21.5189266204834],[5.37244081497192,-1.54968810081482,31.5187187194824],[5.54845666885376,7.71252155303955,21.9618434906006],[11.5273036956787,5.73536443710327,36.4754295349121],[-3.41807389259338,-6.46646881103516,24.8151531219482],[-13.2185335159302,-14.5443468093872,31.9006443023682],[-0.721908390522003,6.4566330909729,29.6417617797852],[9.7752857208252,14.6111640930176,21.2626304626465],[9.02021503448486,17.2139320373535,11.269193649292],[-8.86587047576904,-8.91130256652832,27.4113883972168],[-7.89920282363892,-8.28629112243652,25.7490634918213],[-8.71768951416016,-7.34600639343262,28.9700469970703],[-8.84179973602295,-11.1493673324585,24.1216945648193],[-4.61626434326172,-2.10339021682739,26.3578510284424],[1.74157798290253,3.08945918083191,11.4641542434692],[-9.58642578125,-7.19346809387207,31.0978870391846],[-5.90134048461914,-8.61379051208496,18.5223026275635],[-16.2825927734375,-19.089714050293,35.2936782836914],[3.56433367729187,4.55625057220459,18.9080333709717],[-5.87452554702759,-10.9226217269897,10.5800294876099],[6.05513286590576,4.80291318893433,25.9736347198486],[11.6362524032593,15.6647396087646,25.9196186065674],[6.77741432189941,-5.60283136367798,36.5581207275391],[-7.84987115859985,-11.802939414978,19.3579692840576],[-16.4443836212158,-10.7187070846558,43.1511268615723],[5.24182510375977,7.44548654556274,18.5874938964844],[14.2269077301025,21.2225799560547,26.3343887329102],[-3.90501713752747,-4.43775463104248,20.5702323913574],[-4.19375514984131,-7.87026453018188,9.41158962249756],[6.98449420928955,5.42864465713501,27.3097648620605],[10.9768896102905,14.1442966461182,26.0993480682373],[1.27907252311707,-2.15575981140137,25.5836696624756],[7.31750679016113,10.7210531234741,19.9662322998047],[10.2540607452393,0.0516738444566727,38.3284912109375],[1.50313758850098,2.53530859947205,15.6555624008179],[-12.3891191482544,-11.8976516723633,32.6846542358398],[0.437031924724579,1.71003687381744,20.4271030426025],[-10.0866394042969,-13.5477828979492,24.3165855407715],[-2.2798752784729,1.90545988082886,26.9769020080566],[-6.76260137557983,-9.36485290527344,21.3108005523682],[-8.25301456451416,-1.17624461650848,34.013298034668],[4.23467016220093,7.97045850753784,26.65012550354],[10.9072761535645,9.64959812164307,31.4985122680664],[3.59420537948608,4.79009246826172,18.3692665100098],[-8.17884731292725,-14.7264709472656,13.4187431335449],[4.88523054122925,4.00883340835571,24.2767105102539],[9.59827709197998,15.559118270874,18.6011657714844],[-2.52881813049316,2.54915595054626,28.1063899993896],[-6.09525966644287,-9.2698917388916,18.2663993835449],[-15.5665349960327,-21.6747817993164,30.1603031158447],[5.03837251663208,6.22312641143799,20.6879386901855],[15.0277395248413,16.266845703125,34.8302688598633],[1.05239260196686,2.87848258018494,21.7055320739746],[-9.14962673187256,-14.6370096206665,18.6863079071045],[5.37708187103271,-3.93209147453308,33.4422149658203],[-0.200697243213654,-0.284434020519257,12.8645105361938],[8.07566070556641,7.54480600357056,27.7959575653076],[9.52393054962158,10.5495319366455,26.9693984985352],[5.72189044952393,5.63573932647705,23.8997802734375],[13.2149343490601,13.4343910217285,33.1039199829102],[-1.04599261283875,-5.35686445236206,26.3506546020508],[-8.08866119384766,-13.4862928390503,16.3831977844238],[3.86370706558228,-2.11307454109192,29.7021293640137],[5.87801027297974,8.43191909790039,20.1441593170166],[12.7900686264038,5.33012342453003,39.328971862793],[3.00930404663086,4.85165214538574,20.5147266387939],[2.0015344619751,3.80892157554626,8.15832233428955],[-8.38773918151855,-7.85092115402222,27.5840911865234],[-9.16574954986572,-9.88923740386963,26.8993835449219],[-6.63537931442261,-6.56639957427979,24.9063053131104],[-11.4429359436035,-9.78596210479736,32.6042633056641],[-1.65843331813812,-1.94747352600098,17.7687950134277],[12.2529258728027,14.629469871521,29.1925067901611],[-0.0193165689706802,-3.68241953849792,25.5277118682861],[3.44236302375793,6.08677673339844,11.8367767333984],[-7.84074926376343,-3.31036019325256,31.3842010498047],[0.145178720355034,0.326319843530655,13.6970252990723],[-8.18879222869873,-7.82710313796997,27.7803153991699],[-9.23372364044189,-10.1094665527344,26.7832832336426],[-6.33419895172119,-6.16649723052979,24.7127075195312],[-12.1336832046509,-11.0521430969238,32.9322395324707],[-0.0200540740042925,0.782744526863098,19.2443180084229],[-8.53516292572021,-9.99985980987549,25.5353851318359],[-6.41561651229858,-5.12650537490845,26.3838710784912],[-11.649486541748,-14.9174766540527,27.0337944030762],[-0.994430422782898,3.9905321598053,27.4499320983887],[-1.88945007324219,-3.3438515663147,11.5709428787231],[9.55461978912354,6.81940889358521,31.4125518798828],[5.26936054229736,7.87687063217163,17.5284957885742],[1.19888269901276,2.37566947937012,5.98915433883667],[-7.81085205078125,-9.04548931121826,24.3885860443115],[-7.44599485397339,-4.79086685180664,29.0664844512939],[-7.87613916397095,-12.0947017669678,18.8084468841553],[-10.3446226119995,-18.9983139038086,14.2188062667847],[7.86210632324219,8.12864971160889,25.8746967315674],[8.95006370544434,7.70390844345093,29.0928382873535],[8.45141887664795,10.640923500061,23.734561920166],[5.21124458312988,2.28512096405029,27.3502025604248],[-0.477759927511215,-0.862204790115356,11.50110912323],[8.53607749938965,8.50276470184326,27.2120800018311],[8.46005439758301,8.66286945343018,26.6987972259521],[8.26290702819824,7.95629930496216,27.1329498291016],[9.13908958435059,9.33722019195557,27.5570526123047],[7.32515621185303,7.80937051773071,24.8982563018799],[9.37914848327637,6.96320915222168,30.8745193481445],[6.33248233795166,9.2388162612915,18.8650054931641],[15.9586620330811,11.8661823272705,41.1391716003418],[-2.17609238624573,-2.92617607116699,17.0294342041016],[13.5319442749023,15.0594034194946,32.1644439697266],[13.3002595901489,-1.62925457954407,44.770694732666],[-8.98413181304932,-10.5236654281616,25.5067539215088],[-5.63899230957031,-4.44226884841919,25.4847202301025],[-11.2065649032593,-16.2025871276855,23.6513919830322],[18.1671123504639,17.974967956543,41.4626655578613],[-8.02064800262451,-9.37838268280029,24.4593505859375],[-6.98260164260864,-4.53762626647949,28.3718299865723],[-8.43788623809814,-12.9578132629395,19.278263092041],[-3.61564993858337,-7.26569604873657,5.69560098648071],[9.25602054595947,10.315016746521,26.56520652771],[6.04533767700195,5.70004081726074,24.661262512207],[12.715238571167,12.9939441680908,32.3109474182129],[-0.950164914131165,-3.11929178237915,22.6332359313965],[7.51660013198853,12.6369228363037,15.7207822799683],[-4.44845962524414,1.87881803512573,30.3795185089111],[-5.77510833740234,-8.09921932220459,21.0668773651123],[-11.5892314910889,-4.65563488006592,37.4566612243652],[6.97618722915649,-9.07043552398682,38.8511238098145],[-8.87150192260742,-9.05506324768066,27.2381057739258],[-7.73243427276611,-7.95711946487427,25.7750930786133],[-9.18915367126465,-7.81982374191284,29.5137939453125],[-7.94822883605957,-10.3269653320312,22.656192779541],[-5.66790342330933,-1.28888165950775,29.330846786499],[4.23603963851929,6.82400274276733,15.7453336715698],[-15.4397230148315,-12.3109827041626,39.5576553344727],[-0.225706860423088,-0.883969485759735,18.1243019104004],[9.16182994842529,10.7542972564697,25.9467163085938],[5.42659616470337,4.54850339889526,24.8135395050049],[11.83899974823,16.6985340118408,25.0157222747803],[-15.0239820480347,-2.93809938430786,45.394775390625],[8.31369972229004,10.6965808868408,23.2044219970703],[5.13510704040527,1.56177926063538,28.0439853668213],[-3.52821373939514,-5.94219207763672,13.8628425598145],[10.534987449646,3.76627016067505,36.1149978637695],[-3.41856074333191,-7.51013135910034,26.6657085418701],[-11.8080825805664,-11.4141712188721,31.7630233764648],[-1.17667126655579,-0.867316842079163,19.1338958740234],[10.0511264801025,12.6446285247803,25.6256141662598],[2.84664082527161,0.98100084066391,24.099006652832],[-7.73733806610107,-11.9655790328979,18.6693305969238],[-8.26483058929443,-15.7711887359619,10.7333087921143],[8.26840686798096,8.38059997558594,26.5854110717773],[8.63398361206055,8.19452476501465,27.7459259033203],[8.71609973907471,9.51764869689941,26.2036437988281],[7.09264135360718,6.41028165817261,26.2887706756592],[11.20814037323,11.4512634277344,30.2290363311768],[2.83210206031799,3.11239314079285,19.7351512908936],[-9.92239761352539,-16.3530120849609,18.3254699707031],[2.16705346107483,-0.688079237937927,25.1755046844482],[-6.11131906509399,-9.39951133728027,28.1058521270752],[-8.42345333099365,-8.29752159118652,27.0900917053223],[-8.71719169616699,-8.82145118713379,27.1491050720215],[-8.04221343994141,-8.18660354614258,26.2642707824707],[-8.88790130615234,-8.08776092529297,28.4926414489746],[-8.5186653137207,-10.0573682785034,24.8623332977295],[-6.13965559005737,-4.30565309524536,26.8201484680176],[-9.75845909118652,-14.7724866867065,20.8878479003906],[15.4012403488159,23.860013961792,26.639799118042],[-7.87260341644287,-8.58944225311279,25.2380619049072],[-8.22527694702148,-6.35075664520264,28.9994258880615],[-9.25104236602783,-12.3549518585205,23.4453105926514],[-3.35674142837524,0.499572932720184,27.1522331237793],[6.51525783538818,8.45196151733398,24.329906463623],[8.88556957244873,5.47780132293701,31.3438472747803],[4.47205924987793,7.02108287811279,15.8375625610352],[-15.758279800415,-13.4778881072998,39.3173789978027],[0.550849497318268,0.288833498954773,17.8226642608643],[-8.55344772338867,-9.56313419342041,26.2381954193115],[-7.10941171646118,-6.38909339904785,26.3583507537842],[-11.2032051086426,-11.5638027191162,30.0856094360352],[-2.79938840866089,-3.0127055644989,19.8671817779541],[9.87921524047852,16.2396774291992,18.3801879882812],[-2.13996410369873,0.973901152610779,25.5274314880371],[-3.26064777374268,-11.0980072021484,30.7160453796387],[-7.37567138671875,-7.40219593048096,25.6288375854492],[-10.0055875778198,-8.53819274902344,30.5985946655273],[-6.01050138473511,-8.21722030639648,19.9339027404785],[-13.3301153182983,-6.26781606674194,39.7275314331055],[-2.55734896659851,-4.21401214599609,19.7247409820557],[7.31626081466675,13.1135282516479,13.0399990081787],[-4.52663803100586,-2.78624296188354,25.2367935180664],[-1.74399816989899,-3.14101529121399,10.4808034896851],[9.07350540161133,7.1979398727417,29.9562377929688],[7.78676176071167,10.679801940918,21.4470634460449],[6.07236385345459,-0.521570146083832,31.7449626922607],[-19.5724430084229,-22.1882095336914,41.5014457702637],[8.75265598297119,6.01987600326538,30.510498046875],[6.74523210525513,10.1082639694214,18.5518054962158],[16.8779582977295,17.7200450897217,38.2901954650879],[-4.70388984680176,-6.30807542800903,19.1834087371826],[-12.2376556396484,-19.8717021942139,21.1439781188965],[3.67097401618958,3.58975458145142,21.6134624481201],[0.541367471218109,1.01631510257721,8.55648899078369],[-7.55404710769653,-7.72404193878174,25.7124881744385],[-9.53936958312988,-8.09614562988281,30.0107555389404],[-7.15886402130127,-9.5716667175293,21.366174697876],[-7.54891538619995,-0.784765362739563,33.1121101379395],[4.91109228134155,7.53265476226807,24.9200572967529],[11.3021440505981,8.69497776031494,33.3691825866699],[0.970654249191284,1.05520987510681,17.1025238037109],[-10.4980850219727,-12.1514120101929,27.5693035125732],[-3.30834436416626,-2.80557990074158,22.0744762420654],[4.37239789962769,7.93422174453735,11.0231924057007],[-6.39165592193604,-3.30439233779907,28.5506725311279],[-3.867751121521,-6.58708333969116,13.1656446456909],[8.71144580841064,2.29090404510498,33.9153137207031],[-4.32675552368164,-6.39076089859009,20.7810382843018],[-14.8420753479004,-17.9569816589355,32.4783821105957],[-0.291322559118271,-1.7896454334259,21.2390823364258],[9.68748569488525,13.3863391876221,23.27659034729],[3.06988835334778,-2.5902144908905,28.9684371948242],[5.7403244972229,8.75943851470947,18.0337162017822],[12.4984636306763,20.9549503326416,20.2250385284424],[-5.81440162658691,-6.46070861816406,22.7713985443115],[-12.7444715499878,-9.52488994598389,35.8069114685059],[2.53727531433105,5.21021604537964,23.676830291748],[9.75175285339355,16.0492706298828,18.2109279632568],[-2.19887971878052,1.08453226089478,25.7900676727295],[-6.0497670173645,-9.27849388122559,27.9082221984863],[-8.57998180389404,-8.29954433441162,27.4792919158936],[-8.65549087524414,-9.16606616973877,26.5275135040283],[-7.59139585494995,-7.16351795196533,26.507776260376],[-10.2371501922607,-9.98324584960938,29.5167503356934],[-5.54658031463623,-6.87955284118652,21.1028366088867],[-13.77623462677,-9.640793800354,38.0029106140137],[-1.63472664356232,-7.18871688842773,27.9496078491211],[-11.9529085159302,-14.1445903778076,28.94065284729],[-0.215417966246605,2.30129313468933,23.7403869628906],[-8.25164318084717,-12.4796762466431,19.7023792266846],[-16.9121398925781,-12.2173194885254,43.0948944091797],[6.00625133514404,8.30317211151123,19.7210998535156],[13.8391084671021,7.06754159927368,40.184684753418],[1.86293125152588,3.19896364212036,18.6054134368896],[-12.716591835022,-17.4591865539551,26.7617855072021],[2.63252019882202,-5.9885687828064,31.4377212524414],[-7.33815908432007,-11.8044872283936,17.0184478759766],[13.4558906555176,2.93864059448242,42.3047561645508],[-3.55250144004822,-5.4066424369812,16.0213222503662],[15.2267732620239,14.4181280136108,37.1665840148926],[1.18247091770172,2.67395997047424,20.5231800079346],[-10.6974906921387,-15.9398822784424,22.3075370788574],[14.3659868240356,2.2677583694458,44.5025749206543],[-7.71861886978149,-10.5625162124634,21.42995262146],[-6.20956134796143,0.396221607923508,31.861120223999],[-17.2930469512939,-3.56908488273621,49.688533782959],[7.76741647720337,5.93314409255981,28.4610977172852],[9.88607120513916,13.0923566818237,24.2971992492676],[2.52978563308716,-0.985873520374298,26.2674160003662],[-5.81862354278564,11.6739282608032,38.7508506774902],[6.72065019607544,5.67290449142456,26.3782558441162],[11.7277526855469,13.5421190261841,29.0769290924072],[0.731944441795349,-0.901107311248779,22.2479763031006],[7.62885618209839,9.07565593719482,25.4499206542969],[7.81008577346802,6.03861331939697,28.4328155517578],[9.92400932312012,12.9835119247437,24.5903739929199],[2.55174255371094,-0.506312251091003,25.6726131439209],[-6.83084726333618,-8.63661861419678,25.0153980255127],[-8.59534072875977,-6.02961158752441,30.1633415222168],[-7.40164470672607,-10.904727935791,19.4991607666016],[-12.9784650802612,-2.86343097686768,41.4316596984863],[1.67683207988739,2.47038769721985,15.340537071228],[-12.2847805023193,-11.3960676193237,32.9534683227539],[0.308799982070923,1.37039864063263,19.8111305236816],[-9.75432300567627,-12.5006761550903,24.9662132263184],[-3.04616689682007,-0.76779580116272,24.8735733032227],[7.3569974899292,11.2515411376953,18.752311706543],[16.8632278442383,20.572883605957,35.3672142028809],[-6.00702142715454,-7.66835308074951,21.1005363464355],[-11.858736038208,-5.33598136901855,37.4601440429688],[16.415246963501,26.061107635498,27.1603813171387],[-9.52309322357178,-7.7078332901001,30.4005813598633],[-6.89718627929688,-9.55802726745605,20.4320430755615],[-9.32166957855225,-0.740663409233093,36.2166938781738],[-4.40940427780151,-6.55005264282227,22.1527137756348],[-14.2711601257324,-13.4938812255859,35.6789169311523],[1.48530089855194,-7.83127307891846,31.6113109588623],[-10.8152437210083,-13.5319213867188,26.4937705993652],[-1.65764534473419,0.560016632080078,23.904146194458],[6.66301202774048,9.25379085540771,27.8649673461914],[8.37615299224854,8.29659080505371,26.971830368042],[8.72920417785645,8.70726108551025,27.3285636901855],[8.17051887512207,8.49081993103027,26.1791172027588],[8.47023487091064,7.60071563720703,28.0864105224609],[9.23831081390381,10.5978965759277,26.1179752349854],[5.6218409538269,4.91696977615356,24.753267288208],[12.6013231277466,16.0958080291748,28.2761707305908],[13.807692527771,-0.0211257208138704,44.7954216003418],[-8.72080516815186,-10.9171171188354,24.1211948394775],[-4.90411901473999,-2.40948629379272,26.5663166046143],[-0.0754547119140625,-0.1171003729105,11.0072793960571],[8.38534736633301,7.08871555328369,30.1840763092041],[7.86172723770142,10.8851890563965,21.3184051513672],[6.07139682769775,-0.893521904945374,32.0642433166504],[5.15567636489868,8.03327751159668,25.9061603546143],[10.3899688720703,8.37177753448486,31.6514339447021],[4.41975069046021,6.28243446350098,17.9588489532471],[-1.33912909030914,-2.62191224098206,6.64903116226196],[8.0890007019043,8.93243885040283,25.3449687957764],[7.75942802429199,6.09798622131348,28.2487525939941],[10.1143550872803,12.9583721160889,25.2216396331787],[2.48884034156799,0.045932836830616,24.7550640106201],[-7.44395065307617,-10.1248321533203,21.9924411773682],[-6.36266708374023,-0.731678187847137,31.1085109710693],[5.16080570220947,7.47214889526367,20.0500335693359],[15.1173782348633,12.3225793838501,38.7871780395508],[1.29239201545715,2.6122624874115,19.656888961792],[-11.5658893585205,-16.2846584320068,24.7718448638916],[6.72535610198975,13.356388092041,7.66475820541382],[-9.77849864959717,-10.1088008880615,28.2134399414062],[-6.11857652664185,-6.89873933792114,22.9174919128418],[-11.6734428405762,-7.50220203399658,35.2778816223145],[2.16716146469116,3.69598054885864,19.4832782745361],[-10.550389289856,-17.0895462036133,19.5175170898438],[1.83573710918427,-0.813694357872009,24.6926422119141],[-16.097074508667,-27.0839862823486,24.4543743133545],[10.6730337142944,7.14061164855957,33.4829177856445],[0.901406109333038,1.11656892299652,16.1374588012695],[-10.4982309341431,-11.6376056671143,28.2310771942139],[-3.87919616699219,-3.93385052680969,21.5718593597412],[-3.73791575431824,-6.96088218688965,9.6102237701416],[7.15284061431885,5.19847106933594,27.9683666229248],[10.0987787246704,14.0323028564453,23.4582595825195],[3.43195199966431,-3.78356504440308,30.610631942749],[2.22224426269531,3.80397605895996,13.1087818145752],[-10.5898971557617,-6.57734298706055,33.8351974487305],[0.0116589935496449,0.291411101818085,16.1805858612061],[-8.27666091918945,-8.36366367340088,28.1966037750244],[-8.61737823486328,-9.6459493637085,25.7518253326416],[-6.85632610321045,-5.7801513671875,26.5588665008545],[-11.5672855377197,-13.3095951080322,28.9291210174561],[-1.09412372112274,0.258027076721191,21.8823909759521],[7.54856300354004,8.87632846832275,26.5750789642334],[8.34626865386963,7.55377912521362,27.8477306365967],[9.39769840240479,10.5277919769287,26.656078338623],[5.75396013259888,5.45478010177612,24.2729072570801],[13.0978174209595,14.1898136138916,31.9800815582275],[-0.495960295200348,-5.41434144973755,27.1349716186523],[-7.52406978607178,-12.6057224273682,15.7991943359375],[4.60394430160522,-2.0117506980896,30.7391529083252],[5.59136819839478,8.02886199951172,20.1687278747559],[13.7046813964844,7.49280261993408,39.5778999328613],[2.60089707374573,4.37652683258057,20.5291748046875],[-2.97984957695007,-5.60913324356079,8.91477870941162],[7.82207870483398,6.35301351547241,28.0904712677002],[10.1922950744629,12.5809831619263,26.0152454376221],[2.88958549499512,1.33332216739655,23.6229705810547],[-7.67881202697754,-12.2732305526733,17.5872058868408],[15.4319686889648,6.94180059432983,43.6371231079102],[-5.10935544967651,-7.46160507202148,17.9260482788086],[-6.76400995254517,-12.8284387588501,10.1001749038696],[7.08792638778687,6.81193685531616,25.7243938446045],[10.8643617630005,9.8982458114624,31.12961769104],[3.86063432693481,5.06855916976929,18.8044147491455],[-2.38061165809631,-4.58519792556763,7.65358209609985],[8.31412982940674,7.99247598648071,27.2195377349854],[9.08109855651855,9.36757183074951,27.3688220977783],[7.31037998199463,7.63830852508545,25.1132049560547],[9.65421199798584,7.50341939926147,30.9127388000488],[6.16140508651733,8.82746887207031,19.1273860931396],[15.2235050201416,9.7667760848999,41.1203002929688],[-0.654891550540924,-0.620020151138306,16.8756885528564],[9.35598945617676,10.6241445541382,26.6148357391357],[5.64933443069458,5.28843402862549,24.2560958862305],[13.1299238204956,14.9766988754272,31.1676235198975],[1.88990461826324,-6.7758960723877,31.2112216949463],[-9.73846054077148,-14.1987628936768,21.8957443237305],[-11.951397895813,0.762237310409546,41.8363990783691],[6.24073123931885,9.37182903289795,18.1177215576172],[14.5574645996094,22.1975021362305,26.0607433319092],[-5.61124086380005,-6.65271139144897,21.7759418487549],[-13.3394708633423,-9.52398681640625,37.1322746276855],[-18.9074878692627,-14.2010974884033,46.3924560546875],[8.56415843963623,7.95139503479004,27.8796806335449],[8.95245552062988,9.95706272125244,26.2312622070312],[6.50528907775879,5.89310884475708,25.5508880615234],[12.0670909881592,12.5034942626953,31.2067260742188],[0.462649643421173,-0.547222554683685,20.4754524230957],[7.70752334594727,8.9477596282959,27.6518611907959],[8.30912399291992,8.50403213500977,26.5226821899414],[8.46954441070557,7.96908330917358,27.626781463623],[9.01499938964844,9.7501049041748,26.6860065460205],[6.81941843032837,6.57770252227783,25.3692169189453],[11.2910575866699,10.1641893386841,31.8561477661133],[2.49616575241089,3.10541105270386,18.221019744873],[-13.073052406311,-17.7473678588867,27.4850730895996],[0.766160905361176,-5.06496047973633,28.3252506256104],[-4.2218222618103,-7.3638653755188,12.4799385070801],[7.18214178085327,1.87747716903687,31.50417137146],[-3.61729574203491,-5.73235368728638,16.4764671325684],[15.399564743042,17.9593486785889,34.0425682067871],[-0.581884026527405,0.0851525738835335,19.5223197937012],[7.9185791015625,8.8337345123291,27.5014781951904],[8.34948444366455,8.51788234710693,26.6083812713623],[8.45282745361328,8.04387760162354,27.4908275604248],[8.96234703063965,9.53355026245117,26.8393821716309],[7.11414670944214,6.99476909637451,25.5310821533203],[10.6306915283203,9.26064205169678,31.2673950195312],[4.34635639190674,5.92044162750244,18.6417045593262],[4.16074275970459,7.9914493560791,8.27627944946289],[-7.64857292175293,-6.97778177261353,26.8967323303223],[-10.3640270233154,-10.7307624816895,28.9409961700439],[-4.88872528076172,-5.67981243133545,21.3126564025879],[-14.4857606887817,-17.5884552001953,31.8912963867188],[-0.787592709064484,-3.18397641181946,23.1870517730713],[6.80418872833252,11.5754299163818,14.8267841339111],[-4.92851972579956,1.2328085899353,30.5361747741699],[-5.59600496292114,-8.1279296875,25.6189193725586],[-10.0116739273071,-7.72088670730591,31.4788970947266],[-5.05368852615356,-7.33040475845337,18.0266876220703],[-7.56678581237793,-14.166862487793,11.2129468917847],[6.69549751281738,6.47121047973633,25.2047595977783],[11.4977283477783,10.3355598449707,32.1646575927734],[1.84319281578064,2.11284470558167,18.2043113708496],[-12.4049282073975,-15.4774446487427,28.5340347290039],[-2.21796083450317,6.01161336898804,30.9619750976562],[7.54908847808838,12.1308622360229,17.2083511352539],[-13.0076379776001,-2.03701400756836,42.0286102294922],[3.66390347480774,5.61606788635254,15.9330406188965],[-15.2623443603516,-13.9562873840332,37.6829414367676],[-1.11723136901855,-2.48599171638489,20.0965042114258],[11.1276082992554,15.8638525009155,23.9677028656006],[13.7733898162842,23.4416923522949,21.0579376220703],[-8.51900768280029,-8.63471698760986,26.8886013031006],[-8.29759311676025,-8.18327045440674,26.9225921630859],[-8.87811470031738,-8.81095600128174,27.5708065032959],[-8.00150012969971,-8.54158401489258,25.6580657958984],[-8.34846782684326,-6.92238235473633,28.6155319213867],[-9.44192409515381,-11.7599620819092,24.9987144470215],[-3.93894338607788,-2.10285687446594,24.8871021270752],[3.12470889091492,5.55005693435669,11.5675535202026],[-8.11392498016357,-3.97674250602722,31.2714920043945],[-1.75400161743164,-2.82765054702759,13.7453937530518],[11.2911605834961,8.80123329162598,33.2517051696777],[1.15076291561127,1.32179760932922,17.1326885223389],[-11.0963315963745,-12.7940845489502,28.3479747772217],[-2.09002995491028,-1.24058973789215,21.6106662750244],[9.64859676361084,14.0891084671021,21.8513851165771],[11.0615768432617,-1.66678762435913,40.8293952941895],[-5.79506349563599,-8.88305568695068,17.2882614135742],[3.52346897125244,6.96106147766113,6.60700559616089],[-8.66835498809814,-9.05624580383301,26.7135791778564],[-7.74563407897949,-7.48280477523804,26.464656829834],[-9.82846450805664,-9.36560249328613,29.2414016723633],[-6.56287097930908,-8.11191272735596,22.1246643066406],[-9.52821826934814,-3.67580485343933,34.2689895629883],[3.26039385795593,5.06632709503174,18.5447654724121],[-7.40974426269531,-13.5317583084106,12.2749967575073],[5.32252788543701,4.36838865280151,24.824254989624],[11.269115447998,16.6228046417236,23.1688899993896],[-6.90293598175049,5.23929977416992,36.5049133300781],[7.06463956832886,10.9242115020752,17.9753684997559],[2.44861817359924,4.90946435928345,5.53273057937622],[-8.80174541473389,-10.1032009124756,25.6099376678467],[-6.22018718719482,-5.08496046066284,25.9788093566895],[-11.9429979324341,-15.1217908859253,27.628885269165],[-1.0223274230957,4.60660600662231,28.1693744659424],[1.47970068454742,2.6094434261322,11.1679401397705],[-9.52760219573975,-7.82279682159424,30.2990779876709],[-6.97896718978882,-9.57751655578613,20.6996097564697],[-8.64591312408447,-0.565239250659943,35.1774978637695],[-4.45258569717407,-7.51401519775391,25.5644264221191],[-11.5216970443726,-9.71264266967773,32.8604316711426],[-1.2835818529129,-1.39132785797119,17.7336196899414],[11.2717189788818,13.4238739013672,28.0107975006104],[1.36269152164459,-0.195580318570137,22.5120792388916],[-7.59114170074463,-9.11124515533447,25.219970703125],[-7.71664571762085,-5.72289609909058,28.5931415557861],[-9.66982841491699,-13.2008323669434,23.4111995697021],[-2.91858839988708,2.08764314651489,28.2135486602783],[-6.35253047943115,-9.02142715454102,20.4892253875732],[-10.4951791763306,-2.19845366477966,37.2383041381836],[-4.12819957733154,-6.51018381118774,23.3690052032471],[-13.7038173675537,-13.3131084442139,34.4543838500977],[-6.4329195022583,7.72044038772583,37.3742256164551],[9.8001766204834,11.7454090118408,26.0759811401367],[4.02856683731079,3.0041172504425,23.7013816833496],[1.27675187587738,2.34267091751099,9.64950847625732],[-8.84501457214355,-8.12358665466309,28.3640041351318],[-8.55286884307861,-9.96379661560059,25.1028861999512],[-6.31121635437012,-4.68975734710693,26.7139015197754],[-10.7958173751831,-15.2434005737305,23.8167533874512],[-10.840350151062,2.68170714378357,41.0626945495605],[7.44117069244385,10.8581066131592,19.7643337249756],[11.2410907745361,0.738410234451294,39.613109588623],[0.0527867339551449,0.251792550086975,15.0536317825317],[-8.30622959136963,-8.09274959564209,28.4726047515869],[-8.76735782623291,-10.1618003845215,25.4211254119873],[-6.1077094078064,-4.81207942962646,26.0832939147949]],"colors":[[0,0,1,1]],"centers":[[-9.78335952758789,-11.7267036437988,35.1950302124023],[0.61927056312561,1.99132978916168,20.593822479248],[-10.3754529953003,-14.3783569335938,23.8877601623535],[-3.38662028312683,4.17879581451416,30.8926601409912],[-0.596672534942627,-1.06439280509949,12.2709579467773],[9.13814449310303,9.12703704833984,27.8987522125244],[7.53873491287231,8.31480979919434,24.7238159179688],[8.57281970977783,6.03764533996582,30.1063385009766],[7.50852012634277,11.0240030288696,19.67311668396],[11.9898500442505,1.4250363111496,40.5219421386719],[-1.01067984104156,-1.44522130489349,15.0146913528442],[10.8371772766113,11.1675567626953,29.6639633178711],[3.75280404090881,4.33284711837769,20.2541065216064],[1.28274512290955,2.44665670394897,7.93911695480347],[-8.31327056884766,-8.45437049865723,26.6178531646729],[-8.53921222686768,-8.13484668731689,27.588134765625],[-8.82989883422852,-9.48331356048584,26.5564575195312],[-7.17052936553955,-6.80156898498535,25.947078704834],[-10.8293685913086,-10.1542625427246,30.7646961212158],[-4.03134155273438,-5.1896858215332,19.2231578826904],[-2.63299179077148,-5.06291818618774,7.77892732620239],[8.22294902801514,7.73672914505005,27.3228149414062],[9.36818885803223,9.83802604675293,27.4994621276855],[6.66381502151489,7.05167961120605,24.2401809692383],[10.7684879302979,7.78693389892578,33.0732879638672],[1.79516613483429,2.46032071113586,16.4284076690674],[-12.8226022720337,-13.287239074707,32.2782669067383],[1.05542206764221,3.652188539505,23.5436496734619],[-4.06842851638794,-7.30414915084839,11.3786754608154],[6.75615501403809,3.00510478019714,29.597204208374],[1.36618483066559,2.29027509689331,12.6087913513184],[-10.3604068756104,-8.73331928253174,31.2216320037842],[-4.90381717681885,-6.81987619400024,18.7235240936279],[-12.2108507156372,-20.0952110290527,20.6248321533203],[4.31787919998169,4.50477123260498,21.8182754516602],[9.73735046386719,16.404275894165,17.3436546325684],[-2.70969009399414,-0.765855014324188,24.1274223327637],[7.87742137908936,11.8403463363647,19.6074237823486],[14.7726583480835,5.56937551498413,43.1927604675293],[-4.32049322128296,-6.42768287658691,16.9906387329102],[12.5398397445679,20.3918781280518,21.4229755401611],[-4.28293657302856,-4.54032802581787,21.6359214782715],[-9.53453922271729,-16.2036800384521,16.8365440368652],[2.94214797019958,1.13651728630066,24.073112487793],[-7.55919075012207,-11.9238557815552,17.9309043884277],[15.8065319061279,22.8754024505615,29.3875865936279],[-6.76807641983032,-8.03764247894287,22.9125633239746],[-9.22484111785889,-4.39412593841553,33.0544891357422],[0.700366139411926,1.27540802955627,15.1247434616089],[-10.3472776412964,-10.9875183105469,28.6472434997559],[-4.68040943145752,-5.24835681915283,21.4980583190918],[-13.4661245346069,-18.8568286895752,27.1814403533936],[0.238035336136818,-1.88521492481232,23.0003185272217],[8.63624000549316,12.3175115585327,21.5865097045898],[5.31480169296265,-2.50941014289856,32.2387351989746],[4.35939836502075,6.80935621261597,16.9788589477539],[-12.3978805541992,-20.387378692627,20.8560771942139],[4.60700178146362,4.94396734237671,21.8676204681396],[12.5902795791626,18.6714324951172,24.5041618347168],[-0.699029386043549,1.63925170898438,23.6187763214111],[-8.04940605163574,-11.0285577774048,22.1379547119141],[-5.17466020584106,0.161215454339981,29.9226989746094],[5.83643817901611,7.93071699142456,23.2783813476562],[10.184928894043,5.4992618560791,33.9717330932617],[-1.00999128818512,-1.80538761615753,16.2510738372803],[11.5284976959229,12.4345731735229,29.9312362670898],[1.67118573188782,1.13124477863312,20.4481601715088],[-10.2260990142822,-13.950535774231,24.1055221557617],[-2.45244693756104,2.99586486816406,28.465991973877],[-5.27567005157471,-8.46220207214355,16.1731052398682],[16.4722766876221,15.8445835113525,38.9827537536621],[-2.9933876991272,-3.96963691711426,17.9337863922119],[13.0570793151855,19.0499382019043,25.5415077209473],[-0.728296339511871,1.10158252716064,22.6603717803955],[-7.76264667510986,-9.61873054504395,24.2966995239258],[-6.77349281311035,-4.06825160980225,28.4692573547363],[-6.96159029006958,-11.2465600967407,16.6145668029785],[13.1986074447632,2.8328218460083,41.876163482666],[-2.68500375747681,-4.07013130187988,15.5723190307617],[13.7399816513062,11.271951675415,36.4977684020996],[8.69298458099365,17.1424560546875,9.28859043121338],[-10.6426887512207,-10.3997592926025,30.0328121185303],[-4.51778793334961,-5.63094282150269,20.088981628418],[-12.2982196807861,-19.4695320129395,22.1001091003418],[2.55522084236145,1.88031148910522,21.6782360076904],[-9.12350845336914,-14.4958162307739,18.8890953063965],[7.17240953445435,-3.80311226844788,35.9550857543945],[-2.65235495567322,-4.35634994506836,13.7307071685791],[11.1271286010742,6.17993068695068,35.2944679260254],[-2.58436322212219,-4.20833110809326,19.324577331543],[8.85945510864258,15.3970775604248,15.4138135910034],[-3.55333828926086,-1.94562172889709,24.2309989929199],[4.85938405990601,8.4646635055542,12.9268741607666],[-6.52489948272705,-0.953836977481842,31.1872100830078],[4.93300771713257,7.28960418701172,19.2222919464111],[15.3986082077026,19.5782375335693,32.2099609375],[-2.10587096214294,-2.18666982650757,19.2602634429932],[11.8673791885376,16.4504833221436,25.5104217529297],[-9.66568660736084,-18.4333934783936,11.8002433776855],[9.38496971130371,9.2327823638916,28.3098678588867],[7.25567197799683,8.32752990722656,23.8931732177734],[8.51802921295166,5.00136995315552,31.0651340484619],[4.36854839324951,6.96336507797241,15.3833065032959],[-14.4431896209717,-8.67429256439209,40.2489242553711],[-1.38738405704498,-2.53612470626831,18.4114398956299],[12.4220609664917,15.7662487030029,28.2020530700684],[5.17423439025879,-6.46924781799316,34.9505233764648],[-8.82223701477051,-12.8822154998779,20.9754848480225],[-8.90132904052734,2.51776647567749,37.7767562866211],[2.12790417671204,3.41249346733093,14.0671968460083],[-11.6725120544434,-8.25764846801758,34.6028633117676],[1.12693572044373,2.16496229171753,18.2927875518799],[-11.9606256484985,-14.8049116134644,28.1359710693359],[-0.40999960899353,3.73678159713745,26.2822532653809],[-3.14633393287659,-5.53924560546875,11.949613571167],[8.35867691040039,3.78407454490662,31.9330272674561],[0.114829070866108,0.0839972645044327,14.0405197143555],[-8.50041961669922,-8.26230812072754,29.7833690643311],[-7.82519578933716,-10.0232191085815,22.7895278930664],[-6.03263854980469,-1.78185033798218,29.4917373657227],[2.93340110778809,4.90091705322266,14.1612901687622],[-11.6290283203125,-6.04175758361816,36.4330902099609],[3.39889407157898,6.22012042999268,24.2903232574463],[13.4225778579712,15.6959037780762,31.1268177032471],[18.0598411560059,22.9884510040283,36.305721282959],[-8.62149810791016,-8.57911491394043,27.222713470459],[-8.34594345092773,-8.56902313232422,26.5299510955811],[-8.3835506439209,-7.89546155929565,27.5092887878418],[-9.13348579406738,-9.76292514801025,26.9834022521973],[-6.80559301376343,-6.80649900436401,24.9985656738281],[-11.0268983840942,-9.17094612121582,32.2748680114746],[-2.73285937309265,-3.67315673828125,17.5326080322266],[13.8930320739746,17.8901672363281,29.8042011260986],[0.476948022842407,3.86818861961365,25.0411148071289],[-2.29216170310974,-4.13396978378296,10.7438821792603],[8.71610355377197,5.93711566925049,30.525390625],[6.65977621078491,10.0298700332642,18.3621253967285],[16.3398323059082,21.0257453918457,33.3292655944824],[-5.34002685546875,-6.78842449188232,20.5563812255859],[-14.7904586791992,-12.4672746658325,37.886661529541],[-2.05233216285706,-4.15244722366333,22.1422386169434],[1.23187017440796,2.30516529083252,8.91762256622314],[-8.57273483276367,-8.25155448913574,27.5411033630371],[-8.70366287231445,-9.28328514099121,26.4946975708008],[-7.43323850631714,-6.98802995681763,26.3501720428467],[-10.4940137863159,-10.1642122268677,29.9379825592041],[-4.93024587631226,-6.20034408569336,20.3409690856934],[-15.0027084350586,-18.0033760070801,32.880744934082],[-0.0571931563317776,-1.29143846035004,20.654109954834],[9.14142608642578,11.8046503067017,24.2445869445801],[3.86956334114075,1.28704679012299,25.8817729949951],[-5.55498886108398,-9.18725204467773,15.1996259689331],[11.045916557312,1.39954900741577,38.8129501342773],[2.14265418052673,3.50203466415405,16.8564739227295],[-13.9104089736938,-15.0976057052612,33.1240692138672],[17.7800731658936,9.53615379333496,47.0365447998047],[-8.62682247161865,-9.20559692382812,26.3973693847656],[-7.52928972244263,-6.98324823379517,26.5946578979492],[-10.4425315856934,-10.425838470459,29.5052433013916],[-4.94425964355469,-6.02057695388794,20.7883396148682],[-14.8734340667725,-17.2666244506836,33.3428649902344],[-0.733292818069458,-2.53257584571838,21.7941951751709],[9.54817962646484,14.5958251953125,20.4626445770264],[-17.5043182373047,-21.1954078674316,36.5606994628906],[7.51539993286133,8.94140625,23.662088394165],[7.53643465042114,3.99212837219238,30.1081409454346],[3.9700710773468,6.55055379867554,14.2061309814453],[-10.8767137527466,-3.37954354286194,37.0644798278809],[0.197335973381996,-9.51482963562012,31.6831836700439],[-9.8512077331543,-10.1735715866089,28.3175201416016],[-5.9897894859314,-6.80285024642944,22.6954898834229],[-12.0567665100098,-7.90599632263184,35.7402801513672],[2.64889240264893,4.57292890548706,21.2863826751709],[1.43727195262909,2.71685099601746,8.38289737701416],[-8.47410678863525,-8.22965049743652,27.3195304870605],[-8.77318286895752,-9.12630081176758,26.8898620605469],[-7.65465259552002,-7.56209754943848,26.1254425048828],[-9.74887180328369,-8.84583377838135,29.6540832519531],[-6.82640790939331,-8.76273250579834,21.7772960662842],[-8.50949859619141,-2.25625252723694,33.575080871582],[4.2070426940918,6.26453113555908,19.8644695281982],[12.9731035232544,20.0264568328857,23.7079467773438],[-2.60480880737305,-2.19341778755188,21.1521816253662],[9.32267475128174,15.0021934509277,18.6350231170654],[-3.74855780601501,3.53513240814209,30.8338565826416],[-2.92547631263733,-4.91966867446899,13.8722333908081],[11.1284885406494,5.47884321212769,35.8878211975098],[-3.45618748664856,-5.55884075164795,21.9065971374512],[-12.1649017333984,-18.6526832580566,22.9995746612549],[1.19413125514984,-0.763055741786957,23.1782913208008],[6.23579931259155,9.90070152282715,28.8718357086182],[7.79128742218018,8.14241695404053,25.667142868042],[8.91610050201416,7.43303203582764,29.3259906768799],[8.43122959136963,10.925009727478,23.1937561035156],[4.86417627334595,1.27490746974945,27.8557758331299],[-4.47325086593628,-7.36165523529053,14.9807481765747],[12.7166442871094,4.8526930809021,39.534595489502],[2.71892070770264,4.38580513000488,19.404993057251],[-7.45417928695679,-13.3961124420166,13.0138053894043],[4.62701892852783,3.11342978477478,24.9969024658203],[3.92489743232727,7.02097368240356,11.3938512802124],[-6.94671726226807,-3.0930814743042,29.8764514923096],[-1.33991324901581,-2.23111581802368,12.7627267837524],[10.4391422271729,8.9027214050293,31.2232627868652],[4.75639390945435,6.57299280166626,18.7211952209473],[10.5783815383911,18.3670291900635,16.9039478302002],[-4.86923265457153,-4.82971000671387,22.8715419769287],[-12.8540077209473,-17.9728183746338,26.4546775817871],[0.487085461616516,-4.24919939041138,27.0389995574951],[0.290659695863724,0.533944308757782,10.7869071960449],[-7.77292966842651,-7.42147445678711,26.8396644592285],[-9.88667297363281,-9.88655471801758,28.7612762451172],[-6.18458652496338,-7.31540203094482,22.3759365081787],[-11.1251430511475,-5.92744159698486,35.5019264221191],[2.93572878837585,4.71687650680542,20.0982265472412],[-1.32450437545776,-2.52943515777588,7.92425155639648],[8.33093738555908,8.44772720336914,26.6713981628418],[8.54781818389893,8.20037174224854,27.5260982513428],[8.76609325408936,9.34181213378906,26.5802555084229],[7.36074352264404,7.00024557113647,26.1521148681641],[10.5182209014893,9.92782306671143,30.2668991088867],[4.90365552902222,6.31440162658691,19.9779796600342],[14.9305286407471,18.9830894470215,31.5331077575684],[-0.777338147163391,0.00086902518523857,20.1188449859619],[8.0025806427002,9.12594032287598,26.0687465667725],[7.77482080459595,6.70930814743042,27.5395641326904],[10.3535451889038,11.7493228912354,27.6215400695801],[3.88207340240479,3.66330933570862,22.1199569702148],[3.0841851234436,5.73194313049316,9.5022668838501],[-7.67152690887451,-5.67402362823486,28.5541877746582],[-9.6985445022583,-13.2675333023071,23.3950157165527],[-2.92673921585083,2.2374804019928,28.386079788208],[-6.23818063735962,-9.06662750244141,19.741418838501],[-12.7828931808472,-4.42730379104614,39.9723320007324],[-1.99809229373932,-3.32363986968994,17.8400573730469],[13.4509191513062,16.9522037506104,29.6847057342529],[-4.06249713897705,6.94578742980957,33.873722076416],[9.51503849029541,13.464298248291,22.4219341278076],[4.62320566177368,-3.58499574661255,32.1066780090332],[2.00407004356384,3.40583896636963,13.5306081771851],[-11.112678527832,-7.67162799835205,33.9340324401855],[-0.0732499733567238,0.244292467832565,16.8272819519043],[-8.22987651824951,-8.87709045410156,29.1109085083008],[-7.88205528259277,-9.34970474243164,24.0963191986084],[-6.9692907333374,-4.11206340789795,28.8264808654785],[-6.55309104919434,-10.6127243041992,16.2569675445557],[13.2932891845703,3.36612772941589,41.7061538696289],[-1.93913841247559,-2.87169599533081,15.4732103347778],[12.7404861450195,11.4304752349854,34.0051918029785],[-1.5146632194519,-3.42588400840759,21.7419319152832],[7.20139074325562,12.4741868972778,14.3755655288696],[-3.92673993110657,-0.0706018730998039,27.5073795318604],[6.43806505203247,9.10499382019043,20.6299858093262],[9.98174858093262,1.8067102432251,36.5953063964844],[4.14916563034058,7.1114821434021,25.0853538513184],[12.3304100036621,10.9678134918213,33.4851989746094],[-0.647879183292389,-1.80720388889313,19.7796211242676],[10.6365776062012,14.0754852294922,25.2180576324463],[1.68894350528717,-2.42750954627991,26.640209197998],[6.74867820739746,10.1948947906494,18.7698307037354],[16.5992183685303,13.7452793121338,41.1238021850586],[-3.94818902015686,-5.5049352645874,17.9483337402344],[7.22977066040039,13.3763809204102,11.5646705627441],[-5.91813468933105,-5.2519907951355,25.0048961639404],[-12.6807546615601,-14.840087890625,30.0999145507812],[-0.065408743917942,4.98466205596924,27.3414916992188],[4.48648166656494,7.87636613845825,12.3513059616089],[-6.64800214767456,-1.74259746074677,30.6621227264404],[3.48564720153809,5.62991237640381,15.6237163543701],[-14.6869764328003,-11.4078493118286,38.5697784423828],[-2.12463736534119,-4.03435945510864,21.4731178283691],[3.50522041320801,6.49652433395386,9.78499698638916],[-7.28878498077393,-5.08759737014771,28.3966236114502],[-9.40464782714844,-13.5764389038086,21.8211555480957],[-7.30592489242554,3.65083813667297,36.0517616271973],[2.34855651855469,3.84759378433228,13.6595010757446],[-11.1789836883545,-6.9741792678833,34.7081871032715],[1.43597185611725,2.53680157661438,17.7984180450439],[-12.6694269180298,-15.1798229217529,29.6684265136719],[-0.984876453876495,5.72472095489502,29.2529888153076],[7.20689153671265,11.8916263580322,16.1015739440918],[-7.19819974899292,2.26063418388367,34.9150886535645],[-2.56185436248779,-4.19429349899292,15.3044805526733],[13.3859825134277,10.2139348983765,36.6365928649902],[5.18172883987427,-8.65422248840332,36.3275413513184],[-9.78320693969727,-11.0266952514648,27.0291786193848],[-5.03913021087646,-4.869704246521,23.2837772369385],[-13.0208520889282,-17.4837131500244,27.6775398254395],[1.98837995529175,-5.96608018875122,30.6522216796875],[-7.48562860488892,-12.0886497497559,17.004581451416],[11.5645093917847,0.183516710996628,40.5558128356934],[-2.59932470321655,-4.04249858856201,15.0013847351074],[12.9658794403076,9.36382007598877,36.4468994140625],[-1.90616345405579,-6.86151838302612,27.2893466949463],[-12.1704988479614,-14.8126096725464,28.7005710601807],[-0.220800936222076,3.95851969718933,26.2858428955078],[-1.88805663585663,-3.37775492668152,11.0712947845459],[9.25947856903076,6.79693841934204,30.7963237762451],[6.47570848464966,9.47792053222656,18.9050006866455],[15.7527551651001,10.6810035705566,41.6029472351074],[-2.17959022521973,-2.98257279396057,16.8129444122314],[13.5637369155884,14.611967086792,32.743579864502],[7.97878503799438,-6.75146102905273,38.9534606933594],[-9.57730865478516,-11.7918157577515,25.3558521270752],[-3.92617034912109,-2.36776065826416,24.4598484039307],[2.12221527099609,3.83293581008911,10.6575489044189],[-8.84832954406738,-6.32448863983154,30.4014644622803],[-7.10457754135132,-10.4262390136719,19.3477096557617],[-13.4711170196533,-4.05957841873169,41.5873069763184],[1.28664755821228,1.80856537818909,15.5725975036621],[-11.6080007553101,-11.8317098617554,30.8292942047119],[-1.71085095405579,-1.48306679725647,19.6260604858398],[11.0457353591919,14.8199949264526,25.3587322235107],[2.18242406845093,-4.27505207061768,29.3677234649658],[0.527519881725311,0.947920441627502,11.7126064300537],[-8.75027751922607,-8.72866630554199,27.4448471069336],[-8.14098167419434,-8.55958080291748,26.0052223205566],[-8.36179447174072,-7.31498670578003,28.17751121521],[-9.46247863769531,-11.0752391815186,26.0696353912354],[-4.959876537323,-4.14970874786377,24.2458629608154],[-10.3565826416016,-16.3055000305176,20.2710800170898],[2.3383936882019,-3.44377136230469,28.7623500823975],[4.01283121109009,6.72438383102417,14.1645059585571],[-10.6213188171387,-3.02858328819275,36.8509178161621],[0.400747865438461,-9.65241241455078,31.9603881835938],[-9.70894908905029,-9.98758411407471,28.1866779327393],[-6.29581737518311,-7.09778690338135,23.1045932769775],[-11.1134099960327,-6.84456634521484,34.6810302734375],[1.43422055244446,2.52582693099976,17.7036075592041],[-12.6791524887085,-15.0460653305054,29.8611373901367],[-0.547806799411774,5.43185901641846,28.4387187957764],[6.31321859359741,10.6984548568726,14.5985450744629],[-5.89998149871826,1.13658511638641,31.9972381591797],[-5.44904375076294,-7.66373920440674,23.9589061737061],[-10.8297328948975,-7.01470232009888,33.9314765930176],[0.0331575237214565,0.357894510030746,16.4741306304932],[-8.27161979675293,-8.48507308959961,27.5906829833984],[-8.57928371429443,-9.03737926483154,26.5022678375244],[-7.76083135604858,-7.29375648498535,26.7549343109131],[-10.0249004364014,-10.0040187835693,28.9650630950928],[-5.90806293487549,-7.07347631454468,21.9384498596191],[-12.1509618759155,-7.04473447799683,36.6748962402344],[2.96044206619263,6.55778503417969,25.6524295806885],[12.8655223846436,14.7906856536865,30.6667823791504],[0.140445411205292,-5.43300247192383,27.9441604614258],[-6.77275371551514,-11.4339361190796,15.0202331542969],[5.41098165512085,-1.52509927749634,31.5582523345947],[5.54387426376343,7.69993114471436,22.0593395233154],[11.4738569259644,5.77313899993896,36.3366355895996],[-3.48516583442688,-6.14719676971436,23.9247169494629],[-13.5580310821533,-16.0177536010742,31.1230869293213],[18.6544780731201,19.1543254852295,41.7164497375488],[-8.54074192047119,-8.81908893585205,26.6977443695068],[-8.05749416351318,-7.76057291030884,26.876708984375],[-9.42057037353516,-9.36887836456299,28.2296314239502],[-7.11050510406494,-8.09553909301758,23.8445739746094],[-8.91589641571045,-5.2702522277832,31.6115455627441],[-3.60044121742249,-5.68971061706543,15.185076713562],[13.8082723617554,8.66879749298096,38.8748664855957],[2.8687801361084,5.34442329406738,23.2224559783936],[10.9231052398682,17.3251571655273,20.5875549316406],[-1.49964880943298,1.58508050441742,25.1771717071533],[-7.2714056968689,-9.6637487411499,22.5336055755615],[-6.79032373428345,-1.86527121067047,30.8015766143799],[3.27305889129639,5.31162929534912,15.4437732696533],[-14.1811208724976,-10.3198766708374,38.3390884399414],[-2.57790446281433,-5.46148490905762,24.1615562438965],[-11.1250600814819,-17.1619319915771,21.6883335113525],[1.51001584529877,-3.19697546958923,27.2851791381836],[5.1561131477356,8.52824974060059,15.0270576477051],[-11.4928073883057,-2.3229992389679,38.9912147521973],[-2.5424792766571,-4.08155918121338,17.8399124145508],[13.5187282562256,18.7084941864014,27.5632076263428],[-0.0720096230506897,2.27109789848328,23.3624076843262],[-8.50152492523193,-12.7974081039429,20.0294990539551],[-16.2839508056641,-9.16513061523438,43.9282836914062],[5.99028253555298,8.45747947692871,19.2939624786377],[15.0449199676514,9.76358795166016,40.7246475219727],[0.0941441506147385,0.561433136463165,17.3128623962402],[-8.50133609771729,-9.30033683776855,26.5114650726318],[-7.49255466461182,-6.98357439041138,26.5034656524658],[-10.4646673202515,-10.332498550415,29.6700954437256],[-4.94083261489868,-6.091872215271,20.6210041046143],[-14.9377040863037,-17.4787292480469,33.2861518859863],[-0.526034355163574,-2.11075925827026,21.3226013183594],[9.94818592071533,14.2704610824585,22.6024990081787],[7.3495397567749,-4.15001964569092,36.4487800598145],[-4.26286125183105,-6.93906545639038,14.7465972900391],[12.2068157196045,4.47290372848511,38.8071784973145],[3.43839478492737,5.486243724823,21.6027240753174],[11.3946599960327,18.2590522766113,20.720832824707],[-1.93824946880341,-0.321879059076309,23.0259437561035],[8.23907470703125,11.2199010848999,22.4061851501465],[4.82222270965576,-0.0734328776597977,29.2358512878418],[-5.97901773452759,-8.18780708312988,21.995735168457],[-10.1711149215698,-3.9820773601532,35.2423782348633],[3.79977583885193,5.8267388343811,21.2606506347656],[13.2024984359741,19.2616672515869,25.7154293060303],[-0.916393160820007,0.60970151424408,22.1383399963379],[-5.23825407028198,-10.9161653518677,30.0498352050781],[-6.92917156219482,-7.32267904281616,24.5521678924561],[-10.2170705795288,-7.45396375656128,32.2001762390137],[-3.65778541564941,-5.38756370544434,16.754280090332],[14.9072179794312,19.2990741729736,31.0839290618896],[-1.11359703540802,-0.515171647071838,19.970193862915],[9.15534687042236,11.5132064819336,24.7679824829102],[4.26619434356689,2.28612089157104,25.35862159729],[-1.49206626415253,-2.68359756469727,10.8203935623169],[9.34202861785889,7.72461175918579,29.9846172332764],[7.46824836730957,10.0727081298828,21.4867000579834],[6.70738458633423,0.247165694832802,32.1329345703125],[-5.14961767196655,-7.77048254013062,25.2181282043457],[-10.7717247009277,-8.21648025512695,32.6607894897461],[-2.54143142700195,-3.55721783638,16.8104228973389],[14.1387119293213,15.4828042984009,33.3094329833984],[-2.60184240341187,7.51863956451416,32.5753898620605],[10.3835372924805,13.7466259002686,24.8525333404541],[1.94333112239838,-1.92245423793793,26.4313659667969],[6.95683288574219,9.71374607086182,21.1227245330811],[7.91630506515503,0.543570518493652,33.9416275024414],[19.2033729553223,23.3875312805176,39.2866973876953],[-8.89678287506104,-6.46206092834473,30.3532276153564],[-7.22931003570557,-10.5096817016602,19.6738109588623],[-11.5648612976074,-1.36551356315613,39.7808990478516],[-0.426673591136932,-0.861745774745941,15.3954477310181],[9.42810535430908,10.2410373687744,27.2804832458496],[6.15865850448608,6.32155179977417,23.9983329772949],[12.2194995880127,10.1151924133301,34.0676383972168],[-0.902213573455811,-2.04951453208923,19.3804836273193],[11.2481775283813,14.8455171585083,25.9539623260498],[1.63204300403595,-4.05413675308228,28.4044303894043],[1.62297558784485,2.85889840126038,11.813286781311],[-9.85923671722412,-7.59438276290894,31.2835636138916],[-5.46578788757324,-7.91827249526978,18.3562908172607],[-14.2498111724854,-21.5083694458008,25.9940319061279],[4.45100164413452,5.17360353469849,20.8757858276367],[11.9573783874512,18.8776874542236,21.8210296630859],[-1.96318852901459,-0.70265007019043,22.3613548278809],[8.88878440856934,12.5265760421753,22.091178894043],[4.4135890007019,-2.33929228782654,30.7439823150635],[5.32637405395508,7.96821546554565,18.6432571411133],[15.405161857605,20.7033653259277,30.8734722137451],[-3.52915954589844,-4.22410154342651,19.6516609191895],[3.56264781951904,6.7318263053894,8.89094829559326],[-7.48905897140503,-6.12198638916016,27.6059188842773],[-10.6821842193604,-12.89342212677,26.9988269805908],[-2.34705924987793,-1.03602397441864,22.7635765075684],[8.7750415802002,13.1068096160889,20.4691162109375],[14.6063032150269,4.28316307067871,43.7069664001465],[-5.71406888961792,-8.38945388793945,18.2522716522217],[-14.6713981628418,-21.7156810760498,27.1533451080322],[4.71809339523315,5.6142725944519,20.8624038696289],[14.0478191375732,19.0722370147705,28.7410583496094],[-0.354611098766327,1.16493618488312,21.7408294677734],[-8.30699348449707,-10.5451860427856,23.9648571014404],[-5.42824554443359,-2.67432546615601,27.3226222991943],[-1.61606621742249,-2.82802987098694,11.4660472869873],[9.65607261657715,7.55546617507935,30.8734970092773],[6.21378803253174,8.87045669555664,19.2456150054932],[14.7112855911255,8.26345348358154,41.1426010131836],[-0.0604771636426449,0.265595287084579,16.8438243865967],[-8.24301528930664,-8.68240261077881,28.7723731994629],[-8.17719459533691,-9.50778388977051,24.7134799957275],[-6.8493185043335,-4.71867322921753,27.8727283477783],[-9.52853870391846,-14.037525177002,21.4167251586914],[-14.6926050186157,-3.83257722854614,44.1714820861816],[6.66887760162354,9.53104496002197,19.591724395752],[12.4053354263306,3.28602457046509,40.0428619384766],[1.41899955272675,2.4377293586731,16.7200298309326],[-12.5981426239014,-13.5584621429443,31.400505065918],[0.682685792446136,3.05348300933838,23.1621036529541],[-7.30878591537476,-12.2196626663208,15.7860069274902],[5.35384559631348,-2.17854261398315,32.024787902832],[4.91091203689575,7.38731908798218,18.4593715667725],[11.8105545043945,19.909948348999,19.2861423492432],[-4.94980478286743,-5.25459098815918,22.3392448425293],[-13.8576564788818,-17.4257469177246,30.275707244873],[-0.227706715464592,-4.95140838623047,26.9158210754395],[-4.64936017990112,-8.18120002746582,12.3347854614258],[6.39009141921997,1.66251492500305,30.2707138061523],[-3.51796221733093,-5.71327924728394,15.3790321350098],[14.2099552154541,9.75394535064697,38.8748435974121],[2.59024500846863,4.77415561676025,22.3185863494873],[5.50915908813477,10.0475635528564,11.262412071228],[-5.59714460372925,-3.34258699417114,26.8546714782715],[-5.55332326889038,-9.51413917541504,13.7725353240967],[6.29201793670654,-0.175520524382591,31.8058528900146],[-3.67349243164062,-9.25210189819336,28.730396270752],[-9.46414089202881,-9.03707313537598,28.7433776855469],[-7.2933464050293,-8.70731449127197,23.3784141540527],[-7.91702222824097,-3.91343021392822,30.9429931640625],[-2.20368695259094,-3.59782385826111,13.6789112091064],[11.2457466125488,7.43314695358276,34.4369506835938],[-0.873575508594513,-1.70418393611908,17.437219619751],[11.3254957199097,13.2293462753296,28.4122257232666],[1.45411884784698,0.170497760176659,22.0081520080566],[-8.22750949859619,-10.5240154266357,23.7658500671387],[-5.43941926956177,-2.45495438575745,27.6071586608887],[-0.376436114311218,-0.637038052082062,11.5053195953369],[8.18818950653076,8.05578804016113,26.9844493865967],[9.06048011779785,9.05442523956299,27.7196178436279],[7.66205644607544,8.30831050872803,25.0757312774658],[8.61712455749512,6.48570871353149,29.7161674499512],[8.27385139465332,11.5539379119873,21.5189266204834],[5.37244081497192,-1.54968810081482,31.5187187194824],[5.54845666885376,7.71252155303955,21.9618434906006],[11.5273036956787,5.73536443710327,36.4754295349121],[-3.41807389259338,-6.46646881103516,24.8151531219482],[-13.2185335159302,-14.5443468093872,31.9006443023682],[-0.721908390522003,6.4566330909729,29.6417617797852],[9.7752857208252,14.6111640930176,21.2626304626465],[9.02021503448486,17.2139320373535,11.269193649292],[-8.86587047576904,-8.91130256652832,27.4113883972168],[-7.89920282363892,-8.28629112243652,25.7490634918213],[-8.71768951416016,-7.34600639343262,28.9700469970703],[-8.84179973602295,-11.1493673324585,24.1216945648193],[-4.61626434326172,-2.10339021682739,26.3578510284424],[1.74157798290253,3.08945918083191,11.4641542434692],[-9.58642578125,-7.19346809387207,31.0978870391846],[-5.90134048461914,-8.61379051208496,18.5223026275635],[-16.2825927734375,-19.089714050293,35.2936782836914],[3.56433367729187,4.55625057220459,18.9080333709717],[-5.87452554702759,-10.9226217269897,10.5800294876099],[6.05513286590576,4.80291318893433,25.9736347198486],[11.6362524032593,15.6647396087646,25.9196186065674],[6.77741432189941,-5.60283136367798,36.5581207275391],[-7.84987115859985,-11.802939414978,19.3579692840576],[-16.4443836212158,-10.7187070846558,43.1511268615723],[5.24182510375977,7.44548654556274,18.5874938964844],[14.2269077301025,21.2225799560547,26.3343887329102],[-3.90501713752747,-4.43775463104248,20.5702323913574],[-4.19375514984131,-7.87026453018188,9.41158962249756],[6.98449420928955,5.42864465713501,27.3097648620605],[10.9768896102905,14.1442966461182,26.0993480682373],[1.27907252311707,-2.15575981140137,25.5836696624756],[7.31750679016113,10.7210531234741,19.9662322998047],[10.2540607452393,0.0516738444566727,38.3284912109375],[1.50313758850098,2.53530859947205,15.6555624008179],[-12.3891191482544,-11.8976516723633,32.6846542358398],[0.437031924724579,1.71003687381744,20.4271030426025],[-10.0866394042969,-13.5477828979492,24.3165855407715],[-2.2798752784729,1.90545988082886,26.9769020080566],[-6.76260137557983,-9.36485290527344,21.3108005523682],[-8.25301456451416,-1.17624461650848,34.013298034668],[4.23467016220093,7.97045850753784,26.65012550354],[10.9072761535645,9.64959812164307,31.4985122680664],[3.59420537948608,4.79009246826172,18.3692665100098],[-8.17884731292725,-14.7264709472656,13.4187431335449],[4.88523054122925,4.00883340835571,24.2767105102539],[9.59827709197998,15.559118270874,18.6011657714844],[-2.52881813049316,2.54915595054626,28.1063899993896],[-6.09525966644287,-9.2698917388916,18.2663993835449],[-15.5665349960327,-21.6747817993164,30.1603031158447],[5.03837251663208,6.22312641143799,20.6879386901855],[15.0277395248413,16.266845703125,34.8302688598633],[1.05239260196686,2.87848258018494,21.7055320739746],[-9.14962673187256,-14.6370096206665,18.6863079071045],[5.37708187103271,-3.93209147453308,33.4422149658203],[-0.200697243213654,-0.284434020519257,12.8645105361938],[8.07566070556641,7.54480600357056,27.7959575653076],[9.52393054962158,10.5495319366455,26.9693984985352],[5.72189044952393,5.63573932647705,23.8997802734375],[13.2149343490601,13.4343910217285,33.1039199829102],[-1.04599261283875,-5.35686445236206,26.3506546020508],[-8.08866119384766,-13.4862928390503,16.3831977844238],[3.86370706558228,-2.11307454109192,29.7021293640137],[5.87801027297974,8.43191909790039,20.1441593170166],[12.7900686264038,5.33012342453003,39.328971862793],[3.00930404663086,4.85165214538574,20.5147266387939],[2.0015344619751,3.80892157554626,8.15832233428955],[-8.38773918151855,-7.85092115402222,27.5840911865234],[-9.16574954986572,-9.88923740386963,26.8993835449219],[-6.63537931442261,-6.56639957427979,24.9063053131104],[-11.4429359436035,-9.78596210479736,32.6042633056641],[-1.65843331813812,-1.94747352600098,17.7687950134277],[12.2529258728027,14.629469871521,29.1925067901611],[-0.0193165689706802,-3.68241953849792,25.5277118682861],[3.44236302375793,6.08677673339844,11.8367767333984],[-7.84074926376343,-3.31036019325256,31.3842010498047],[0.145178720355034,0.326319843530655,13.6970252990723],[-8.18879222869873,-7.82710313796997,27.7803153991699],[-9.23372364044189,-10.1094665527344,26.7832832336426],[-6.33419895172119,-6.16649723052979,24.7127075195312],[-12.1336832046509,-11.0521430969238,32.9322395324707],[-0.0200540740042925,0.782744526863098,19.2443180084229],[-8.53516292572021,-9.99985980987549,25.5353851318359],[-6.41561651229858,-5.12650537490845,26.3838710784912],[-11.649486541748,-14.9174766540527,27.0337944030762],[-0.994430422782898,3.9905321598053,27.4499320983887],[-1.88945007324219,-3.3438515663147,11.5709428787231],[9.55461978912354,6.81940889358521,31.4125518798828],[5.26936054229736,7.87687063217163,17.5284957885742],[1.19888269901276,2.37566947937012,5.98915433883667],[-7.81085205078125,-9.04548931121826,24.3885860443115],[-7.44599485397339,-4.79086685180664,29.0664844512939],[-7.87613916397095,-12.0947017669678,18.8084468841553],[-10.3446226119995,-18.9983139038086,14.2188062667847],[7.86210632324219,8.12864971160889,25.8746967315674],[8.95006370544434,7.70390844345093,29.0928382873535],[8.45141887664795,10.640923500061,23.734561920166],[5.21124458312988,2.28512096405029,27.3502025604248],[-0.477759927511215,-0.862204790115356,11.50110912323],[8.53607749938965,8.50276470184326,27.2120800018311],[8.46005439758301,8.66286945343018,26.6987972259521],[8.26290702819824,7.95629930496216,27.1329498291016],[9.13908958435059,9.33722019195557,27.5570526123047],[7.32515621185303,7.80937051773071,24.8982563018799],[9.37914848327637,6.96320915222168,30.8745193481445],[6.33248233795166,9.2388162612915,18.8650054931641],[15.9586620330811,11.8661823272705,41.1391716003418],[-2.17609238624573,-2.92617607116699,17.0294342041016],[13.5319442749023,15.0594034194946,32.1644439697266],[13.3002595901489,-1.62925457954407,44.770694732666],[-8.98413181304932,-10.5236654281616,25.5067539215088],[-5.63899230957031,-4.44226884841919,25.4847202301025],[-11.2065649032593,-16.2025871276855,23.6513919830322],[18.1671123504639,17.974967956543,41.4626655578613],[-8.02064800262451,-9.37838268280029,24.4593505859375],[-6.98260164260864,-4.53762626647949,28.3718299865723],[-8.43788623809814,-12.9578132629395,19.278263092041],[-3.61564993858337,-7.26569604873657,5.69560098648071],[9.25602054595947,10.315016746521,26.56520652771],[6.04533767700195,5.70004081726074,24.661262512207],[12.715238571167,12.9939441680908,32.3109474182129],[-0.950164914131165,-3.11929178237915,22.6332359313965],[7.51660013198853,12.6369228363037,15.7207822799683],[-4.44845962524414,1.87881803512573,30.3795185089111],[-5.77510833740234,-8.09921932220459,21.0668773651123],[-11.5892314910889,-4.65563488006592,37.4566612243652],[6.97618722915649,-9.07043552398682,38.8511238098145],[-8.87150192260742,-9.05506324768066,27.2381057739258],[-7.73243427276611,-7.95711946487427,25.7750930786133],[-9.18915367126465,-7.81982374191284,29.5137939453125],[-7.94822883605957,-10.3269653320312,22.656192779541],[-5.66790342330933,-1.28888165950775,29.330846786499],[4.23603963851929,6.82400274276733,15.7453336715698],[-15.4397230148315,-12.3109827041626,39.5576553344727],[-0.225706860423088,-0.883969485759735,18.1243019104004],[9.16182994842529,10.7542972564697,25.9467163085938],[5.42659616470337,4.54850339889526,24.8135395050049],[11.83899974823,16.6985340118408,25.0157222747803],[-15.0239820480347,-2.93809938430786,45.394775390625],[8.31369972229004,10.6965808868408,23.2044219970703],[5.13510704040527,1.56177926063538,28.0439853668213],[-3.52821373939514,-5.94219207763672,13.8628425598145],[10.534987449646,3.76627016067505,36.1149978637695],[-3.41856074333191,-7.51013135910034,26.6657085418701],[-11.8080825805664,-11.4141712188721,31.7630233764648],[-1.17667126655579,-0.867316842079163,19.1338958740234],[10.0511264801025,12.6446285247803,25.6256141662598],[2.84664082527161,0.98100084066391,24.099006652832],[-7.73733806610107,-11.9655790328979,18.6693305969238],[-8.26483058929443,-15.7711887359619,10.7333087921143],[8.26840686798096,8.38059997558594,26.5854110717773],[8.63398361206055,8.19452476501465,27.7459259033203],[8.71609973907471,9.51764869689941,26.2036437988281],[7.09264135360718,6.41028165817261,26.2887706756592],[11.20814037323,11.4512634277344,30.2290363311768],[2.83210206031799,3.11239314079285,19.7351512908936],[-9.92239761352539,-16.3530120849609,18.3254699707031],[2.16705346107483,-0.688079237937927,25.1755046844482],[-6.11131906509399,-9.39951133728027,28.1058521270752],[-8.42345333099365,-8.29752159118652,27.0900917053223],[-8.71719169616699,-8.82145118713379,27.1491050720215],[-8.04221343994141,-8.18660354614258,26.2642707824707],[-8.88790130615234,-8.08776092529297,28.4926414489746],[-8.5186653137207,-10.0573682785034,24.8623332977295],[-6.13965559005737,-4.30565309524536,26.8201484680176],[-9.75845909118652,-14.7724866867065,20.8878479003906],[15.4012403488159,23.860013961792,26.639799118042],[-7.87260341644287,-8.58944225311279,25.2380619049072],[-8.22527694702148,-6.35075664520264,28.9994258880615],[-9.25104236602783,-12.3549518585205,23.4453105926514],[-3.35674142837524,0.499572932720184,27.1522331237793],[6.51525783538818,8.45196151733398,24.329906463623],[8.88556957244873,5.47780132293701,31.3438472747803],[4.47205924987793,7.02108287811279,15.8375625610352],[-15.758279800415,-13.4778881072998,39.3173789978027],[0.550849497318268,0.288833498954773,17.8226642608643],[-8.55344772338867,-9.56313419342041,26.2381954193115],[-7.10941171646118,-6.38909339904785,26.3583507537842],[-11.2032051086426,-11.5638027191162,30.0856094360352],[-2.79938840866089,-3.0127055644989,19.8671817779541],[9.87921524047852,16.2396774291992,18.3801879882812],[-2.13996410369873,0.973901152610779,25.5274314880371],[-3.26064777374268,-11.0980072021484,30.7160453796387],[-7.37567138671875,-7.40219593048096,25.6288375854492],[-10.0055875778198,-8.53819274902344,30.5985946655273],[-6.01050138473511,-8.21722030639648,19.9339027404785],[-13.3301153182983,-6.26781606674194,39.7275314331055],[-2.55734896659851,-4.21401214599609,19.7247409820557],[7.31626081466675,13.1135282516479,13.0399990081787],[-4.52663803100586,-2.78624296188354,25.2367935180664],[-1.74399816989899,-3.14101529121399,10.4808034896851],[9.07350540161133,7.1979398727417,29.9562377929688],[7.78676176071167,10.679801940918,21.4470634460449],[6.07236385345459,-0.521570146083832,31.7449626922607],[-19.5724430084229,-22.1882095336914,41.5014457702637],[8.75265598297119,6.01987600326538,30.510498046875],[6.74523210525513,10.1082639694214,18.5518054962158],[16.8779582977295,17.7200450897217,38.2901954650879],[-4.70388984680176,-6.30807542800903,19.1834087371826],[-12.2376556396484,-19.8717021942139,21.1439781188965],[3.67097401618958,3.58975458145142,21.6134624481201],[0.541367471218109,1.01631510257721,8.55648899078369],[-7.55404710769653,-7.72404193878174,25.7124881744385],[-9.53936958312988,-8.09614562988281,30.0107555389404],[-7.15886402130127,-9.5716667175293,21.366174697876],[-7.54891538619995,-0.784765362739563,33.1121101379395],[4.91109228134155,7.53265476226807,24.9200572967529],[11.3021440505981,8.69497776031494,33.3691825866699],[0.970654249191284,1.05520987510681,17.1025238037109],[-10.4980850219727,-12.1514120101929,27.5693035125732],[-3.30834436416626,-2.80557990074158,22.0744762420654],[4.37239789962769,7.93422174453735,11.0231924057007],[-6.39165592193604,-3.30439233779907,28.5506725311279],[-3.867751121521,-6.58708333969116,13.1656446456909],[8.71144580841064,2.29090404510498,33.9153137207031],[-4.32675552368164,-6.39076089859009,20.7810382843018],[-14.8420753479004,-17.9569816589355,32.4783821105957],[-0.291322559118271,-1.7896454334259,21.2390823364258],[9.68748569488525,13.3863391876221,23.27659034729],[3.06988835334778,-2.5902144908905,28.9684371948242],[5.7403244972229,8.75943851470947,18.0337162017822],[12.4984636306763,20.9549503326416,20.2250385284424],[-5.81440162658691,-6.46070861816406,22.7713985443115],[-12.7444715499878,-9.52488994598389,35.8069114685059],[2.53727531433105,5.21021604537964,23.676830291748],[9.75175285339355,16.0492706298828,18.2109279632568],[-2.19887971878052,1.08453226089478,25.7900676727295],[-6.0497670173645,-9.27849388122559,27.9082221984863],[-8.57998180389404,-8.29954433441162,27.4792919158936],[-8.65549087524414,-9.16606616973877,26.5275135040283],[-7.59139585494995,-7.16351795196533,26.507776260376],[-10.2371501922607,-9.98324584960938,29.5167503356934],[-5.54658031463623,-6.87955284118652,21.1028366088867],[-13.77623462677,-9.640793800354,38.0029106140137],[-1.63472664356232,-7.18871688842773,27.9496078491211],[-11.9529085159302,-14.1445903778076,28.94065284729],[-0.215417966246605,2.30129313468933,23.7403869628906],[-8.25164318084717,-12.4796762466431,19.7023792266846],[-16.9121398925781,-12.2173194885254,43.0948944091797],[6.00625133514404,8.30317211151123,19.7210998535156],[13.8391084671021,7.06754159927368,40.184684753418],[1.86293125152588,3.19896364212036,18.6054134368896],[-12.716591835022,-17.4591865539551,26.7617855072021],[2.63252019882202,-5.9885687828064,31.4377212524414],[-7.33815908432007,-11.8044872283936,17.0184478759766],[13.4558906555176,2.93864059448242,42.3047561645508],[-3.55250144004822,-5.4066424369812,16.0213222503662],[15.2267732620239,14.4181280136108,37.1665840148926],[1.18247091770172,2.67395997047424,20.5231800079346],[-10.6974906921387,-15.9398822784424,22.3075370788574],[14.3659868240356,2.2677583694458,44.5025749206543],[-7.71861886978149,-10.5625162124634,21.42995262146],[-6.20956134796143,0.396221607923508,31.861120223999],[-17.2930469512939,-3.56908488273621,49.688533782959],[7.76741647720337,5.93314409255981,28.4610977172852],[9.88607120513916,13.0923566818237,24.2971992492676],[2.52978563308716,-0.985873520374298,26.2674160003662],[-5.81862354278564,11.6739282608032,38.7508506774902],[6.72065019607544,5.67290449142456,26.3782558441162],[11.7277526855469,13.5421190261841,29.0769290924072],[0.731944441795349,-0.901107311248779,22.2479763031006],[7.62885618209839,9.07565593719482,25.4499206542969],[7.81008577346802,6.03861331939697,28.4328155517578],[9.92400932312012,12.9835119247437,24.5903739929199],[2.55174255371094,-0.506312251091003,25.6726131439209],[-6.83084726333618,-8.63661861419678,25.0153980255127],[-8.59534072875977,-6.02961158752441,30.1633415222168],[-7.40164470672607,-10.904727935791,19.4991607666016],[-12.9784650802612,-2.86343097686768,41.4316596984863],[1.67683207988739,2.47038769721985,15.340537071228],[-12.2847805023193,-11.3960676193237,32.9534683227539],[0.308799982070923,1.37039864063263,19.8111305236816],[-9.75432300567627,-12.5006761550903,24.9662132263184],[-3.04616689682007,-0.76779580116272,24.8735733032227],[7.3569974899292,11.2515411376953,18.752311706543],[16.8632278442383,20.572883605957,35.3672142028809],[-6.00702142715454,-7.66835308074951,21.1005363464355],[-11.858736038208,-5.33598136901855,37.4601440429688],[16.415246963501,26.061107635498,27.1603813171387],[-9.52309322357178,-7.7078332901001,30.4005813598633],[-6.89718627929688,-9.55802726745605,20.4320430755615],[-9.32166957855225,-0.740663409233093,36.2166938781738],[-4.40940427780151,-6.55005264282227,22.1527137756348],[-14.2711601257324,-13.4938812255859,35.6789169311523],[1.48530089855194,-7.83127307891846,31.6113109588623],[-10.8152437210083,-13.5319213867188,26.4937705993652],[-1.65764534473419,0.560016632080078,23.904146194458],[6.66301202774048,9.25379085540771,27.8649673461914],[8.37615299224854,8.29659080505371,26.971830368042],[8.72920417785645,8.70726108551025,27.3285636901855],[8.17051887512207,8.49081993103027,26.1791172027588],[8.47023487091064,7.60071563720703,28.0864105224609],[9.23831081390381,10.5978965759277,26.1179752349854],[5.6218409538269,4.91696977615356,24.753267288208],[12.6013231277466,16.0958080291748,28.2761707305908],[13.807692527771,-0.0211257208138704,44.7954216003418],[-8.72080516815186,-10.9171171188354,24.1211948394775],[-4.90411901473999,-2.40948629379272,26.5663166046143],[-0.0754547119140625,-0.1171003729105,11.0072793960571],[8.38534736633301,7.08871555328369,30.1840763092041],[7.86172723770142,10.8851890563965,21.3184051513672],[6.07139682769775,-0.893521904945374,32.0642433166504],[5.15567636489868,8.03327751159668,25.9061603546143],[10.3899688720703,8.37177753448486,31.6514339447021],[4.41975069046021,6.28243446350098,17.9588489532471],[-1.33912909030914,-2.62191224098206,6.64903116226196],[8.0890007019043,8.93243885040283,25.3449687957764],[7.75942802429199,6.09798622131348,28.2487525939941],[10.1143550872803,12.9583721160889,25.2216396331787],[2.48884034156799,0.045932836830616,24.7550640106201],[-7.44395065307617,-10.1248321533203,21.9924411773682],[-6.36266708374023,-0.731678187847137,31.1085109710693],[5.16080570220947,7.47214889526367,20.0500335693359],[15.1173782348633,12.3225793838501,38.7871780395508],[1.29239201545715,2.6122624874115,19.656888961792],[-11.5658893585205,-16.2846584320068,24.7718448638916],[6.72535610198975,13.356388092041,7.66475820541382],[-9.77849864959717,-10.1088008880615,28.2134399414062],[-6.11857652664185,-6.89873933792114,22.9174919128418],[-11.6734428405762,-7.50220203399658,35.2778816223145],[2.16716146469116,3.69598054885864,19.4832782745361],[-10.550389289856,-17.0895462036133,19.5175170898438],[1.83573710918427,-0.813694357872009,24.6926422119141],[-16.097074508667,-27.0839862823486,24.4543743133545],[10.6730337142944,7.14061164855957,33.4829177856445],[0.901406109333038,1.11656892299652,16.1374588012695],[-10.4982309341431,-11.6376056671143,28.2310771942139],[-3.87919616699219,-3.93385052680969,21.5718593597412],[-3.73791575431824,-6.96088218688965,9.6102237701416],[7.15284061431885,5.19847106933594,27.9683666229248],[10.0987787246704,14.0323028564453,23.4582595825195],[3.43195199966431,-3.78356504440308,30.610631942749],[2.22224426269531,3.80397605895996,13.1087818145752],[-10.5898971557617,-6.57734298706055,33.8351974487305],[0.0116589935496449,0.291411101818085,16.1805858612061],[-8.27666091918945,-8.36366367340088,28.1966037750244],[-8.61737823486328,-9.6459493637085,25.7518253326416],[-6.85632610321045,-5.7801513671875,26.5588665008545],[-11.5672855377197,-13.3095951080322,28.9291210174561],[-1.09412372112274,0.258027076721191,21.8823909759521],[7.54856300354004,8.87632846832275,26.5750789642334],[8.34626865386963,7.55377912521362,27.8477306365967],[9.39769840240479,10.5277919769287,26.656078338623],[5.75396013259888,5.45478010177612,24.2729072570801],[13.0978174209595,14.1898136138916,31.9800815582275],[-0.495960295200348,-5.41434144973755,27.1349716186523],[-7.52406978607178,-12.6057224273682,15.7991943359375],[4.60394430160522,-2.0117506980896,30.7391529083252],[5.59136819839478,8.02886199951172,20.1687278747559],[13.7046813964844,7.49280261993408,39.5778999328613],[2.60089707374573,4.37652683258057,20.5291748046875],[-2.97984957695007,-5.60913324356079,8.91477870941162],[7.82207870483398,6.35301351547241,28.0904712677002],[10.1922950744629,12.5809831619263,26.0152454376221],[2.88958549499512,1.33332216739655,23.6229705810547],[-7.67881202697754,-12.2732305526733,17.5872058868408],[15.4319686889648,6.94180059432983,43.6371231079102],[-5.10935544967651,-7.46160507202148,17.9260482788086],[-6.76400995254517,-12.8284387588501,10.1001749038696],[7.08792638778687,6.81193685531616,25.7243938446045],[10.8643617630005,9.8982458114624,31.12961769104],[3.86063432693481,5.06855916976929,18.8044147491455],[-2.38061165809631,-4.58519792556763,7.65358209609985],[8.31412982940674,7.99247598648071,27.2195377349854],[9.08109855651855,9.36757183074951,27.3688220977783],[7.31037998199463,7.63830852508545,25.1132049560547],[9.65421199798584,7.50341939926147,30.9127388000488],[6.16140508651733,8.82746887207031,19.1273860931396],[15.2235050201416,9.7667760848999,41.1203002929688],[-0.654891550540924,-0.620020151138306,16.8756885528564],[9.35598945617676,10.6241445541382,26.6148357391357],[5.64933443069458,5.28843402862549,24.2560958862305],[13.1299238204956,14.9766988754272,31.1676235198975],[1.88990461826324,-6.7758960723877,31.2112216949463],[-9.73846054077148,-14.1987628936768,21.8957443237305],[-11.951397895813,0.762237310409546,41.8363990783691],[6.24073123931885,9.37182903289795,18.1177215576172],[14.5574645996094,22.1975021362305,26.0607433319092],[-5.61124086380005,-6.65271139144897,21.7759418487549],[-13.3394708633423,-9.52398681640625,37.1322746276855],[-18.9074878692627,-14.2010974884033,46.3924560546875],[8.56415843963623,7.95139503479004,27.8796806335449],[8.95245552062988,9.95706272125244,26.2312622070312],[6.50528907775879,5.89310884475708,25.5508880615234],[12.0670909881592,12.5034942626953,31.2067260742188],[0.462649643421173,-0.547222554683685,20.4754524230957],[7.70752334594727,8.9477596282959,27.6518611907959],[8.30912399291992,8.50403213500977,26.5226821899414],[8.46954441070557,7.96908330917358,27.626781463623],[9.01499938964844,9.7501049041748,26.6860065460205],[6.81941843032837,6.57770252227783,25.3692169189453],[11.2910575866699,10.1641893386841,31.8561477661133],[2.49616575241089,3.10541105270386,18.221019744873],[-13.073052406311,-17.7473678588867,27.4850730895996],[0.766160905361176,-5.06496047973633,28.3252506256104],[-4.2218222618103,-7.3638653755188,12.4799385070801],[7.18214178085327,1.87747716903687,31.50417137146],[-3.61729574203491,-5.73235368728638,16.4764671325684],[15.399564743042,17.9593486785889,34.0425682067871],[-0.581884026527405,0.0851525738835335,19.5223197937012],[7.9185791015625,8.8337345123291,27.5014781951904],[8.34948444366455,8.51788234710693,26.6083812713623],[8.45282745361328,8.04387760162354,27.4908275604248],[8.96234703063965,9.53355026245117,26.8393821716309],[7.11414670944214,6.99476909637451,25.5310821533203],[10.6306915283203,9.26064205169678,31.2673950195312],[4.34635639190674,5.92044162750244,18.6417045593262],[4.16074275970459,7.9914493560791,8.27627944946289],[-7.64857292175293,-6.97778177261353,26.8967323303223],[-10.3640270233154,-10.7307624816895,28.9409961700439],[-4.88872528076172,-5.67981243133545,21.3126564025879],[-14.4857606887817,-17.5884552001953,31.8912963867188],[-0.787592709064484,-3.18397641181946,23.1870517730713],[6.80418872833252,11.5754299163818,14.8267841339111],[-4.92851972579956,1.2328085899353,30.5361747741699],[-5.59600496292114,-8.1279296875,25.6189193725586],[-10.0116739273071,-7.72088670730591,31.4788970947266],[-5.05368852615356,-7.33040475845337,18.0266876220703],[-7.56678581237793,-14.166862487793,11.2129468917847],[6.69549751281738,6.47121047973633,25.2047595977783],[11.4977283477783,10.3355598449707,32.1646575927734],[1.84319281578064,2.11284470558167,18.2043113708496],[-12.4049282073975,-15.4774446487427,28.5340347290039],[-2.21796083450317,6.01161336898804,30.9619750976562],[7.54908847808838,12.1308622360229,17.2083511352539],[-13.0076379776001,-2.03701400756836,42.0286102294922],[3.66390347480774,5.61606788635254,15.9330406188965],[-15.2623443603516,-13.9562873840332,37.6829414367676],[-1.11723136901855,-2.48599171638489,20.0965042114258],[11.1276082992554,15.8638525009155,23.9677028656006],[13.7733898162842,23.4416923522949,21.0579376220703],[-8.51900768280029,-8.63471698760986,26.8886013031006],[-8.29759311676025,-8.18327045440674,26.9225921630859],[-8.87811470031738,-8.81095600128174,27.5708065032959],[-8.00150012969971,-8.54158401489258,25.6580657958984],[-8.34846782684326,-6.92238235473633,28.6155319213867],[-9.44192409515381,-11.7599620819092,24.9987144470215],[-3.93894338607788,-2.10285687446594,24.8871021270752],[3.12470889091492,5.55005693435669,11.5675535202026],[-8.11392498016357,-3.97674250602722,31.2714920043945],[-1.75400161743164,-2.82765054702759,13.7453937530518],[11.2911605834961,8.80123329162598,33.2517051696777],[1.15076291561127,1.32179760932922,17.1326885223389],[-11.0963315963745,-12.7940845489502,28.3479747772217],[-2.09002995491028,-1.24058973789215,21.6106662750244],[9.64859676361084,14.0891084671021,21.8513851165771],[11.0615768432617,-1.66678762435913,40.8293952941895],[-5.79506349563599,-8.88305568695068,17.2882614135742],[3.52346897125244,6.96106147766113,6.60700559616089],[-8.66835498809814,-9.05624580383301,26.7135791778564],[-7.74563407897949,-7.48280477523804,26.464656829834],[-9.82846450805664,-9.36560249328613,29.2414016723633],[-6.56287097930908,-8.11191272735596,22.1246643066406],[-9.52821826934814,-3.67580485343933,34.2689895629883],[3.26039385795593,5.06632709503174,18.5447654724121],[-7.40974426269531,-13.5317583084106,12.2749967575073],[5.32252788543701,4.36838865280151,24.824254989624],[11.269115447998,16.6228046417236,23.1688899993896],[-6.90293598175049,5.23929977416992,36.5049133300781],[7.06463956832886,10.9242115020752,17.9753684997559],[2.44861817359924,4.90946435928345,5.53273057937622],[-8.80174541473389,-10.1032009124756,25.6099376678467],[-6.22018718719482,-5.08496046066284,25.9788093566895],[-11.9429979324341,-15.1217908859253,27.628885269165],[-1.0223274230957,4.60660600662231,28.1693744659424],[1.47970068454742,2.6094434261322,11.1679401397705],[-9.52760219573975,-7.82279682159424,30.2990779876709],[-6.97896718978882,-9.57751655578613,20.6996097564697],[-8.64591312408447,-0.565239250659943,35.1774978637695],[-4.45258569717407,-7.51401519775391,25.5644264221191],[-11.5216970443726,-9.71264266967773,32.8604316711426],[-1.2835818529129,-1.39132785797119,17.7336196899414],[11.2717189788818,13.4238739013672,28.0107975006104],[1.36269152164459,-0.195580318570137,22.5120792388916],[-7.59114170074463,-9.11124515533447,25.219970703125],[-7.71664571762085,-5.72289609909058,28.5931415557861],[-9.66982841491699,-13.2008323669434,23.4111995697021],[-2.91858839988708,2.08764314651489,28.2135486602783],[-6.35253047943115,-9.02142715454102,20.4892253875732],[-10.4951791763306,-2.19845366477966,37.2383041381836],[-4.12819957733154,-6.51018381118774,23.3690052032471],[-13.7038173675537,-13.3131084442139,34.4543838500977],[-6.4329195022583,7.72044038772583,37.3742256164551],[9.8001766204834,11.7454090118408,26.0759811401367],[4.02856683731079,3.0041172504425,23.7013816833496],[1.27675187587738,2.34267091751099,9.64950847625732],[-8.84501457214355,-8.12358665466309,28.3640041351318],[-8.55286884307861,-9.96379661560059,25.1028861999512],[-6.31121635437012,-4.68975734710693,26.7139015197754],[-10.7958173751831,-15.2434005737305,23.8167533874512],[-10.840350151062,2.68170714378357,41.0626945495605],[7.44117069244385,10.8581066131592,19.7643337249756],[11.2410907745361,0.738410234451294,39.613109588623],[0.0527867339551449,0.251792550086975,15.0536317825317],[-8.30622959136963,-8.09274959564209,28.4726047515869],[-8.76735782623291,-10.1618003845215,25.4211254119873],[-6.1077094078064,-4.81207942962646,26.0832939147949]],"ignoreExtent":false,"flags":128},"5":{"id":5,"type":"light","vertices":[[0,0,1]],"colors":[[1,1,1,1],[1,1,1,1],[1,1,1,1]],"viewpoint":true,"finite":false},"4":{"id":4,"type":"background","colors":[[0.298039227724075,0.298039227724075,0.298039227724075,1]],"centers":[[0,0,0]],"sphere":false,"fogtype":"none"},"6":{"id":6,"type":"background","colors":[[1,1,1,1]],"centers":[[0,0,0]],"sphere":false,"fogtype":"none"},"1":{"id":1,"type":"subscene","par3d":{"antialias":8,"FOV":90,"ignoreExtent":false,"listeners":1,"mouseMode":{"left":"polar","right":"fov","middle":"zoom","wheel":"pull"},"observer":[0,0,56.0254440307617],"modelMatrix":[[1,0,0,0.184535026550293],[0,0.965925812721252,-0.258819043636322,7.64016962051392],[0,0.258819043636322,0.965925812721252,-82.5628967285156],[0,0,0,1]],"projMatrix":[[1,0,0,0],[0,1,0,0],[0,0,-1.41421341896057,-39.6159706115723],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.965925812721252,-0.258819043636322,0],[0,0.258819043636322,0.965925812721252,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0,"y":0,"width":1,"height":1},"zoom":1,"bbox":[-19.5724430084229,19.2033729553223,-27.0839862823486,26.061107635498,5.53273057937622,49.688533782959],"windowRect":[833,460,1089,716],"family":"sans","font":1,"cex":1,"useFreeType":true,"fontname":"/home/stg/R/x86_64-pc-linux-gnu-library/3.3/rgl/fonts/FreeSans.ttf","maxClipPlanes":8},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[6,7,5],"subscenes":[],"flags":1152}},"width":257,"height":257,"sphereVerts":{"material":[],"it":[[0,6,7,19,4,8,6,22,2,7,8,25,7,6,8,26,0,7,9,27,2,10,7,24,5,9,10,32,9,7,10,33,0,11,6,18,3,12,11,37,4,6,12,39,6,11,12,40,0,9,11,34,5,13,9,31,3,11,13,44,11,9,13,45,1,14,15,47,2,8,14,49,4,15,8,21,15,14,8,52,1,16,14,46,5,10,16,55,2,14,10,29,14,16,10,57,1,15,17,58,4,12,15,51,3,17,12,36,17,15,12,62,1,17,16,53,3,13,17,61,5,16,13,42,16,17,13,65],[18,20,19,18,21,23,22,21,24,26,25,24,20,23,26,20,19,28,27,19,29,30,24,29,31,33,32,31,28,30,33,28,34,35,18,34,36,38,37,36,22,40,39,22,35,38,40,35,27,41,34,27,42,43,31,42,37,45,44,37,41,43,45,41,46,48,47,46,25,50,49,25,51,52,21,51,48,50,52,48,53,54,46,53,32,56,55,32,49,57,29,49,54,56,57,54,47,59,58,47,39,60,51,39,61,62,36,61,59,60,62,59,58,63,53,58,44,64,61,44,55,65,42,55,63,64,65,63],[19,18,20,20,22,21,23,23,25,24,26,26,26,20,23,23,27,19,28,28,24,29,30,30,32,31,33,33,33,28,30,30,18,34,35,35,37,36,38,38,39,22,40,40,40,35,38,38,34,27,41,41,31,42,43,43,44,37,45,45,45,41,43,43,47,46,48,48,49,25,50,50,21,51,52,52,52,48,50,50,46,53,54,54,55,32,56,56,29,49,57,57,57,54,56,56,58,47,59,59,51,39,60,60,36,61,62,62,62,59,60,60,53,58,63,63,61,44,64,64,42,55,65,65,65,63,64,64]],"vb":[[-1,1,0,0,0,0,-0.707106781186548,-0.707106781186548,0,-0.707106781186548,0,-0.707106781186548,0,0,0.707106781186548,0.707106781186548,0.707106781186548,0.707106781186548,-0.934997526317783,-0.934997526317783,-0.770440042047682,0,-0.354654234120539,-0.450789386304495,-0.354654234120539,0,-0.450789386304495,-0.934997526317783,-0.770440042047682,0,-0.450789386304495,-0.354654234120539,0,-0.450789386304495,-0.934997526317783,-0.770440042047682,0,-0.354654234120539,-0.450789386304495,0,-0.450789386304495,-0.770440042047682,0,-0.450789386304495,0,-0.450789386304495,0.934997526317783,0.934997526317783,0.770440042047682,0.354654234120539,0.450789386304495,0.354654234120539,0.450789386304495,0.934997526317783,0.770440042047682,0.354654234120539,0.450789386304495,0.450789386304495,0.934997526317783,0.770440042047682,0.450789386304495,0.354654234120539,0.450789386304495,0.770440042047682,0.450789386304495,0.450789386304495],[0,0,-1,1,0,0,0,-0.707106781186548,-0.707106781186548,0,-0.707106781186548,0.707106781186548,0.707106781186548,0.707106781186548,-0.707106781186548,0,0,0.707106781186548,0,-0.354654234120539,-0.450789386304495,-0.354654234120539,0,-0.450789386304495,-0.934997526317783,-0.934997526317783,-0.770440042047682,0,-0.450789386304495,-0.934997526317783,-0.770440042047682,0,-0.354654234120539,-0.450789386304495,0.354654234120539,0.450789386304495,0.934997526317783,0.934997526317783,0.770440042047682,0.354654234120539,0.450789386304495,0.450789386304495,0.354654234120539,0.450789386304495,0.934997526317783,0.770440042047682,-0.354654234120539,0,-0.450789386304495,-0.934997526317783,-0.770440042047682,0,-0.450789386304495,0,-0.450789386304495,0,-0.450789386304495,-0.770440042047682,0.354654234120539,0.450789386304495,0.450789386304495,0.934997526317783,0.770440042047682,0.450789386304495,0.770440042047682,0.450789386304495],[0,0,0,0,-1,1,-0.707106781186548,0,-0.707106781186548,0.707106781186548,0.707106781186548,0,-0.707106781186548,0.707106781186548,0,-0.707106781186548,0.707106781186548,0,-0.354654234120539,0,-0.450789386304495,-0.934997526317783,-0.934997526317783,-0.770440042047682,0,-0.354654234120539,-0.450789386304495,0.354654234120539,0.450789386304495,0.354654234120539,0.450789386304495,0.934997526317783,0.934997526317783,0.770440042047682,0,-0.450789386304495,-0.354654234120539,0,-0.450789386304495,-0.934997526317783,-0.770440042047682,0.450789386304495,0.934997526317783,0.770440042047682,0.354654234120539,0.450789386304495,0,-0.354654234120539,-0.450789386304495,0,-0.450789386304495,-0.934997526317783,-0.770440042047682,0.354654234120539,0.450789386304495,0.934997526317783,0.770440042047682,0.450789386304495,0,-0.450789386304495,-0.770440042047682,0,-0.450789386304495,0.450789386304495,0.450789386304495,0.770440042047682]],"primitivetype":"triangle"}},"evals":[],"jsHooks":[]}</script>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
